<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<link rel="preconnect" href="https://phprox.qovery.com">
<script>!function(t,e){var o,p,i,n;e.__SV||(window.posthog=e,e._i=[],e.init=function(r,s,c){function a(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.src=s.api_host+"/static/array.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n);var g=e;for(void 0!==c?g=e[c]=[]:c="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==c&&(e+="."+c),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<o.length;p++)a(g,o[p]);e._i.push([r,s,c])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_IgdG1K2GveDUte1gJ6hlwNbFHCv9nViWETUyLMU7ciq",{api_host:"https://phprox.qovery.com"})</script>
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Qovery Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Qovery Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<script src="/js/intercom.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=UA-129773960-5" async></script>
<script src="/js/ga.js"></script>

<title data-react-helmet="true">How to activate SSO to connect to your EKS cluster | Qovery</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="How to activate SSO to connect to your EKS cluster | Qovery"><meta data-react-helmet="true" name="msapplication-TileColor" content="#da532c"><meta data-react-helmet="true" name="theme-color" content="#ffffff"><meta data-react-helmet="true" name="description" content="How to activate SSO to connect to your EKS cluster, in minutes, for free"><meta data-react-helmet="true" property="og:description" content="How to activate SSO to connect to your EKS cluster, in minutes, for free"><meta data-react-helmet="true" property="og:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for How to activate SSO to connect to your EKS cluster | Qovery"><meta data-react-helmet="true" property="og:url" content="https://docs.qovery.com/guides/tutorial/how-to-activate-sso-to-connect-to-your-eks-cluster/"><meta data-react-helmet="true" name="twitter:card" content="summary">

<link data-react-helmet="true" rel="icon" href="/favicons/favicon.svg"><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png"><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"><link data-react-helmet="true" rel="manifest" href="/favicons/site.webmanifest"><link data-react-helmet="true" rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5"><link data-react-helmet="true" rel="canonical" href="https://docs.qovery.com/guides/tutorial/how-to-activate-sso-to-connect-to-your-eks-cluster/">


<link rel="stylesheet" href="/styles.90c21fa3.css">


<link rel="preload" href="/styles.8f245596.js" as="script">

<link rel="preload" href="/runtime~main.c4d3ba30.js" as="script">

<link rel="preload" href="/main.5b961d30.js" as="script">

<link rel="preload" href="/1.7ec1965e.js" as="script">

<link rel="preload" href="/2.68b55ed0.js" as="script">

<link rel="preload" href="/3.54f3f49b.js" as="script">

<link rel="preload" href="/1c13b173.8ca3782b.js" as="script">

<link rel="preload" href="/06e8d299.26869a9c.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/">Guides</a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/tutorial">Tutorials</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"><i class="feather icon-github"></i> </a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_34Mc moon_313u"></span></div><div class="react-toggle-track-x"><span class="toggle_34Mc sun_1Og-"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/">Guides</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" href="/docs/">Docs</a></li><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/tutorial">Tutorials</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"></a></li></ul></div></div></div></nav><div class="main-wrapper"><header class="hero domain-bg domain-bg--default"><div class="container"><div class="hero--category"><a aria-current="page" class="active" href="/guides/tutorial/">tutorial</a></div><h1 class="header_1mJE">How to activate SSO to connect to your EKS cluster</h1><div class="hero--subtitle">How to activate SSO to connect to your EKS cluster</div><div class="tags_3AF9"><a class="badge badge--rounded badge--pink" href="/guides/tags/type-tutorial/">type: tutorial</a><a class="badge badge--rounded badge--primary" href="/guides/tags/installation-guide-aws/">installation_guide: aws</a></div></div></header><main class="container container--l container_1ncB"><aside class="sidebar_1pU0"><section class="avatar_1sJg"><div class="avatar avatar--lg avatar--vertical"><img class="avatar__photo avatar__photo--lg" src="https://github.com/benjaminch.png"><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/benjaminch" target="_blank" rel="author">Benjamin Chastanier</a></div><small class="avatar__subtitle">Benjamin is a senior Backend Developer at <a href="https://www.qovery.com">Qovery</a>.</small></div></div></section><section class="table-of-contents tableOfContents_1eMQ"><div class="section"><div class="title">Stats</div><div class="text--secondary text--bold"><i class="feather icon-book"></i> 6 min read</div><div class="text--secondary text--bold"><i class="feather icon-clock"></i> Updated <time pubdate="pubdate" datetime="2024-01-05">Jan 5th, 2024</time></div></div><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#overview" class="contents__link">Overview</a></li><li><a href="#goal" class="contents__link">Goal</a></li><li><a href="#conclusion" class="contents__link">Conclusion</a></li></ul></div></section></aside><div class="article_mCV7"><article><div class="markdown"><a aria-hidden="true" tabindex="-1" class="anchor" id="overview"></a><p>Qovery makes it easy to create an EKS cluster on your AWS account and manage the deployment of applications on it. But you still might want to execute operations on it via <code>kubectl</code> like you would on any other Kubernetes cluster.
You have several ways to connect to your cluster:</p><ul><li>Activate IAM group sync, more on that <a href="/guides/tutorial/how-to-connect-to-your-eks-cluster-with-kubectl/">here</a></li><li>Activate SSO support on your cluster allowing users to connect using AWS SSO.</li></ul><div class="alert alert--info alert--fill" role="alert"><p class="text--lg margin-bottom--sm" style="margin-top:-0.25em">Before you begin, this guide assumes the following:</p><ul><li>You have AWS CLI installed</li><li>You have configured an <code>Admins</code> group (or any group used for admins) as described in the <a href="/guides/installation-guide/guide-amazon-web-services/">Qovery AWS setup</a></li><li>You have an existing EKS cluster managed by Qovery</li><li>You have followed <a href="https://aws.amazon.com/fr/blogs/containers/a-quick-path-to-amazon-eks-single-sign-on-using-aws-sso/">this AWS tutorial</a> up to <code>AWS SSO user configuration</code> excluded.</li></ul></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="goal"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#goal" title="Direct link to heading">#</a>Goal</h2><p>This tutorial will show you how to access a Qovery managed cluster using AWS SSO.</p><div class="steps steps--h3"><ol><li><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="install-and-configure-your-toolchain"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#install-and-configure-your-toolchain" title="Direct link to heading">#</a>Install and configure your toolchain</h4><p><strong>kubectl</strong></p><p>To interact with your cluster, you will need <code>kubectl</code> installed.
<a href="https://kubernetes.io/docs/tasks/tools/">https://kubernetes.io/docs/tasks/tools/</a></p><p><strong>AWS CLI</strong></p><p>The AWS CLI must be installed and configured on your machine.
<a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html">https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html</a></p></li><li><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="select-iam-user-group-you-configured-for-qovery-as-admin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#select-iam-user-group-you-configured-for-qovery-as-admin" title="Direct link to heading">#</a>Select IAM user group you configured for Qovery as admin</h4><p>In AWS console, go to <code>IAM &gt; User Groups</code></p><p align="center"><img src="/img/how-to-activate-sso-to-connect-to-your-eks-cluster/0-go-to-iam-user-groups.png" alt="AWS console - go to user groups"></p><p>then select the group you configured as admin group for Qovery (<code>Admins</code> in the example below).</p><p align="center"><img src="/img/how-to-activate-sso-to-connect-to-your-eks-cluster/1-select-admins-iam-user-group.png" alt="AWS console - select admin user group"></p></li><li><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="create-a-new-policy-to-this-group-allowing-full-access-to-eks-resources"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-a-new-policy-to-this-group-allowing-full-access-to-eks-resources" title="Direct link to heading">#</a>Create a new policy to this group allowing full access to EKS resources</h4><p>In this admin group, go to <code>permissions</code> tab. Click on <code>Add permissions &gt; Create inline policy</code>.</p><p align="center"><img src="/img/how-to-activate-sso-to-connect-to-your-eks-cluster/2-create-new-inline-policy-to-admin-user-group.png" alt="AWS console - create new inline policy"></p><p>Switch to JSON view.</p><p align="center"><img src="/img/how-to-activate-sso-to-connect-to-your-eks-cluster/3-inline-policy-creation-json-view.png" alt="AWS console - switch to inline policy creation json view"></p><p>Put this content to the <code>Policy editor</code>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-json codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;Version&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2012-10-17&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;Statement&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;Effect&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Allow&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;Action&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;eks:*&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;sts:AssumeRole&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;Resource&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></pre></div></div><p>Then click on <code>Next</code>.</p><p align="center"><img src="/img/how-to-activate-sso-to-connect-to-your-eks-cluster/4-edit-inline-policy-content.png" alt="AWS console - edit inline policy content"></p><p>Give a name to this new policy, for example <code>SSO_EKSClusterAdminAccess</code>. Then click on <code>Create Policy</code>.</p><p align="center"><img src="/img/how-to-activate-sso-to-connect-to-your-eks-cluster/5-create-inline-policy.png" alt="AWS console - create inline policy"></p></li><li><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="set-up-cli-with-sso-access-to-eks"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#set-up-cli-with-sso-access-to-eks" title="Direct link to heading">#</a>Set up CLI with SSO access to EKS</h4><p>Create a named SSO profile using AWS CLI.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">aws configure sso</span></div></div></pre></div></div><p>You will be prompted an SSO session name, put what you want, I used <code>sso-benjamin</code>.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">SSO session name </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Recommended</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">: sso-benjamin</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Attempting to automatically </span><span class="token function" style="color:#d73a49">open</span><span class="token plain"> the SSO authorization page </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> your default browser.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">If the browser does not </span><span class="token function" style="color:#d73a49">open</span><span class="token plain"> or you wish to use a different device to authorize this request, </span><span class="token function" style="color:#d73a49">open</span><span class="token plain"> the following URL:</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">https://device.sso.us-east-2.amazonaws.com/</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Then enter the code:</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">FHTG-****</span></div></div></pre></div></div><p>You will be redirected to your browser, validate the form.</p><p>Then you will be prompted to select your AWS account.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">There are </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> AWS account available to you.</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> qovery, q@qovery.com </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">283389</span><span class="token plain">****</span><span class="token punctuation" style="color:#393A34">)</span></div></div></pre></div></div><p>Then you will be prompted for default region (<code>eu-west-3</code> in my case), output format (<code>json</code> in my case) and profile name (<code>bchastanier_sso</code> in my case, but feel free to pick whatever you want).</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">Using the account ID </span><span class="token number" style="color:#36acaa">283389</span><span class="token plain">****</span></div><div class="token-line" style="color:#393A34"><span class="token plain">The only role available to you is: AdministratorAccess</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Using the role name </span><span class="token string" style="color:#e3116c">&quot;AdministratorAccess&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">CLI default client Region </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">None</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: eu-west-3</span></div><div class="token-line" style="color:#393A34"><span class="token plain">CLI default output </span><span class="token function" style="color:#d73a49">format</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">None</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: json</span></div><div class="token-line" style="color:#393A34"><span class="token plain">CLI profile name: bchastanier_sso</span></div></div></pre></div></div></li><li><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="get-sso-role-arn"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#get-sso-role-arn" title="Direct link to heading">#</a>Get SSO role ARN</h4><p>Go to AWS console &gt; IAM &gt; Roles.</p><p align="center"><img src="/img/how-to-activate-sso-to-connect-to-your-eks-cluster/6-iam-roles.png" alt="AWS console - go to aws iam roles"></p><p>Look for a role named <code>AWSReservedSSO_xx</code> and select it (name can varies based on what you have configured / how you named your <code>Admins</code> user group, but it should start with <code>AWSReservedSSO_</code>).</p><p align="center"><img src="/img/how-to-activate-sso-to-connect-to-your-eks-cluster/7-iam-roles-look-for-sso-role.png" alt="AWS console - look for SSO role"></p><p>Copy its ARN and keep it somewhere, you will need it in next step.</p><p align="center"><img src="/img/how-to-activate-sso-to-connect-to-your-eks-cluster/8-iam-roles-copy-arn.png" alt="AWS console - copy SSO role ARN"></p></li><li><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="enable-sso-on-your-cluster"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#enable-sso-on-your-cluster" title="Direct link to heading">#</a>Enable SSO on your cluster</h4><p>Go to your clusters in Qovery console and click on cluster you want to activate SSO on settings.</p><p align="center"><img src="/img/how-to-activate-sso-to-connect-to-your-eks-cluster/9-qovery-go-to-cluster-settings.png" alt="AWS console - go to qovery cluster settings"></p><p>Then go to advanced settings, and set:</p><ul><li><code>aws.iam.enable_sso</code> to <code>true</code></li><li><code>aws.iam.sso_role_arn</code> to the SSO role ARN string you copy from previous step.</li></ul><p align="center"><img src="/img/how-to-activate-sso-to-connect-to-your-eks-cluster/10-qovery-cluster-advanced-settings-enable-sso.png" alt="AWS console - set qovery cluster advanced settings to enable SSO"></p><p>Redeploy your cluster once advanced settings are saved.</p></li><li><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="download-the-kubeconfig-file"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#download-the-kubeconfig-file" title="Direct link to heading">#</a>Download the Kubeconfig file</h4><p>To connect to your EKS cluster you will need to set a context to <code>kubectl</code>. This is done with a <code>Kubeconfig</code> file.</p><p>When installing a new cluster, Qovery stores it in an S3 bucket on your account. You can retrieve the Kubeconfig of your cluster directly from the Qovery interface by following the procedure &quot;Get your cluster kubeconfig file&quot; <a href="/docs/using-qovery/configuration/clusters/#performing-actions-on-your-clusters">within this section</a>.</p></li><li><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="connect-to-your-cluster"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#connect-to-your-cluster" title="Direct link to heading">#</a>Connect to your cluster</h4><p>Connect via the CLI running this command:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">aws sso login --profile </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your-sso-profile-you-set-before</span><span class="token operator" style="color:#393A34">&gt;</span></div></div></pre></div></div><p>This will open your browser and prompt you to connect, validate the form.</p><p align="center"><img src="/img/how-to-activate-sso-to-connect-to-your-eks-cluster/12-validate-sso-connection-in-browser.png" alt="AWS console - validate SSO connection in browser"></p><p>Now you should be able to access your cluster without anything else, let&#x27;s try to get <code>aws-auth</code> configmap showing users and roles allowed to connect to the cluster:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">AWS_PROFILE</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your-sso-profile-you-set-before</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> kubectl describe -n kube-system configmap/aws-auth</span></div></div></pre></div></div><p>This should give you the config map content. If not, something is not properly configured.</p></li></ol><div class="steps--feedback">How was it? Did this tutorial work?  <span class="button button--sm button--primary">Yes</span>  <a href="https://github.com/qovery/documentation/issues/new?body=The%20tutorial%20on%3A%0A%0Anull%0A%0AHere%27s%20what%20went%20wrong%3A%0A%0A%3C%21--%20Insert%20command%20output%20and%20details.%20Thank%20you%20for%20reporting%21%20%3A%29%20--%3E&amp;title=Tutorial%20on%20null%20failed" target="_blank" class="button button--sm button--primary">No</a></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="conclusion"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#conclusion" title="Direct link to heading">#</a>Conclusion</h2><p>You can access your Qovery clusters via your SSO directly.</p></div></article></div></main></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><p>Qovery is a DevOps Automation Platform Helping 200+ Organizations To Ship Faster and Eliminate DevOps Hiring Needs.</p></div><div><a href="https://github.com/qovery" target="_blank"><i class="feather icon-github" alt="Qovery&#x27;s Github Repo"></i></a>    <a href="https://www.linkedin.com/company/qovery/" target="_blank"><i class="feather icon-rss" alt="Qovery&#x27;s Linkedin"></i></a>    <a href="https://twitter.com/qovery_" target="_blank"><i class="feather icon-twitter" alt="Qovery&#x27;s Twitter"></i></a></div></div><div class="col footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Documentation</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/guides">Guides</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/guides/tutorial">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/guides/engineering">Engineering</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/pricing" href="https://www.qovery.com/pricing">Pricing</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/enterprise" href="https://www.qovery.com/enterprise">Enterprise</a></li><li class="footer__item"><a class="footer__link-item" to="https://api-doc.qovery.com" href="https://api-doc.qovery.com">API</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery" href="https://github.com/Qovery">Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://community.qovery.com" href="https://community.qovery.com">Forum</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/community-call" href="https://www.qovery.com/community-call">Community call</a></li><li class="footer__item"><a class="footer__link-item" to="https://shop.qovery.com" href="https://shop.qovery.com">Goodies</a></li><li class="footer__item"><a class="footer__link-item" to="https://roadmap.qovery.com" href="https://roadmap.qovery.com">Roadmap</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery/replibyte" href="https://github.com/Qovery/replibyte">Replibyte</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/blog" href="https://www.qovery.com/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" to="https://jobs.qovery.com" href="https://jobs.qovery.com">Jobs</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/team" href="https://www.qovery.com/team">Team</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/investors" href="https://www.qovery.com/investors">Investors</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/contact" href="https://www.qovery.com/contact">Contact</a></li></ul></div></div><div class="text--center"><small>© 2024 DESIGNED BY QOVERY | PROUD SILVER MEMBER OF CNCF AND LINUX FOUNDATION | QOVERY BY BIRDSIGHT - ALL RIGHTS RESERVED</small><br></div></div></footer>
</div>

<script src="/styles.8f245596.js"></script>

<script src="/runtime~main.c4d3ba30.js"></script>

<script src="/main.5b961d30.js"></script>

<script src="/1.7ec1965e.js"></script>

<script src="/2.68b55ed0.js"></script>

<script src="/3.54f3f49b.js"></script>

<script src="/1c13b173.8ca3782b.js"></script>

<script src="/06e8d299.26869a9c.js"></script>


</body>
</html>