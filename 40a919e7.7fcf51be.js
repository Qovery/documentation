/*! For license information please see 40a919e7.7fcf51be.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{230:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return b})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return u}));var a=n(1),r=n(9),o=(n(0),n(433)),i=n(442),c=n(432),l={last_modified_on:"2022-06-24",title:"Slack",description:"Learn how to connect Qovery to your Slack workspace"},b={id:"using-qovery/integration/slack",title:"Slack",description:"Learn how to connect Qovery to your Slack workspace",source:"@site/docs/using-qovery/integration/slack.md",permalink:"/docs/using-qovery/integration/slack",editUrl:"https://github.com/Qovery/documentation/edit/master/website/docs/using-qovery/integration/slack.md",sidebar:"docs",previous:{title:"API",permalink:"/docs/using-qovery/integration/api-integration"},next:{title:"Maintenance",permalink:"/docs/using-qovery/maintenance"}},p=[{value:"1. Create a Slack App",id:"1-create-a-slack-app",children:[]},{value:"2. Create a Webhook",id:"2-create-a-webhook",children:[]},{value:"3. Create a Webhook in Qovery",id:"3-create-a-webhook-in-qovery",children:[{value:"Filter your Event Notifications",id:"filter-your-event-notifications",children:[]},{value:"Considerations",id:"considerations",children:[]}]},{value:"4. Try it!",id:"4-try-it",children:[]}],s={rightToc:p};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"If you'd like to automatically notify your team on a Slack workspace whenever a change has occurred on your apps, this integration will help you out. You can choose which actions should trigger messages on your Slack workspace."),Object(o.b)("p",null,"Here are the steps that we are going through:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"#1-create-a-slack-app"}),"Create a Slack App")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"#2-create-webhook"}),"Create a Webhook")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"#3-create-webhook-in-qovery"}),"Setup a Webhook in Qovery")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"#4-try-it"}),"Try it!"))),Object(o.b)("h2",{id:"1-create-a-slack-app"},"1. Create a Slack App"),Object(o.b)(i.a,{headingDepth:3,mdxType:"Steps"},Object(o.b)("ol",null,Object(o.b)("li",null,Object(o.b)("p",null,"Go to the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://api.slack.com/apps?new_app=1"}),"Slack page to create apps")," and create a new app:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/slack/create-app-slack-1.png",alt:"Create a slack app - step 1"}))),Object(o.b)("li",null,Object(o.b)("p",null,"Create a Slack app from scratch:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/slack/create-app-slack-2.png",alt:"Create a slack app - step 2"}))),Object(o.b)("li",null,Object(o.b)("p",null,"Call it ",Object(o.b)("inlineCode",{parentName:"p"},"Qovery")," and connect it to the workspace of your choice:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/slack/create-app-slack-3.png",alt:"Create a slack app - step 3"}))),Object(o.b)("li",null,Object(o.b)("p",null,"Feel free to use an image from ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://raw.githubusercontent.com/Qovery/public-resources/master/qovery_square_new_logo_with_margin.png"}),"here")," as the app's logo:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/slack/create-app-slack-4.png",alt:"Create a slack app - step 4"}))))),Object(o.b)("h2",{id:"2-create-a-webhook"},"2. Create a Webhook"),Object(o.b)(i.a,{headingDepth:3,mdxType:"Steps"},Object(o.b)("ol",null,Object(o.b)("li",null,Object(o.b)("p",null,"Go to the ",Object(o.b)("inlineCode",{parentName:"p"},"Incoming Webhooks")," page for your newly-created app and toggle ",Object(o.b)("inlineCode",{parentName:"p"},"Activate Incoming Webhooks")," to turn it on:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/slack/create-webhook-1.png",alt:"Create a webhook integration on Slack - step 1"}))),Object(o.b)("li",null,Object(o.b)("p",null,"Click on ",Object(o.b)("inlineCode",{parentName:"p"},"Add New Webhook to Workspace"),":"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/slack/create-webhook-2.png",alt:"Create a webhook integration on Slack - step 2"}))),Object(o.b)("li",null,Object(o.b)("p",null,"Select the channel that the notifications will be posted to:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/slack/create-webhook-3.png",alt:"Create a webhook integration on Slack - step 3"}))),Object(o.b)("li",null,Object(o.b)("p",null,"Copy the webhook URL:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/slack/create-webhook-4.png",alt:"Create a webhook integration on Slack - step 4"}))))),Object(o.b)("h2",{id:"3-create-a-webhook-in-qovery"},"3. Create a Webhook in Qovery"),Object(o.b)("p",null,"To create a webhook in Qovery:"),Object(o.b)(i.a,{headingDepth:3,mdxType:"Steps"},Object(o.b)("ol",null,Object(o.b)("li",null,Object(o.b)("p",null,"Install the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/using-qovery/interface/cli/"}),"Qovery CLI"),".")),Object(o.b)("li",null,Object(o.b)("p",null,"Generate an ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/using-qovery/interface/cli/#generate-api-token"}),"API Token"),".")),Object(o.b)("li",null,Object(o.b)("p",null,"Copy the following cURL command:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'curl -X POST -H \'Content-type: application/json\' -H \'Authorization: Token <Your API Token>\' -d \\\n\'{"description": "slack notifications", "target_url": "<Your Slack Webhook URL>", "events": ["DEPLOYMENT_STARTED", "DEPLOYMENT_CANCELLED", "DEPLOYMENT_SUCCESSFUL", "DEPLOYMENT_FAILURE"], "kind": "SLACK", "enabled": true}\' \\\n"https://api.qovery.com/organization/{Your Organization ID}/webhook"\n'))),Object(o.b)("li",null,Object(o.b)("p",null,"Replace ",Object(o.b)("inlineCode",{parentName:"p"},"<Your API Token>")," with your Qovery API token.")),Object(o.b)("li",null,Object(o.b)("p",null,"Replace ",Object(o.b)("inlineCode",{parentName:"p"},"<Your Slack Webhook URL>")," with your Slack Webhook URL.")),Object(o.b)("li",null,Object(o.b)("p",null,"Replace ",Object(o.b)("inlineCode",{parentName:"p"},"{Your Organization ID}")," with your Qovery organization ID."),Object(o.b)("details",null,Object(o.b)("summary",null,"Learn how to get your Organization ID"),Object(o.b)("p",null,"Your Organization ID is the first ID in your ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://start.qovery.com"}),"console.qovery.com")," URL. E.g. for ",Object(o.b)("inlineCode",{parentName:"p"},"https://console.qovery.com/platform/organization/70c9a78d-454b-41dc-8478-d1f95bd08fd7/projects")," the Organization ID is ",Object(o.b)("inlineCode",{parentName:"p"},"70c9a78d-454b-41dc-8478-d1f95bd08fd7")))),Object(o.b)("li",null,Object(o.b)("p",null,"Run the complete cURL command in your terminal."),Object(o.b)("p",null,"You must receive a REST response from the API if it's all good!")))),Object(o.b)("h3",{id:"filter-your-event-notifications"},"Filter your Event Notifications"),Object(o.b)("p",null,"You can also add the following properties to your cURL command:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"project_names_filter")," to only get notified about events happening in projects whose IDs match the specified filter."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"environment_types_filter")," to only get notified about events happening on one or several specific types of environments.")),Object(o.b)(c.a,{type:"info",mdxType:"Alert"},Object(o.b)("p",null,"These 2 properties can be used together. For more information on how to use them, see ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/using-qovery/integration/webhook/"}),"Webhooks"),".")),Object(o.b)("p",null,"Here is an example of command to send webhook events only for production and staging environments:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'curl -X POST -H \'Content-type: application/json\' -H \'Authorization: Token <Your API Token>\' -d \\\n\'{"description": "slack notifications", "target_url": "<Your Slack Webhook URL>", "environment_types_filter": ["PRODUCTION", "STAGING"], "events": ["DEPLOYMENT_STARTED", "DEPLOYMENT_CANCELLED", "DEPLOYMENT_SUCCESSFUL", "DEPLOYMENT_FAILURE"], "kind": "SLACK", "enabled": true}\' \\\n"https://api.qovery.com/organization/{Your Organization ID}/webhook"\n')),Object(o.b)("p",null,"And another to send webhook events only for project with names starting by ",Object(o.b)("inlineCode",{parentName:"p"},"product")," or equal to ",Object(o.b)("inlineCode",{parentName:"p"},"analytics"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'curl -X POST -H \'Content-type: application/json\' -H \'Authorization: Token <Your API Token>\' -d \\\n\'{"description": "slack notifications", "target_url": "<Your Slack Webhook URL>", "project_names_filter": ["product*", "analytics"], "events": ["DEPLOYMENT_STARTED", "DEPLOYMENT_CANCELLED", "DEPLOYMENT_SUCCESSFUL", "DEPLOYMENT_FAILURE"], "kind": "SLACK", "enabled": true}\' \\\n"https://api.qovery.com/organization/{Your Organization ID}/webhook"\n')),Object(o.b)("h3",{id:"considerations"},"Considerations"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"You can have multiple webhooks targeting different Slack channels."),Object(o.b)("li",{parentName:"ul"},"You can specify the events that you want to receive. E.g. if you just want to be notified when a deployment failed, then use ",Object(o.b)("inlineCode",{parentName:"li"},'"events": ["DEPLOYMENT_FAILURE"]'),". All the events and the description are available ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://api-doc.qovery.com/#tag/Organization-Webhook/operation/createOrganizationWebhook"}),"on our API doc"),"."),Object(o.b)("li",{parentName:"ul"},"You can turn off or delete your webhooks at any time with ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://api-doc.qovery.com/#tag/Organization-Webhook/operation/deleteOrganizationWebhook"}),"this API call"),"."),Object(o.b)("li",{parentName:"ul"},"The Qovery web interface will integrate the Webhook configuration. :)")),Object(o.b)("p",null,"Check out ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/using-qovery/integration/webhook/"}),"this page")," for further details on how to use the WebHook API."),Object(o.b)("h2",{id:"4-try-it"},"4. Try it!"),Object(o.b)("p",null,"Launch a deployment with Qovery, and you will see a message like the one below appearing in your Slack channel \ud83c\udf89"),Object(o.b)("div",{class:"video-container"},Object(o.b)("p",{align:"center"},Object(o.b)("iframe",{src:"https://www.loom.com/embed/903ef59767ad4f95a59219d631a66d59",width:"100%",height:"100%",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0}))),Object(o.b)("p",null,"Open a thread on ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://discuss.qovery.com/"}),"our forum")," if you have any questions."))}u.isMDXComponent=!0},431:function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)&&a.length){var i=r.apply(null,a);i&&e.push(i)}else if("object"===o)for(var c in a)n.call(a,c)&&a[c]&&e.push(c)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},432:function(e,t,n){"use strict";n(436);var a=n(0),r=n.n(a),o=n(431),i=n.n(o);n(132);t.a=function(e){var t=e.children,n=e.classNames,a=e.fill,o=e.icon,c=e.type,l=null;switch(c){case"danger":l="alert-triangle";break;case"success":l="check-circle";break;case"warning":l="alert-triangle";break;default:l="info"}return r.a.createElement("div",{className:i()(n,"alert","alert--"+c,{"alert--fill":a,"alert--icon":!1!==o}),role:"alert"},!1!==o&&r.a.createElement("i",{className:i()("feather","icon-"+(o||l))}),t)}},433:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var b=r.a.createContext({}),p=function(e){var t=r.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},s=function(e){var t=p(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},h=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,b=l(e,["components","mdxType","originalType","parentName"]),s=p(n),h=a,d=s["".concat(i,".").concat(h)]||s[h]||u[h]||o;return n?r.a.createElement(d,c({ref:t},b,{components:n})):r.a.createElement(d,c({ref:t},b))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=h;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var b=2;b<o;b++)i[b]=n[b];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},436:function(e,t,n){var a=n(12);a(a.P,"Array",{fill:n(440)}),n(74)("fill")},440:function(e,t,n){"use strict";var a=n(28),r=n(75),o=n(27);e.exports=function(e){for(var t=a(this),n=o(t.length),i=arguments.length,c=r(i>1?arguments[1]:void 0,n),l=i>2?arguments[2]:void 0,b=void 0===l?n:r(l,n);b>c;)t[c++]=e;return t}},441:function(e,t,n){"use strict";var a=n(443),r=n(51);function o(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,a){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===a[e]&&(a[e]={}),a[e][t[1]]=n):a[e]=n};case"bracket":return function(e,n,a){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==a[e]?a[e]=[].concat(a[e],n):a[e]=[n]:a[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=r({arrayFormat:"none"},t)),a=Object.create(null);return"string"!=typeof e?a:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(r),o,a)})),Object.keys(a).sort().reduce((function(e,t){var n=a[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))):a},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,a){return null===n?[o(t,e),"[",a,"]"].join(""):[o(t,e),"[",o(a,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}(t=r({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(a){var r=e[a];if(void 0===r)return"";if(null===r)return o(a,t);if(Array.isArray(r)){var i=[];return r.slice().forEach((function(e){void 0!==e&&i.push(n(a,e,i.length))})),i.join("&")}return o(a,t)+"="+o(r,t)})).filter((function(e){return e.length>0})).join("&"):""}},442:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(431),n(441)),i=n.n(o);n(134);t.a=function(e){var t=e.children,n=e.headingDepth,o=e.hideFeedbackQuestion,c="undefined"!=typeof window?window.location:null,l={title:"Tutorial on "+c+" failed",body:"The tutorial on:\n\n"+c+"\n\nHere's what went wrong:\n\n\x3c!-- Insert command output and details. Thank you for reporting! :) --\x3e"},b="https://github.com/qovery/documentation/issues/new?"+i.a.stringify(l),p=Object(a.useState)(null),s=p[0],u=p[1];return r.a.createElement("div",{className:"steps steps--h"+n},t,!o&&!s&&r.a.createElement("div",{className:"steps--feedback"},"How was it? Did this tutorial work?\xa0\xa0",r.a.createElement("span",{className:"button button--sm button--primary",onClick:function(){return u("yes")}},"Yes"),"\xa0\xa0",r.a.createElement("a",{href:b,target:"_blank",className:"button button--sm button--primary"},"No")),"yes"==s&&r.a.createElement("div",{className:"steps--feedback steps--feedback--success"},"Thanks! If you're enjoying Qovery please consider ",r.a.createElement("a",{href:"https://github.com/qovery/documentation/",target:"_blank"},"starring our Github repo"),"."))}},443:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}}}]);