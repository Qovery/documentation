---
title: "Cluster Advanced Settings"
description: "Learn how to set advanced settings on your infrastructure with Qovery"
---
import Jump from '@site/src/components/Jump';
import Alert from '@site/src/components/Alert';
import Assumptions from '@site/src/components/Assumptions';

To further fine-tune your Qovery infrastructure, you can set advanced settings through [the Qovery API endpoint](https://api-doc.qovery.com/#tag/Clusters/operation/editClusterAdvancedSettings).

<Alert type="info">

Cluster advanced settings are not available in the Qovery console yet.

</Alert>

All clusters have access to advanced settings, you can find where they are available in the documentation below with those badges mentioning for which Cloud provider they are available:

#### ![](/img/advanced_settings/aws.svg) ![](/img/advanced_settings/scaleway.svg)

You will also find badges mentioning for which components it will be applied:

#### ![](/img/advanced_settings/database-container.svg) ![](/img/advanced_settings/database-managed.svg) 

Below is the list of advanced settings currently available for clusters.

## Logs

#### aws.cloudwatch.eks_logs_retention_days ![](/img/advanced_settings/aws.svg)

| Type    | Description                                                                                                                                                                    | Default Value |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| integer | Maximum retention days in Cloudwatch for EKS logs.<br />(possible values: 0, 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, 2192, 2557, 2922, 3288, 3653)| `90`          |

#### aws.vpc.enable_s3_flow_logs ![](/img/advanced_settings/aws.svg)

| Type    | Description                                                         | Default Value |
|---------|---------------------------------------------------------------------|---------------|
| boolean | Enable flow logs on the cluster VPC and store them in an s3 bucket. | `false`       |

#### aws.vpc.flow_logs_retention_days ![](/img/advanced_settings/aws.svg)

| Type    | Description                                                                        | Default Value |
|---------|------------------------------------------------------------------------------------|---------------|
| integer | Set the number of retention days for flow logs. Unlimited retention with value `0` | `365`         |

#### loki.log_retention_in_week ![](/img/advanced_settings/aws.svg) ![](/img/advanced_settings/scaleway.svg)

| Type    | Description                                                                                 | Default Value  |
|---------|---------------------------------------------------------------------------------------------|----------------|
| integer | Maximum Kubernetes pods (containers/application/jobs/cronjob) retention logs in weeks.      | `12` (84 days) |


## Image registry

#### registry.image_retention_time ![](/img/advanced_settings/aws.svg) ![](/img/advanced_settings/scaleway.svg)

| Type    | Description                                                                                        | Default Value       |
|---------|----------------------------------------------------------------------------------------------------|---------------------|
| integer | Allows you to specify an amount in seconds after which images in the default registry are deleted. | `31536000` (1 year) |

#### cloud_provider.container_registry.tags ![](/img/advanced_settings/aws.svg) ![](/img/advanced_settings/scaleway.svg)

| Type                | Description                                           | Default Value |
|---------------------|-------------------------------------------------------|---------------|
| Map<String, String> | Add additional tags on the cluster dedicated registry |               |

## Network

#### load_balancer.size ![](/img/advanced_settings/scaleway.svg)

| Type    | Description                                                                 | Default Value |
|---------|-----------------------------------------------------------------------------|---------------|
| string  | Allows you to specify the load balancer size in front of your cluster.      | `lb-s`        |

#### database.postgresql.deny_public_access ![](/img/advanced_settings/aws.svg) ![](/img/advanced_settings/database-container.svg) ![](/img/advanced_settings/database-managed.svg) 

| Type    | Description                                                                                                                                                                                                        | Default Value |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| boolean | Deny public access to all PostgreSQL databases.<br />⚠️ Public access to managed databases will instantly be removed<br />⚠️ Public access to container databases will be removed only after a database redeployment | `false`       |

#### database.postgresql.allowed_cidrs ![](/img/advanced_settings/aws.svg) ![](/img/advanced_settings/database-managed.svg) 

| Type    | Description                                                                                    | Default Value   |
|---------|------------------------------------------------------------------------------------------------|-----------------|
| boolean | List of allowed CIDRS. Valid only when `database.postgresql.deny_public_access` is set to true | `["0.0.0.0/0"]` |

#### database.mysql.deny_public_access ![](/img/advanced_settings/aws.svg) ![](/img/advanced_settings/database-container.svg) ![](/img/advanced_settings/database-managed.svg) 

| Type    | Description                                                                                                                                                                                                    | Default Value |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| boolean | Deny public access to all MySQL databases. <br />⚠️ Public access to managed databases will instantly be removed<br />⚠️ Public access to container databases will be removed only after a database redeployment | `false`       |

#### database.mysql.allowed_cidrs ![](/img/advanced_settings/aws.svg) ![](/img/advanced_settings/database-managed.svg) 

| Type    | Description                                                                                    | Default Value   |
|---------|------------------------------------------------------------------------------------------------|-----------------|
| boolean | List of allowed CIDRS. Valid only when `database.mysql.deny_public_access` is set to true      | `["0.0.0.0/0"]` |

#### database.mongodb.deny_public_access ![](/img/advanced_settings/aws.svg) ![](/img/advanced_settings/database-container.svg) ![](/img/advanced_settings/database-managed.svg) 

| Type    | Description                                                                                                                                                                                                     | Default Value |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| boolean | Deny public access to all MongoDB databases.<br />⚠️ Public access to managed databases will instantly be removed<br />⚠️ Public access to container databases will be removed only after a database redeployment | `false`       |

#### database.mongodb.allowed_cidrs ![](/img/advanced_settings/aws.svg) ![](/img/advanced_settings/database-managed.svg) 

| Type    | Description                                                                                    | Default Value   |
|---------|------------------------------------------------------------------------------------------------|-----------------|
| boolean | List of allowed CIDRS. Valid only when `database.mongodb.deny_public_access` is set to true    | `["0.0.0.0/0"]` |

#### database.redis.deny_public_access ![](/img/advanced_settings/aws.svg) ![](/img/advanced_settings/database-container.svg) ![](/img/advanced_settings/database-managed.svg) 

| Type    | Description                                                                                            | Default Value |
|---------|--------------------------------------------------------------------------------------------------------|---------------|
| boolean | Deny public access to all Redis databases.<br />⚠️ Public access to managed databases will instantly be removed<br />⚠️ Public access to container databases will be removed only after a database redeployment | `false`       |

#### database.redis.allowed_cidrs ![](/img/advanced_settings/aws.svg) ![](/img/advanced_settings/database-managed.svg) 

| Type    | Description                                                                                    | Default Value   |
|---------|------------------------------------------------------------------------------------------------|-----------------|
| boolean | List of allowed CIDRS. Valid only when `database.redis.deny_public_access` is set to true      | `["0.0.0.0/0"]` |


## IAM

#### aws.iam.admin_group ![](/img/advanced_settings/aws.svg)
| Type    | Description                                                                 | Default Value |
|---------|-----------------------------------------------------------------------------|---------------|
| string  | Allows you to specify the IAM group name associated with the Qovery user in the AWS console during the [IAM permissions setup][docs.using-qovery.configuration.cloud-service-provider.amazon-web-services#connect-your-aws-account] to be able to connect to the Kubernetes cluster | `Admins`        |

## Miscellaneous

#### aws.eks.ec2.metadata_imds ![](/img/advanced_settings/aws.svg)
| Type    | Description                                                                                                                                                                                               | Default Value |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| string  | Specify the [IMDS](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html) version you want to use. Possible values are `Required` (IMDS v2 only) and `Optional` (IMDS v1 and V2) | `Optional`    |
