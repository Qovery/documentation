---
last_modified_on: "2024-12-20"
$schema: "/.meta/.schemas/guides.json"
title: Deploy an RDS instance with Terraform
description: How to deploy an RDS instance using Terraform job
author_github: https://github.com/baalooos
tags: ["type: tutorial", "technology: qovery", "database: rds"]
hide_pagination: true
---

import Alert from '@site/src/components/Alert';
import Steps from '@site/src/components/Steps';
import Assumptions from '@site/src/components/Assumptions';

In this guide, we will walk you through the process of installing and configuring an AWS RDS instance using Terraform and the Qovery console. This streamlined approach leverages the power of Terraform for infrastructure as code and Qovery for seamless deployment management, ensuring a quick and efficient setup for your database needs.

<Assumptions name="guide">

- You have a Qovery cluster ready
- You have a dedicated Qovery project and environment to deploy your database (example: Project=Database, Environment=Production)
- You have an EKS cluster. It is possible to replicate this for other cloud provider
- You have AWS credentials with enough permission to create a new RDS instance
- You have a repository with your Terraform manifest in it. In this example we will use [this repository](https://github.com/baalooos/Qovery-terraform-example)

</Assumptions>

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the template located at:

     website/guides/tutorial/deploy-rds-with-terraform.md.erb
-->

## Create your service

### Service creation

- Click on create a new service
- Search for Terraform

<p align="center">
  <img src="/img/deploy-rds-with-terraform/create-service.png" alt="Deploy RDS - create service" />
</p>

- Add a name for this service
- Select the credentials to use to connect to Git
- Select the repository, branch and add the path to your manifest
- Click on Continue

### Service configuration

In this example, we will use the inline Dockerfile provided by Qovery. In your Production environment, you should commit the Dockerfile in your repository to make it easier to replicate.

- Click on Continue
- For triggers we use the default configuration:
    - Deploy, Terraform will create our RDS instance when we create the environment
    - Destroy, Terraform will automatically destroy our RDS instance when we destroy the environment.

<Alert type="warning">
    This is only for test purpose. In your Production environment, you don't want to automatically destroy your Database.
</Alert>

- For Execution Behaviour we use the default configuration. Depending on your needs, you may want to increase the `Max duration in seconds`.

<p align="center">
  <img src="/img/deploy-rds-with-terraform/execution-behavior.png" alt="Deploy RDS - Execution Behavior" />
</p>

- Click on Continue
- Default resources should be enough to run Terraform. If you modify the Dockerfile, you may need to increase these values
- Click on Continue

### Environment Variables configuration

- Create new environment variables:
    - AWS_REGION
- Create new secrets:
    - AWS_ACCESS_KEY_ID
    - AWS_SECRET_ACCESS_KEY
    - DB_USERNAME
    - DB_PASSWORD
- Edit the TF_VAR variable with the following content:

```
region={{AWS_REGION}}
vpc_id=[xxx]
subnet_ids=["xxx", "xxx", "xxx"]
db_name="my_db"
db_engine="mysql"
db_version="8.0"
db_insrtance="db.t4g.micro"
db_storage="10"
db_username={{DB_USERNAME}}
db_password={{DB_PASSWORD}}
db_enable_bg="true"
```

<p align="center">
  <img src="/img/deploy-rds-with-terraform/env-vars.png" alt="Deploy RDS - env-vars" />
</p>

- Click on Create and Deploy

## Conclusion

By following this guide, you have successfully installed and configured an AWS RDS instance using Terraform and the Qovery console. This process demonstrates how to combine the flexibility of Terraform with the ease of use provided by Qovery to manage your infrastructure deployments. Whether for development or production, this setup ensures a scalable and reliable database environment.



