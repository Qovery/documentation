---
last_modified_on: "2024-05-04"
title: "Self-Managed Cluster"
description: "Learn how to install and configure Qovery on your GCP Kubernetes Service (GKE) cluster"
---

import TabItem from '@theme/TabItem';

import Steps from '@site/src/components/Steps';
import Alert from '@site/src/components/Alert';
import Tabs from '@theme/Tabs';

<Alert type="info">

If you are not familiar with Kubernetes, we recommend you to use Qovery on a Managed Kubernetes cluster on [AWS][docs.getting-started.install-qovery.aws.cluster-managed-by-qovery.quickstart], [GCP][docs.getting-started.install-qovery.gcp.cluster-managed-by-qovery.quickstart], [Scaleway][docs.getting-started.install-qovery.scaleway.cluster-managed-by-qovery.quickstart], [Azure][docs.getting-started.install-qovery.azure.cluster-managed-by-qovery.quickstart], or contact us.

</Alert>

Qovery Self-Managed (or BYOK: Bring Your Own Kubernetes) is a self-hosted version of Qovery. It allows you to install Qovery on your own Kubernetes cluster.
Read [this article](https://www.qovery.com/blog/kubernetes-cluster-managed-by-qovery-vs-self-managed-byok) to better understand the difference with the Managed Kubernetes by Qovery. In a nutshell, Qovery BYOK is for Kubernetes experts who want to manage their own Kubernetes cluster. In this version, Qovery does not manage the Kubernetes cluster for you.

<Alert type="warning">

Qovery automatically updates **ONLY** the Qovery applications (agent, shell-agent etc..) via the Qovery Helm chart. With the self-managed offer it will be up to you to manage any dependency components (ingress, dns, logging...), making sure they run with the right version over time.

The dependencies provided with the Qovery Helm chart are here to help you with the bootstrap, and are not maintained by Qovery. If you want to simplify the maintenance of your cluster, please look at [Qovery managed Kubernetes offer](https://www.qovery.com/pricing/).

</Alert>

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the template located at:

     website/docs/getting-started/install-qovery/gcp/self-managed-cluster.md.erb
-->

## Prerequisites

<Assumption>

* You have a GCP GKE Kubernetes cluster up and running.
* You have a GCP GKE Kubernetes cluster with at least 4 CPUs and 8GB of RAM.
* You have `kubectl` installed and configured to access your GCP GKE Kubernetes cluster.
* You have `helm` installed.
* You have a Qovery account.

</Assumption>

## Install Qovery on your GCP GKE cluster

<Alert type="info">

Follow [this guide][docs.getting-started.install-qovery.local] to try Qovery on your local machine.

</Alert>

<Tabs
centered={true}
className={"rounded"}
defaultValue={"automatic"}
placeholder="Install Qovery"
select={false}
size={null}
values={[
{"group":"Install","label":"Automatic","value":"automatic"},
{"group":"Install","label":"Manual","value":"manual"},
]}>

<TabItem value="automatic">

<Steps headingDepth={3}>

<ol>

<li>

Install Qovery CLI by running the following command:

<Tabs
  centered={true}
  className={"rounded"}
  defaultValue={"linux"}
  placeholder="Select your OS"
  select={false}
  size={null}
  values={[{"group":"Platforms","label":"Linux","value":"linux"},{"group":"Platforms","label":"MacOS","value":"macos"},{"group":"Platforms","label":"Windows","value":"windows"},{"group": "Platforms","label":"Docker","value":"docker"}]}>

<TabItem value="linux">

<Tabs
  centered={true}
  className="rounded"
  defaultValue="universal"
  values={[{"label":"*nix","value":"universal"},{"label":"Arch Linux","value":"arch"},{"label":"Manual","value":"manual"}]}>

<TabItem value="universal">

To download and install Qovery CLI on any Linux distribution:
```bash
$ curl -s https://get.qovery.com | bash
```

</TabItem>
<TabItem value="arch">

Qovery is part of [AUR](https://aur.archlinux.org/packages) packages, so you can install it with [yay](https://github.com/Jguer/yay):

```bash
$ yay qovery-cli
```

</TabItem>
<TabItem value="manual">

Install the Qovery CLI on Linux manually by downloading the [latest release][urls.qovery_cli_releases], and uncompress its content to a folder into your shell `PATH`.

</TabItem>
</Tabs>
</TabItem>

<TabItem value="macos">

<Tabs
  centered={true}
  className="rounded"
  defaultValue="homebrew"
  values={[{"label":"Homebrew","value":"homebrew"},{"label":"Script","value":"script"},{"label":"Manual","value":"manual"}]}>

<TabItem value="homebrew">

The common solution to install a command line binary on the MacOS is to use [Homebrew][urls.brew].

```bash
# Add Qovery brew repository
$ brew tap Qovery/qovery-cli

# Install the CLI
$ brew install qovery-cli
```

</TabItem>

<TabItem value="script">

To download and install Qovery CLI from the command line:
```bash
$ curl -s https://get.qovery.com | bash
```

</TabItem>

<TabItem value="manual">

Install the Qovery CLI on Mac OS manually by downloading the [latest release][urls.qovery_cli_releases], and uncompress its content to a folder into your shell `PATH`.

</TabItem>

</Tabs>

</TabItem>

<TabItem value="windows">

<Tabs
  centered={true}
  className="rounded"
  defaultValue="scoop"
  values={[{"label":"Scoop","value":"scoop"},{"label":"Manual","value":"manual"}]}>

<TabItem value="scoop">

The classic way to install binaries on Windows is to use [Scoop][urls.scoop].

```bash
# Add Qovery bucket
$ scoop bucket add qovery https://github.com/Qovery/scoop-qovery-cli

# Install the CLI
$ scoop install qovery-cli
```

</TabItem>

<TabItem value="manual">

Install the Qovery CLI on Windows manually by downloading the [latest release][urls.qovery_cli_releases], and uncompress its content to
`C:\Windows`.

</TabItem>

</Tabs>

</TabItem>


<TabItem value="docker">

Install Docker on your local machine and run the following command:

```bash
# Pull and Run the latest Qovery CLI
$ docker run ghcr.io/qovery/qovery-cli:latest help
```

Change `latest` by the version you want to use. For example, to use the version 0.58.4, run:

```bash
$ docker run ghcr.io/qovery/qovery-cli:0.58.4 help
```

Note: `ghcr.io` is the [GitHub Container Registry](https://github.com/Qovery/qovery-cli/pkgs/container/qovery-cli).

</TabItem>

</Tabs>

</li>

<li>

Authenticate with Qovery by running the following command:

```bash
# Sign up and sign in command
$ qovery auth
```

<Alert type="info">

If you are using a headless (without GUI) environment, you can use the following command to sign up and sign in:

```bash
# Sign up and sign in command
$ qovery auth --headless
```

</Alert>

Your browser window with Qovery sign-up page will open. Follow the instructions to sign up and sign in.

</li>

<li>

Set Qovery context:

```bash
qovery context set
```

</li>

<li>

Install Qovery on your GCP GKE cluster:

```bash
qovery cluster install
```

Respond to the prompts to install Qovery on your GCP GKE Kubernetes cluster.

</li>

</ol>

</Steps>

</TabItem>

<TabItem value="manual">

<Steps headingDepth={3}>

<ol>

<li>

Install [Helm][urls.helm] command line tool.

</li>

<li>

Add Qovery Helm repository.

<Alert type="warning">

Qovery Helm Chart is only available for users who have access to Qovery BYOK. [Request your access here](https://www.qovery.com/solutions/bring-your-own-kubernetes).

</Alert>

```bash
helm repo add qovery https://helm.qovery.com
helm repo update
```

</li>

<li>

Login to the [Qovery console][urls.qovery_console], create a cluster of type `Self-Managed`. At the end of the flow you will be able to download the `values.yaml` file associated with this cluster.

</li>

<li>

Now you can customize your values.yaml file based on your need. Learn more about the configuration in the [Configuration page][docs.getting-started.install-qovery.kubernetes.byok-config].

<Alert type="info">

Make sure that all fields having value `set-by-customer` are filled.

</Alert>

Learn more about the configuration in the [Configuration page][docs.getting-started.install-qovery.kubernetes.byok-config].

</li>

<li>

Install Qovery on your Kubernetes cluster.

```bash
helm upgrade --install --wait --atomic --create-namespace -n qovery -f <your-values-file.yaml> \
          --set services.certificates.cert-manager-configs.enabled=false \
          --set services.certificates.qovery-cert-manager-webhook.enabled=false \
          --set services.qovery.qovery-cluster-agent.enabled=false \
          --set services.qovery.qovery-engine.enabled=false \
          qovery qovery/qovery
```
* `-n qovery`: the namespace where Qovery and its dependencies will be installed
* `--set...`: override (only for the first deployment time, if you want to use Cert-Manager) to let cert-manager install its CRDs
* `-f your-values-file.yaml`: the values file you've downloaded, overrided with the Qovery config and your custom config
* `qovery/qovery`: name of the chart to deploy
* `qovery`: name of the release

If you want to use Cert-Manager, you can remove the `--set...` for the future updates (or if already installed):

```bash
helm upgrade --install --create-namespace -n qovery -f <your-values-file.yaml> --wait --atomic qovery qovery/qovery
```

</li>

</ol>

</Steps>

</TabItem>

</Tabs>

That's it, you can now use Qovery on your GCP GKE cluster.

Connect to the [Qovery console][urls.qovery_console] to validate that Qovery is properly installed and start deploying your applications.

## What's Next?

Now that you have Qovery installed on your Kubernetes cluster, you can check that Qovery is properly installed by following the [Validate Installation][docs.getting-started.install-qovery.kubernetes.validate-installation] guide.


[docs.getting-started.install-qovery.aws.cluster-managed-by-qovery.quickstart]: /docs/getting-started/install-qovery/aws/cluster-managed-by-qovery/quickstart/
[docs.getting-started.install-qovery.azure.cluster-managed-by-qovery.quickstart]: /docs/getting-started/install-qovery/azure/cluster-managed-by-qovery/quickstart/
[docs.getting-started.install-qovery.gcp.cluster-managed-by-qovery.quickstart]: /docs/getting-started/install-qovery/gcp/cluster-managed-by-qovery/quickstart/
[docs.getting-started.install-qovery.kubernetes.byok-config]: /docs/getting-started/install-qovery/kubernetes/byok-config/
[docs.getting-started.install-qovery.kubernetes.validate-installation]: /docs/getting-started/install-qovery/kubernetes/validate-installation/
[docs.getting-started.install-qovery.local]: /docs/getting-started/install-qovery/local/
[docs.getting-started.install-qovery.scaleway.cluster-managed-by-qovery.quickstart]: /docs/getting-started/install-qovery/scaleway/cluster-managed-by-qovery/quickstart/
[urls.brew]: https://brew.sh/
[urls.helm]: https://helm.sh
[urls.qovery_cli_releases]: https://github.com/Qovery/qovery-cli/releases
[urls.qovery_console]: https://console.qovery.com
[urls.scoop]: https://scoop.sh/
