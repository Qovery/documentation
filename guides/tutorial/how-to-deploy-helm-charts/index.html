<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<link rel="preconnect" href="https://phprox.qovery.com">
<script>!function(t,e){var o,p,i,n;e.__SV||(window.posthog=e,e._i=[],e.init=function(r,s,c){function a(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.src=s.api_host+"/static/array.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n);var g=e;for(void 0!==c?g=e[c]=[]:c="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==c&&(e+="."+c),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<o.length;p++)a(g,o[p]);e._i.push([r,s,c])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_IgdG1K2GveDUte1gJ6hlwNbFHCv9nViWETUyLMU7ciq",{api_host:"https://phprox.qovery.com"})</script>
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Qovery Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Qovery Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<script src="/js/intercom.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=UA-129773960-5" async></script>
<script src="/js/ga.js"></script>

<title data-react-helmet="true">How to deploy Helm charts | Qovery</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="How to deploy Helm charts | Qovery"><meta data-react-helmet="true" name="description" content="How to deploy Helm charts, in minutes, for free"><meta data-react-helmet="true" property="og:description" content="How to deploy Helm charts, in minutes, for free"><meta data-react-helmet="true" property="og:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for How to deploy Helm charts | Qovery"><meta data-react-helmet="true" property="og:url" content="https://docs.qovery.com/guides/tutorial/how-to-deploy-helm-charts/"><meta data-react-helmet="true" name="twitter:card" content="summary">

<link data-react-helmet="true" rel="shortcut icon" href="/img/logo-square.svg"><link data-react-helmet="true" rel="canonical" href="https://docs.qovery.com/guides/tutorial/how-to-deploy-helm-charts/">


<link rel="stylesheet" href="/styles.ce3a7d36.css">


<link rel="preload" href="/styles.01a28f67.js" as="script">

<link rel="preload" href="/runtime~main.2f6750cb.js" as="script">

<link rel="preload" href="/main.120c9466.js" as="script">

<link rel="preload" href="/1.f6809121.js" as="script">

<link rel="preload" href="/2.6f47ba61.js" as="script">

<link rel="preload" href="/3.856bf560.js" as="script">

<link rel="preload" href="/1c13b173.080c0376.js" as="script">

<link rel="preload" href="/4fed1128.8c706a2b.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/">Guides</a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/tutorial">Tutorials</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"><i class="feather icon-github"></i> </a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_34Mc moon_313u"></span></div><div class="react-toggle-track-x"><span class="toggle_34Mc sun_1Og-"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/">Guides</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" href="/docs/">Docs</a></li><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/tutorial">Tutorials</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"></a></li></ul></div></div></div></nav><div class="main-wrapper"><header class="hero domain-bg domain-bg--default"><div class="container"><div class="hero--category"><a aria-current="page" class="active" href="/guides/tutorial/">tutorial</a></div><h1 class="header_1mJE">How to deploy Helm charts</h1><div class="hero--subtitle">Use jobs to simply deploy Helm charts with Qovery (Kubecost example)</div><div class="tags_3AF9"><a class="badge badge--rounded badge--pink" href="/guides/tags/type-tutorial/">type: tutorial</a><a class="badge badge--rounded badge--primary" href="/guides/tags/technology-qovery/">technology: qovery</a></div></div></header><main class="container container--l container_1ncB"><aside class="sidebar_1pU0"><section class="avatar_1sJg"><div class="avatar avatar--lg avatar--vertical"><img class="avatar__photo avatar__photo--lg" src="https://github.com/deimosfr.png"><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/deimosfr" target="_blank" rel="author">Pierre M.</a></div><small class="avatar__subtitle">Pierre is an SRE, and CTO of <a href="https://www.qovery.com">Qovery</a>. He has 15+ years of experience in R&D. From the financial to the Ad-Tech industry, he has a strong knowledge in distributed and highly-reliable systems. He's also the <a href="https://www.amazon.fr/MariaDB-High-Performance-Pierre-MAVRO/dp/1783981601">MariaDB High Performance</a> book author.
</small></div></div></section><section class="table-of-contents tableOfContents_1eMQ"><div class="section"><div class="title">Stats</div><div class="text--secondary text--bold"><i class="feather icon-book"></i> 7 min read</div><div class="text--secondary text--bold"><i class="feather icon-clock"></i> Updated <time pubdate="pubdate" datetime="2023-06-05">Jun 5th, 2023</time></div></div><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#overview" class="contents__link">Overview</a></li><li><a href="#choose-a-deployment-method" class="contents__link">Choose a deployment method</a></li><li><a href="#lifecycle-job-parameters-for-helm-charts" class="contents__link">Lifecycle job parameters for Helm charts</a></li><li><a href="#chart-deployment" class="contents__link">Chart deployment</a><ul><li><a href="#from-a-3rd-party-or-artifact-hub" class="contents__link">From a 3rd party or Artifact Hub</a></li><li><a href="#from-a-helm-chart-from-a-git-repository" class="contents__link">From a Helm chart from a Git repository</a></li><li><a href="#lifecycle-job-and-timeout-management" class="contents__link">Lifecycle Job and Timeout management</a></li></ul></li><li><a href="#conclusion" class="contents__link">Conclusion</a></li></ul></div></section></aside><div class="article_mCV7"><article><div class="markdown"><a aria-hidden="true" tabindex="-1" class="anchor" id="overview"></a><p><a href="https://helm.sh/docs/">Helm</a> is one of the most known tools to deploy on Kubernetes. It has several very useful features, Qovery uses it behind the scene to deploy some of its components. But you can also deploy Helm charts by your self if you wish.</p><p>Installing a chart can be useful for specific use cases:</p><ul><li>When you want to deploy some specific objects on Kubernetes.</li><li>When a third-party vendor requires an installation with Helm.</li><li>When some specific configuration has to be set and does not fit into an application or container proposed by Qovery.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="choose-a-deployment-method"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#choose-a-deployment-method" title="Direct link to heading">#</a>Choose a deployment method</h2><p>There are several ways to deploy a chart:</p><ol><li>You can find a lot of Helm charts on the <a href="https://artifacthub.io/">Artifact Hub</a></li><li>You can deploy a Helm chart from a third-party provider (<a href="https://www.datadoghq.com/">Datadog</a>, <a href="https://www.kubecost.com/">Kubecost</a>...)</li><li>You can deploy a Helm chart from a private or public Git repository (<a href="https://github.com/Qovery/helm-freeze">Helm freeze</a> is useful in this case)</li></ol><p>We will make an example with all of these methods, so you can choose the one that suits you best.
In all the examples, we will make use of the Lifecycle jobs to manage the deployment of your helm chart (install and uninstall). The Lifecycle job configuration will be different depending on the method you have chosen.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="lifecycle-job-parameters-for-helm-charts"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#lifecycle-job-parameters-for-helm-charts" title="Direct link to heading">#</a>Lifecycle job parameters for Helm charts</h2><div class="alert alert--info alert--icon" role="alert"><i class="feather icon-info"></i><p>Qovery provides a Helm container, simplifying the Helm chart deployments, but you can do it your way if you prefer. The container image is <code>qoveryrd/helm</code>.</p></div><p>From the Qovery Helm container, several options exist and are accessible through environment variables to help you to configure the chart deployment:</p><table><thead><tr><th>Name</th><th>Description</th><th>Default Value</th><th>Required</th></tr></thead><tbody><tr><td><code>HELM_REPO_ADD_NAME</code></td><td>The Helm repository name</td><td></td><td>no</td></tr><tr><td><code>HELM_REPO_ADD_URL</code></td><td>The Helm chart URL (if none is specified, Artifact Hub will be used)</td><td><code>default</code></td><td>no</td></tr><tr><td><code>HELM_REPO_PATH</code></td><td>The local repository PATH or name from Artifact Hub</td><td></td><td>yes</td></tr><tr><td><code>HELM_RELEASE_NAME</code></td><td>The release name of the chart deployment (should be unique in a given namespace)</td><td></td><td>yes</td></tr><tr><td><code>HELM_VALUES</code></td><td>The Helm chart values file path, containing your custom settings to override from the default values</td><td></td><td>no</td></tr><tr><td><code>HELM_TIMEOUT_SEC</code></td><td>The Helm timeout in seconds, to install and uninstall chart</td><td><code>180</code></td><td>no</td></tr><tr><td><code>HELM_MAX_HISTORY</code></td><td>The number of releases history. Useful to be able to rollback</td><td><code>50</code></td><td>no</td></tr><tr><td><code>HELM_DRY_RUN</code></td><td>Enable or disable <code>dry run</code> for testing purpose</td><td><code>false</code></td><td>no</td></tr><tr><td><code>HELM_SHOW_DIFF</code></td><td>Enable or disable <code>helm diff</code> between the currently deployed version and the requested one</td><td><code>false</code></td><td>no</td></tr><tr><td><code>HELM_ADDITIONAL_PARAMS</code></td><td>Additional Helm CLI parameters to add to the command line</td><td></td><td>no</td></tr><tr><td><code>HELM_KUBERNETES_NAMESPACE</code></td><td>Kubernetes namespace name in which this chart will be deployed</td><td><code>$QOVERY_KUBERNETES_NAMESPACE_NAME</code></td><td>no</td></tr><tr><td><code>KUBECONFIG</code></td><td>The Kubeconfig file path location</td><td></td><td>no*</td></tr><tr><td><code>KUBECONFIG_B64</code></td><td>The encoded base64 Kubeconfig content. It will be decoded and used in <code>KUBECONFIG</code> environment variable</td><td></td><td>no*</td></tr><tr><td><code>KUBECONFIG_GET_EKS</code></td><td>Set to <code>true</code> to get the Kubeconfig from AWS API. It will be used as <code>KUBECONFIG</code> environment variable</td><td><code>false</code></td><td>no*</td></tr></tbody></table><div class="alert alert--warning alert--icon" role="alert"><i class="feather icon-alert-triangle"></i><p><code>KUBECONFIG</code>, <code>KUBECONFIG_B64</code> or <code>KUBECONFIG_GET_EKS</code> are required to be set to access Kubernetes cluster</p></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="chart-deployment"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#chart-deployment" title="Direct link to heading">#</a>Chart deployment</h2><p>In this tutorial, <a href="https://docs.kubecost.com/install-and-configure/install">Kubecost</a> will be the chart to deploy. You can deploy it in an environment where other applications are already deployed or create a dedicated one for this purpose (tooling, monitoring...).</p><div class="alert alert--info alert--icon" role="alert"><i class="feather icon-info"></i><p>You will have to configure the <code>KUBECONFIG</code>, <code>KUBECONFIG_B64</code> or <code>KUBECONFIG_GET_EKS</code> environment variable to be able to deploy the chart. It is mandatory to ensure Helm will be able to connect to your Kubernetes cluster.
You may also have to push AWS credentials (with <code>eks:DescribeCluster</code> permissions) or use <a href="/guides/tutorial/use-aws-iam-roles-with-qovery">AWS IAM roles</a>.</p></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="from-a-3rd-party-or-artifact-hub"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#from-a-3rd-party-or-artifact-hub" title="Direct link to heading">#</a>From a 3rd party or Artifact Hub</h3><p>First of all, create a <code>Lifecycle Job</code>:</p><p valign="center"><img src="/img/helm/helm_container.png" alt="create lifecycle job"></p><p>Then select the <code>Start</code> event, and add <code>[&quot;install&quot;]</code> in the command arguments. In the <code>Delete</code> event, add <code>[&quot;uninstall&quot;]</code>. And configure them to run the install during the Start</p><p valign="center"><img src="/img/helm/helm_event.png" alt="lifecycle event"></p><p>Click on continue and go up to the environment variables.</p><p>Qovery Helm image to deploy Helm charts, proposes several options to be set with the help of environment variables:</p><table><thead><tr><th>Variable</th><th>Value</th><th>Secret</th></tr></thead><tbody><tr><td><code>HELM_REPO_ADD_NAME</code></td><td><code>kubecost</code></td><td>no</td></tr><tr><td><code>HELM_REPO_ADD_URL</code></td><td><code>https://kubecost.github.io/cost-analyzer/</code></td><td>no</td></tr><tr><td><code>HELM_REPO_PATH</code></td><td><code>kubecost/cost-analyzer</code></td><td>no</td></tr><tr><td><code>HELM_RELEASE_NAME</code></td><td><code>kubecost</code></td><td>no</td></tr><tr><td><code>HELM_KUBERNETES_NAMESPACE</code></td><td><code>kubecost</code></td><td>no</td></tr></tbody></table><p>Additionally, you can set the <code>Kubecost token</code> if you have a license with additional Helm args like:</p><table><thead><tr><th>Variable</th><th>Value</th><th>Secret</th></tr></thead><tbody><tr><td><code>HELM_ADDITIONAL_PARAMS</code></td><td><code>--set kubecostToken=&quot;xxx&quot;</code></td><td>yes</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="from-a-helm-chart-from-a-git-repository"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#from-a-helm-chart-from-a-git-repository" title="Direct link to heading">#</a>From a Helm chart from a Git repository</h3><p>If you prefer using a <a href="https://en.wikipedia.org/wiki/DevOps#GitOps">GitOps</a> approach, having all your charts, etc... in a single Git repository, it is possible to deploy your charts this way.</p><p>From a very simple repository where we could have a helm-freeze configuration looking like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-yaml codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">charts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cost</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">analyzer</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1.99.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">repo_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kubecost</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">repos</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> stable</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//charts.helm.sh/stable</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kubecost</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//kubecost.github.io/cost</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">analyzer/</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">destinations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./charts</span></div></div></pre></div></div><p>Running <code>helm-freeze sync</code> will download the chart <code>cost-analyzer</code> into the charts folder.  You can then use this simple <code>Dockerfile</code> which will add all the content of this git repository inside a container:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-undefined codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">FROM qoveryrd/helm:1.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ADD . /helm</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT [&quot;/helm/run.sh&quot;]</span></div></div></pre></div></div><p>Finally, add the <code>run.sh</code> file from the <a href="https://github.com/Qovery/lifecycle-job-examples/tree/main/examples/helm">Qovery Helm image</a> inside your repository. Commit now everything. To summarize, in your Git repository you should have:</p><ul><li><code>charts</code>: a folder containing all the charts (here cost-analyzer chart)</li><li><code>Dockerfile</code>: helping you to deploy helm chart and containing all your charts</li><li><code>helm-freeze.yaml</code>: configuration file for helm-freeze</li><li><code>run.sh</code>: the container start script</li></ul><p>We are now ready to create a <code>Lifecycle job</code> and select your repository:</p><p valign="center"><img src="/img/helm/helm_git.png" alt="create lifecycle job"></p><p>Then select the <code>Start</code> event, and add <code>[&quot;install&quot;]</code> in the command arguments. In the <code>Delete</code> event, add <code>[&quot;uninstall&quot;]</code>. And configure them to run the install during the Start</p><p valign="center"><img src="/img/helm/helm_event.png" alt="lifecycle event"></p><p>Set the environment variables to point to the chart to deploy with the release name and other required information:</p><table><thead><tr><th>Variable</th><th>Value</th><th>Secret</th></tr></thead><tbody><tr><td><code>HELM_REPO_PATH</code></td><td><code>/helm/charts/cost-analyzer</code></td><td>no</td></tr><tr><td><code>HELM_RELEASE_NAME</code></td><td><code>kubecost</code></td><td>no</td></tr><tr><td><code>HELM_KUBERNETES_NAMESPACE</code></td><td><code>kubecost</code></td><td>no</td></tr></tbody></table><p>Additionally, you can set the <code>Kubecost token</code> if you have a license with additional Helm args like:</p><table><thead><tr><th>Variable</th><th>Value</th><th>Secret</th></tr></thead><tbody><tr><td><code>HELM_ADDITIONAL_PARAMS</code></td><td><code>--set kubecostToken=&quot;xxx&quot;</code></td><td>yes</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="lifecycle-job-and-timeout-management"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#lifecycle-job-and-timeout-management" title="Direct link to heading">#</a>Lifecycle Job and Timeout management</h3><div class="alert alert--warning alert--icon" role="alert"><i class="feather icon-alert-triangle"></i><p><a href="https://helm.sh/docs/intro/using_helm/#helpful-options-for-installupgraderollback">Helm timeout</a> and Qovery Lifecycle job should be correctly set to avoid board effects!</p><p><code>Qovery Liefcycle Job timeout &gt; ( Helm deployment timeout + Helm rollback time )</code></p></div><p>The default Helm timeout set by Qovery is 3 minutes. Qovery enables Helm options:</p><ul><li><code>--wait</code>: to wait for all resources to be in a ready state before marking the release as successful</li><li><code>--atomic</code>: to roll back the release if the deployment fails</li></ul><p>Because of the atomic check, the rollback can take more than 5 minutes. By default, Qovery set the default Lifecycle timeout to 3 minutes, to avoid falling into this issue, but there is no guarantee, it depends on what resources are deployed:</p><p><strong>Qovery strongly recommends leveraging the default Qovery Lifecycle Job timeout or reducing the default Helm timeout to ensure the rollback will occur properly in case of failure.</strong></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="conclusion"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#conclusion" title="Direct link to heading">#</a>Conclusion</h2><p>As you can see, deploying Helm charts with Qovery is straightforward. Qovery Lifecycle jobs and its Qovery Helm image should help you a lot if you familiarize yourself with it and its options.</p></div></article></div></main></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><p>Qovery is an Internal Developer Platform Helping 50.000+ Developers and Platform Engineers To Ship Faster.</p></div><div><a href="https://github.com/qovery" target="_blank"><i class="feather icon-github" alt="Qovery&#x27;s Github Repo"></i></a>    <a href="https://www.linkedin.com/company/qovery/" target="_blank"><i class="feather icon-rss" alt="Qovery&#x27;s Linkedin"></i></a>    <a href="https://twitter.com/qovery_" target="_blank"><i class="feather icon-twitter" alt="Qovery&#x27;s Twitter"></i></a>    <a href="https://discord.qovery.com" target="_blank"><i class="feather icon-message-circle" alt="Qovery&#x27;s Discord"></i></a></div></div><div class="col footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Documentation</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/guides">Guides</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/guides/tutorial">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/guides/engineering">Engineering</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/pricing" href="https://www.qovery.com/pricing">Pricing</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/enterprise" href="https://www.qovery.com/enterprise">Enterprise</a></li><li class="footer__item"><a class="footer__link-item" to="https://api-doc.qovery.com" href="https://api-doc.qovery.com">API</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery" href="https://github.com/Qovery">Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://discord.qovery.com" href="https://discord.qovery.com">Discord</a></li><li class="footer__item"><a class="footer__link-item" to="https://community.qovery.com" href="https://community.qovery.com">Forum</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/community-call" href="https://www.qovery.com/community-call">Community call</a></li><li class="footer__item"><a class="footer__link-item" to="https://shop.qovery.com" href="https://shop.qovery.com">Goodies</a></li><li class="footer__item"><a class="footer__link-item" to="https://roadmap.qovery.com" href="https://roadmap.qovery.com">Roadmap</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery/replibyte" href="https://github.com/Qovery/replibyte">Replibyte</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/blog" href="https://www.qovery.com/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" to="https://jobs.qovery.com" href="https://jobs.qovery.com">Jobs</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/team" href="https://www.qovery.com/team">Team</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/investors" href="https://www.qovery.com/investors">Investors</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/contact" href="https://www.qovery.com/contact">Contact</a></li></ul></div></div><div class="text--center"><small>© 2023 DESIGNED BY QOVERY | PROUD SILVER MEMBER OF CNCF AND LINUX FOUNDATION | QOVERY BY BIRDSIGHT - ALL RIGHTS RESERVED</small><br></div></div></footer>
</div>

<script src="/styles.01a28f67.js"></script>

<script src="/runtime~main.2f6750cb.js"></script>

<script src="/main.120c9466.js"></script>

<script src="/1.f6809121.js"></script>

<script src="/2.6f47ba61.js"></script>

<script src="/3.856bf560.js"></script>

<script src="/1c13b173.080c0376.js"></script>

<script src="/4fed1128.8c706a2b.js"></script>


</body>
</html>