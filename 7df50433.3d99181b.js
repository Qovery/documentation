/*! For license information please see 7df50433.3d99181b.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{292:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return b})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return p}));var a=n(1),r=n(9),o=(n(0),n(447)),i=n(446),c=n(456),l={last_modified_on:"2022-06-28",title:"Webhooks",description:"Learn how to use Qovery Webhooks"},b={id:"using-qovery/integration/webhook",title:"Webhooks",description:"Learn how to use Qovery Webhooks",source:"@site/docs/using-qovery/integration/webhook.md",permalink:"/docs/using-qovery/integration/webhook",sidebar:"docs",previous:{title:"New Relic",permalink:"/docs/using-qovery/integration/monitoring/new-relic"},next:{title:"API",permalink:"/docs/using-qovery/integration/api-integration"}},s=[],u={rightToc:s};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Qovery allows you to create webhooks at organization-level so that, when an event happens on an environment within your organization, you can get notified on external applications (for instance, ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/using-qovery/integration/slack/"}),"Slack"),")."),Object(o.b)("p",null,"You can trigger webhooks when:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"A deployment has started in the environment."),Object(o.b)("li",{parentName:"ul"},"A deployment has been successful in the environment."),Object(o.b)("li",{parentName:"ul"},"A deployment has been cancelled in the environment."),Object(o.b)("li",{parentName:"ul"},"A deployment has failed in the environment.")),Object(o.b)(i.a,{type:"info",mdxType:"Alert"},Object(o.b)("p",null,"Webhooks are not available in the Qovery console yet, but you can create and manage them via the Qovery API.")),Object(o.b)("h1",{id:"creating-an-incoming-webhook-on-slack"},"Creating an Incoming Webhook on Slack"),Object(o.b)("p",null,"To create a webhook via the Qovery API:"),Object(o.b)(c.a,{headingDepth:3,mdxType:"Steps"},Object(o.b)("ol",null,Object(o.b)("li",null,Object(o.b)("p",null,"Install the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/using-qovery/interface/cli/"}),"Qovery CLI"),".")),Object(o.b)("li",null,Object(o.b)("p",null,"Generate an ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/using-qovery/interface/cli/#generate-api-token"}),"API Token"),".")),Object(o.b)("li",null,Object(o.b)("p",null,"Enter a cURL command similar to this:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'curl -X POST -H \'Content-type: application/json\' -H \'Authorization: Token <Your API Token>\' -d \\\n\'{"description": "slack notifications", "target_url": "<Your Slack Webhook URL>", "environment_types_filter": ["PRODUCTION", "STAGING"], "project_names_filter": ["product*", "analytics"], "events": ["DEPLOYMENT_STARTED", "DEPLOYMENT_CANCELLED", "DEPLOYMENT_SUCCESSFUL", "DEPLOYMENT_FAILURE"], "kind": "SLACK", "enabled": true}\' \\\n"https://api.qovery.com/organization/{Your Organization ID}/webhook"\n')),Object(o.b)("p",null,"The above command is used to create a webhook to ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/using-qovery/integration/slack/"}),"get notifications on Slack")," whenever a deployment has been started, cancelled, successful or failed."),Object(o.b)("p",null,"Here is how you can customize the command so that it fits your specific needs:"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Parameter"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Usage"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"<Your API Token>")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Replace with your actual Qovery API token.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},'"description"')),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Enter a self-explanatory description of what your webhook does. In the example, ",Object(o.b)("inlineCode",{parentName:"td"},'"description": "slack notifications"')," clearly states that the webhook triggers notifications on Slack.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"<Your Slack Webhook URL>")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Replace with the webhook URL provided by the external application you want to receive notifications on.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},'"environment_types_filter"')),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("em",{parentName:"td"},"(Optional)")," If you only want to get notified about events happening on one or several specific type(s) or environment(s), you can provide a list using the following possible values: ",Object(o.b)("inlineCode",{parentName:"td"},'"PRODUCTION"'),", ",Object(o.b)("inlineCode",{parentName:"td"},'"DEVELOPMENT"'),", ",Object(o.b)("inlineCode",{parentName:"td"},'"STAGING"')," and ",Object(o.b)("inlineCode",{parentName:"td"},'"PREVIEW"'),". ",Object(o.b)("br",null)," ",Object(o.b)("br",null)," Please note that ",Object(o.b)("inlineCode",{parentName:"td"},'"environment_types_filter"')," can be used together with ",Object(o.b)("inlineCode",{parentName:"td"},'"project_names_filter"'),".")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},'"project_names_filter"')),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("em",{parentName:"td"},"(Optional)")," If you only want to get notified about events happening in one or several specific projects, you can provide a list of project names that will act as a filter. Notifications will then only be triggered for projects whose names match or, if you're using a wildcard, start with one of the values from your list. ",Object(o.b)("br",null)," ",Object(o.b)("br",null)," Please note that ",Object(o.b)("inlineCode",{parentName:"td"},'"project_names_filter"')," is not case-sensitive, accepts wildcards, and can be used together with ",Object(o.b)("inlineCode",{parentName:"td"},'"environment_types_filter"'),".")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},'"events"')),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"List all the events you want to be notified about.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},'"kind"')),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Specify which kind of webhook you want to create. At the moment, you can specify : ",Object(o.b)("inlineCode",{parentName:"td"},'"kind": "STANDARD"')," to create a generic webhook, or ",Object(o.b)("inlineCode",{parentName:"td"},'"kind": "SLACK"')," to create ",Object(o.b)("a",Object(a.a)({parentName:"td"},{href:"/docs/using-qovery/integration/slack/"}),"a Slack webhook"),".")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"{Your Organization ID}")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Replace with the ID of the Qovery organization you want to create your webhook on.")))),Object(o.b)("p",null,"For more information on all the parameters you can set depending on which kind of notifications you want to receive and on which external application, see our ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://api-doc.qovery.com/#tag/Organization-Webhook/operation/createOrganizationWebhook"}),"Qovery API Documentation"),".")))),Object(o.b)("h1",{id:"managing-your-webhooks"},"Managing your Webhooks"),Object(o.b)("p",null,"Via the Qovery API, you can also:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://api-doc.qovery.com/#tag/Organization-Webhook/operation/editOrganizationWebhook"}),"Edit your webhooks"),"."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://api-doc.qovery.com/#tag/Organization-Webhook/operation/deleteOrganizationWebhook"}),"Delete your webhooks"),"."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://api-doc.qovery.com/#tag/Organization-Webhook/operation/listOrganizationWebHooks"}),"Display a list of your existing webhooks and their configuration"),".")))}p.isMDXComponent=!0},445:function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)&&a.length){var i=r.apply(null,a);i&&e.push(i)}else if("object"===o)for(var c in a)n.call(a,c)&&a[c]&&e.push(c)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},446:function(e,t,n){"use strict";n(450);var a=n(0),r=n.n(a),o=n(445),i=n.n(o);n(132);t.a=function(e){var t=e.children,n=e.classNames,a=e.fill,o=e.icon,c=e.type,l=null;switch(c){case"danger":l="alert-triangle";break;case"success":l="check-circle";break;case"warning":l="alert-triangle";break;default:l="info"}return r.a.createElement("div",{className:i()(n,"alert","alert--"+c,{"alert--fill":a,"alert--icon":!1!==o}),role:"alert"},!1!==o&&r.a.createElement("i",{className:i()("feather","icon-"+(o||l))}),t)}},447:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var b=r.a.createContext({}),s=function(e){var t=r.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},u=function(e){var t=s(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,b=l(e,["components","mdxType","originalType","parentName"]),u=s(n),d=a,m=u["".concat(i,".").concat(d)]||u[d]||p[d]||o;return n?r.a.createElement(m,c({ref:t},b,{components:n})):r.a.createElement(m,c({ref:t},b))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var b=2;b<o;b++)i[b]=n[b];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},450:function(e,t,n){var a=n(12);a(a.P,"Array",{fill:n(454)}),n(74)("fill")},454:function(e,t,n){"use strict";var a=n(28),r=n(75),o=n(27);e.exports=function(e){for(var t=a(this),n=o(t.length),i=arguments.length,c=r(i>1?arguments[1]:void 0,n),l=i>2?arguments[2]:void 0,b=void 0===l?n:r(l,n);b>c;)t[c++]=e;return t}},455:function(e,t,n){"use strict";var a=n(457),r=n(51);function o(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,a){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===a[e]&&(a[e]={}),a[e][t[1]]=n):a[e]=n};case"bracket":return function(e,n,a){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==a[e]?a[e]=[].concat(a[e],n):a[e]=[n]:a[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=r({arrayFormat:"none"},t)),a=Object.create(null);return"string"!=typeof e?a:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(r),o,a)})),Object.keys(a).sort().reduce((function(e,t){var n=a[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))):a},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,a){return null===n?[o(t,e),"[",a,"]"].join(""):[o(t,e),"[",o(a,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}(t=r({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(a){var r=e[a];if(void 0===r)return"";if(null===r)return o(a,t);if(Array.isArray(r)){var i=[];return r.slice().forEach((function(e){void 0!==e&&i.push(n(a,e,i.length))})),i.join("&")}return o(a,t)+"="+o(r,t)})).filter((function(e){return e.length>0})).join("&"):""}},456:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(445),n(455)),i=n.n(o);n(134);t.a=function(e){var t=e.children,n=e.headingDepth,o=e.hideFeedbackQuestion,c="undefined"!=typeof window?window.location:null,l={title:"Tutorial on "+c+" failed",body:"The tutorial on:\n\n"+c+"\n\nHere's what went wrong:\n\n\x3c!-- Insert command output and details. Thank you for reporting! :) --\x3e"},b="https://github.com/qovery/documentation/issues/new?"+i.a.stringify(l),s=Object(a.useState)(null),u=s[0],p=s[1];return r.a.createElement("div",{className:"steps steps--h"+n},t,!o&&!u&&r.a.createElement("div",{className:"steps--feedback"},"How was it? Did this tutorial work?\xa0\xa0",r.a.createElement("span",{className:"button button--sm button--primary",onClick:function(){return p("yes")}},"Yes"),"\xa0\xa0",r.a.createElement("a",{href:b,target:"_blank",className:"button button--sm button--primary"},"No")),"yes"==u&&r.a.createElement("div",{className:"steps--feedback steps--feedback--success"},"Thanks! If you're enjoying Qovery please consider ",r.a.createElement("a",{href:"https://github.com/qovery/documentation/",target:"_blank"},"starring our Github repo"),"."))}},457:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}}}]);