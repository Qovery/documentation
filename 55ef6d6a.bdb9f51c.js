/*! For license information please see 55ef6d6a.bdb9f51c.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{260:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return d}));var i=n(1),r=n(9),a=(n(0),n(452)),o=(n(458),n(451)),l=n(456),c={last_modified_on:"2023-04-13",title:"Deployment Pipeline",description:"Learn how to the Environment Deployment Pipeline works"},s={id:"using-qovery/deployment/deployment-pipeline",title:"Deployment Pipeline",description:"Learn how to the Environment Deployment Pipeline works",source:"@site/docs/using-qovery/deployment/deployment-pipeline.md",permalink:"/docs/using-qovery/deployment/deployment-pipeline",sidebar:"docs",previous:{title:"Deployment",permalink:"/docs/using-qovery/deployment"},next:{title:"Deployment actions",permalink:"/docs/using-qovery/deployment/deployment-actions"}},p=[{value:"Default Pipeline",id:"default-pipeline",children:[]},{value:"Visualizing and Modifying the Pipeline",id:"visualizing-and-modifying-the-pipeline",children:[]}],u={rightToc:p};function d(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(i.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)(l.a,{name:"documentation",mdxType:"Assumptions"},Object(a.b)("p",null,"You have created an ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/environment/"}),"Environment")," and one Service (application, db or job)")),Object(a.b)("p",null,"When the deployment of an environment is triggered, Qovery executes what we call ",Object(a.b)("inlineCode",{parentName:"p"},"Deployment Pipeline"),". It basically defines which operation shall be performed to properly deploy every service defined within your environment (build the code of service X, push the image on a registry, deploy service X on the Kubernetes cluster etc..)"),Object(a.b)("p",null,"A pipeline is composed of an ordered list of ",Object(a.b)("inlineCode",{parentName:"p"},"Deployment Stages"),". Each Stage has an execution order assigned within the pipeline: If a stage A has an execution order lower than stage B then B can be executed only if the execution of stage A is completed."),Object(a.b)("p",null,"Each service of your environment belongs to one (and only one) ",Object(a.b)("inlineCode",{parentName:"p"},"Deployment Stage"),". This allows you to define at which moment of the deployment pipeline a service should be deployed and thus respect any service inter-dependency (e.g. your front-end needs to be started after the back-end, your db needs to be started before your back-end etc..)."),Object(a.b)("p",null,"During the deployment, a service goes through the building and deployment phase (as ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/using-qovery/deployment/deployment-actions/#deploy"}),"explained here"),"). The build and deploy operation of each service within a deployment stage can be executed in parallel (feature WIP)"),Object(a.b)("p",null,"Below you can find a visual example of how the pipeline looks like"),Object(a.b)("p",{align:"center"},Object(a.b)("img",{src:"/img/deployment/example_deployment_pipeline.png",alt:"Deployment Pipeline"})),Object(a.b)("h2",{id:"default-pipeline"},"Default Pipeline"),Object(a.b)("p",null,"By default, the deployment pipeline is constituted of 4 deployment stages with a default service assignment rule:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},'"0.DEFAULT DATABASE": any new service of type ',Object(a.b)("inlineCode",{parentName:"li"},"DATABASE")," will be added to this stage."),Object(a.b)("li",{parentName:"ul"},'"1.DEFAULT JOB": any new service of type ',Object(a.b)("inlineCode",{parentName:"li"},"JOB")," will be added to this stage."),Object(a.b)("li",{parentName:"ul"},'"2.DEFAULT CONTAINER": any new service of type ',Object(a.b)("inlineCode",{parentName:"li"},"CONTAINER")," will be added to this stage (application deployed from a container image)."),Object(a.b)("li",{parentName:"ul"},'"3.DEFAULT APPLICATION": any new service of type ',Object(a.b)("inlineCode",{parentName:"li"},"APPLICATION")," will be added to this stage (application deployed from a git repository).")),Object(a.b)("p",{align:"center"},Object(a.b)("img",{src:"/img/deployment/default_deployment_pipeline.png",alt:"Default Deployment Pipeline"})),Object(a.b)("p",null,"Once the service is created, the assigned stage can be modified afterwards. See ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/environment/#deployment-pipeline"}),"this section")," for more information."),Object(a.b)(o.a,{type:"info",mdxType:"Alert"},Object(a.b)("p",null,"This default assignment is maintained as long as you do not delete or rename the default stage. If the default stage is modified or deleted, the service will be automatically added to the latest stage (based on the stage deployment)")),Object(a.b)("h2",{id:"visualizing-and-modifying-the-pipeline"},"Visualizing and Modifying the Pipeline"),Object(a.b)("p",null,"You can access and modify the pipeline configuration from the environment settings. Have a look at ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/environment/#deployment-pipeline"}),"this section")," to know more."))}d.isMDXComponent=!0},450:function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var a=typeof i;if("string"===a||"number"===a)e.push(i);else if(Array.isArray(i)&&i.length){var o=r.apply(null,i);o&&e.push(o)}else if("object"===a)for(var l in i)n.call(i,l)&&i[l]&&e.push(l)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},451:function(e,t,n){"use strict";n(455);var i=n(0),r=n.n(i),a=n(450),o=n.n(a);n(132);t.a=function(e){var t=e.children,n=e.classNames,i=e.fill,a=e.icon,l=e.type,c=null;switch(l){case"danger":c="alert-triangle";break;case"success":c="check-circle";break;case"warning":c="alert-triangle";break;default:c="info"}return r.a.createElement("div",{className:o()(n,"alert","alert--"+l,{"alert--fill":i,"alert--icon":!1!==a}),role:"alert"},!1!==a&&r.a.createElement("i",{className:o()("feather","icon-"+(a||c))}),t)}},452:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var i=n(0),r=n.n(i);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),p=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l({},t,{},e)),n},u=function(e){var t=p(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=Object(i.forwardRef)((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),u=p(n),m=i,f=u["".concat(o,".").concat(m)]||u[m]||d[m]||a;return n?r.a.createElement(f,l({ref:t},s,{components:n})):r.a.createElement(f,l({ref:t},s))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var s=2;s<a;s++)o[s]=n[s];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},453:function(e,t,n){"use strict";var i=n(1),r=n(0),a=n.n(r),o=n(39),l=n(459),c=n(20),s=n.n(c);t.a=function(e){var t,n=e.to,c=e.href,p=n||c,u=Object(l.a)(p),d=Object(r.useRef)(!1),m=s.a.canUseIntersectionObserver;return Object(r.useEffect)((function(){return!m&&u&&window.docusaurus.prefetch(p),function(){m&&t&&t.disconnect()}}),[p,m,u]),p&&u?a.a.createElement(o.b,Object(i.a)({},e,{onMouseEnter:function(){d.current||(window.docusaurus.preload(p),d.current=!0)},innerRef:function(e){var n,i;m&&e&&u&&(n=e,i=function(){window.docusaurus.prefetch(p)},(t=new window.IntersectionObserver((function(e){e.forEach((function(e){n===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(t.unobserve(n),t.disconnect(),i())}))}))).observe(n))},to:p})):a.a.createElement("a",Object(i.a)({},e,{href:p}))}},454:function(e,t,n){var i=n(26).f,r=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in r||n(10)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},455:function(e,t,n){var i=n(12);i(i.P,"Array",{fill:n(457)}),n(74)("fill")},456:function(e,t,n){"use strict";n(454);var i=n(0),r=n.n(i),a=n(451);t.a=function(e){var t=e.children,n=e.name;return r.a.createElement(a.a,{type:"info",fill:!0,icon:!1,rounded:!0,className:"list--icons list--icons--arrow list--tight list--indent margin-bottom--lg"},r.a.createElement("p",{class:"text--lg margin-bottom--sm",style:{marginTop:"-0.25em"}},"Before you begin, this ",n||"page"," assumes the following:"),t)}},457:function(e,t,n){"use strict";var i=n(28),r=n(75),a=n(27);e.exports=function(e){for(var t=i(this),n=a(t.length),o=arguments.length,l=r(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,s=void 0===c?n:r(c,n);s>l;)t[l++]=e;return t}},458:function(e,t,n){"use strict";var i=n(0),r=n.n(i),a=n(453),o=n(450),l=n.n(o);n(133);t.a=function(e){var t=e.children,n=e.className,i=e.badge,o=e.leftIcon,c=e.rightIcon,s=e.size,p=e.target,u=e.to,d=l()("jump-to","jump-to--"+s,n),m=r.a.createElement("div",{className:"jump-to--inner"},r.a.createElement("div",{className:"jump-to--inner-2"},o&&r.a.createElement("div",{className:"jump-to--left"},r.a.createElement("i",{className:"feather icon-"+o})),r.a.createElement("div",{className:"jump-to--main"},i?r.a.createElement("span",{className:"badge badge--primary badge--right"},i):"",t),r.a.createElement("div",{className:"jump-to--right"},r.a.createElement("i",{className:"feather icon-"+(c||"chevron-right")+" arrow"}))));return p?r.a.createElement("a",{href:u,target:p,className:d},m):r.a.createElement(a.a,{to:u,className:d},m)}},459:function(e,t,n){"use strict";function i(e){return!1===/^(https?:|\/\/)/.test(e)}n.d(t,"a",(function(){return i}))}}]);