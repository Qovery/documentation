<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<link rel="preconnect" href="https://phprox.qovery.com">
<script>!function(t,e){var o,p,i,n;e.__SV||(window.posthog=e,e._i=[],e.init=function(r,s,c){function a(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.src=s.api_host+"/static/array.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n);var g=e;for(void 0!==c?g=e[c]=[]:c="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==c&&(e+="."+c),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<o.length;p++)a(g,o[p]);e._i.push([r,s,c])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_IgdG1K2GveDUte1gJ6hlwNbFHCv9nViWETUyLMU7ciq",{api_host:"https://phprox.qovery.com"})</script>
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Qovery Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Qovery Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<script src="/js/intercom.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=UA-129773960-5" async></script>
<script src="/js/ga.js"></script>

<title data-react-helmet="true">AWS EKS with Karpenter | Docs | Qovery</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Qovery"><meta data-react-helmet="true" name="msapplication-TileColor" content="#da532c"><meta data-react-helmet="true" name="theme-color" content="#ffffff"><meta data-react-helmet="true" property="og:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Qovery"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="Learn how to configure your AWS Kubernetes clusters with Karpenter on Qovery"><meta data-react-helmet="true" property="og:description" content="Learn how to configure your AWS Kubernetes clusters with Karpenter on Qovery"><meta data-react-helmet="true" property="og:url" content="https://hub.qovery.com/docs/using-qovery/configuration/clusters/aws-with-karpenter">

<link data-react-helmet="true" rel="icon" href="/favicons/favicon.svg"><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png"><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"><link data-react-helmet="true" rel="manifest" href="/favicons/site.webmanifest"><link data-react-helmet="true" rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5"><link data-react-helmet="true" rel="canonical" href="https://docs.qovery.com/docs/using-qovery/configuration/clusters/aws-with-karpenter/">


<link rel="stylesheet" href="/styles.5dba54ed.css">


<link rel="preload" href="/styles.255c8fd1.js" as="script">

<link rel="preload" href="/runtime~main.f8e3d81d.js" as="script">

<link rel="preload" href="/main.10c3ce23.js" as="script">

<link rel="preload" href="/2.91632de6.js" as="script">

<link rel="preload" href="/3.ac200c48.js" as="script">

<link rel="preload" href="/4.6ed4e18f.js" as="script">

<link rel="preload" href="/1be78505.c981d10c.js" as="script">

<link rel="preload" href="/20ac7829.1c0e38af.js" as="script">

<link rel="preload" href="/318.35267e1a.js" as="script">

<link rel="preload" href="/17896441.fe3a9210.js" as="script">

<link rel="preload" href="/1.385570ab.js" as="script">

<link rel="preload" href="/acbf1af7.6d845bb4.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"></a><a class="navbar__item navbar__link" href="/guides/">Guides</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/guides/tutorial">Tutorials</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"><i class="feather icon-github"></i> </a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_34Mc moon_313u"></span></div><div class="react-toggle-track-x"><span class="toggle_34Mc sun_1Og-"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="navbar__item navbar__link" href="/guides/">Guides</a></li><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" href="/guides/tutorial">Tutorials</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container_3Vzv container container--l"><div class="sidebar_dgnY"><div class="docs-sidebar sidebar_25T_"><a aria-current="page" class="sidebarLogo_3JkW active" style="max-width:130px" href="/"></a><div class="menu menu--responsive menu_1e9D"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_1hKf" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><div class="title">Getting Started</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/getting-started/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/what-is-qovery/">What is Qovery?</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/how-qovery-works/">How Qovery Works</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/basic-concepts/">Basic Concepts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/getting-started/install-qovery/">Install Qovery</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/getting-started/install-qovery/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/local/">Local</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/getting-started/install-qovery/aws/">AWS</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/getting-started/install-qovery/aws/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/getting-started/install-qovery/aws/cluster-managed-by-qovery/">Cluster Managed By Qovery</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/getting-started/install-qovery/aws/cluster-managed-by-qovery/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/aws/cluster-managed-by-qovery/quickstart/">Quickstart</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/aws/cluster-managed-by-qovery/create-credentials/">Create Credentials</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/aws/cluster-managed-by-qovery/infrastructure/">Infrastructure</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/aws/cluster-managed-by-qovery/faq/">FAQ</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/aws/self-managed-cluster/">Self-Managed Cluster</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/getting-started/install-qovery/gcp/">GCP</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/getting-started/install-qovery/gcp/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/getting-started/install-qovery/gcp/cluster-managed-by-qovery/">Cluster Managed By Qovery</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/getting-started/install-qovery/gcp/cluster-managed-by-qovery/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/gcp/cluster-managed-by-qovery/quickstart/">Quickstart</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/gcp/cluster-managed-by-qovery/create-credentials/">Create Credentials</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/gcp/self-managed-cluster/">Self-Managed Cluster</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/getting-started/install-qovery/scaleway/">Scaleway</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/getting-started/install-qovery/scaleway/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/getting-started/install-qovery/scaleway/cluster-managed-by-qovery/">Cluster Managed By Qovery</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/getting-started/install-qovery/scaleway/cluster-managed-by-qovery/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/scaleway/cluster-managed-by-qovery/quickstart/">Quickstart</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/scaleway/cluster-managed-by-qovery/create-credentials/">Create Credentials</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/scaleway/cluster-managed-by-qovery/faq/">FAQ</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/scaleway/self-managed-cluster/">Self-Managed Cluster</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/getting-started/install-qovery/azure/">Azure</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/getting-started/install-qovery/azure/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/getting-started/install-qovery/azure/cluster-managed-by-qovery/">Cluster Managed By Qovery</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/getting-started/install-qovery/azure/cluster-managed-by-qovery/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/azure/cluster-managed-by-qovery/quickstart/">Quickstart</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/azure/self-managed-cluster/">Self-Managed Cluster</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/getting-started/install-qovery/kubernetes/">Kubernetes</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/getting-started/install-qovery/kubernetes/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/kubernetes/quickstart/">Quickstart</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/kubernetes/byok-config/">Configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/kubernetes/validate-installation/">Validate the installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/install-qovery/kubernetes/faq/">FAQ</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/deploy-my-app/">Deploy my application</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/whats-next/">What&#x27;s next?</a></li></ul></li><li class="menu__list-item"><div class="title">Usage</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/using-qovery/interface/">Interface</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/interface/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/interface/web-interface/">Web interface</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/interface/cli/">CLI</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/interface/rest-api/">REST API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/interface/terraform-interface/">Terraform Provider</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/using-qovery/integration/">Integrations</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/integration/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/git-repository/">Git Repository</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/container-registry/">Container Registry</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/helm-repository/">Helm Repository</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/using-qovery/integration/continuous-integration/">Continuous Integration</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/integration/continuous-integration/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/continuous-integration/github-actions/">GitHub Actions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/continuous-integration/gitlab-ci/">GitLab CI</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/continuous-integration/circle-ci/">Circle CI</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/continuous-integration/jenkins/">Jenkins</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/using-qovery/integration/monitoring/">Monitoring</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/integration/monitoring/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/monitoring/datadog/">Datadog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/monitoring/new-relic/">New Relic</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/using-qovery/integration/iac/">IaC</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/integration/iac/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/iac/terraform/">Terraform</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/iac/cloudformation/">Cloudformation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/iac/other/">Other</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/using-qovery/integration/secret-manager/">Secret Manager</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/integration/secret-manager/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/secret-manager/doppler/">Doppler</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/secret-manager/aws-secrets-manager/">AWS Secrets Manager</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/webhook/">Webhooks</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/terraform-provider/">Terraform Provider</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/api-integration/">API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/integration/slack/">Slack</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist menu__link--active" href="/docs/using-qovery/configuration/">Configuration</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/configuration/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/using-qovery/configuration/organization/">Organization</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/configuration/organization/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/organization/members-rbac/">Members and RBAC</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/organization/git-repository-access/">Git Repository access</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/organization/container-registry/">Container Registry</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/organization/helm-repository/">Helm Repository</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/organization/api-token/">API Token</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/organization/labels-annotations/">Labels &amp; Annotations</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist menu__link--active" href="/docs/using-qovery/configuration/clusters/">Clusters</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/configuration/clusters/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/clusters/aws/">AWS EKS</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/using-qovery/configuration/clusters/aws-with-karpenter/">AWS EKS with Karpenter</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/clusters/gcp/">GCP GKE</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/clusters/scaleway/">Scaleway kapsule</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/cluster-advanced-settings/">Cluster Advanced Settings</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/project/">Project</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/environment/">Environment</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/application/">Application</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/helm/">Helm</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/using-qovery/configuration/database/">Database</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/configuration/database/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/database/postgresql/">PostgreSQL</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/database/mysql/">MySQL</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/database/mongodb/">MongoDB</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/database/redis/">Redis</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/cronjob/">Cronjob</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/lifecycle-job/">Lifecycle Job</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/environment-variable/">Environment Variable &amp; Secrets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/service-health-checks/">Service Health Checks</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/advanced-settings/">Service Advanced Settings</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/object-storage/">Object Storage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/deployment-rule/">Deployment Rule</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/configuration/user-account/">User Account</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/using-qovery/deployment/">Deployment</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/deployment/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/deployment/deploying-with-auto-deploy/">Deploying with the auto-deploy feature</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/deployment/deploying-with-ci-cd/">Deploying with your CI/CD</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/deployment/deployment-pipeline/">Deployment Pipeline</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/deployment/deployment-actions/">Deployment Actions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/deployment/deployment-history/">Deployment History</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/deployment/running-and-deployment-statuses/">Running and Deployment Statuses</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/deployment/logs/">Logs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/deployment/deployment-strategies/">Deployment Strategies</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/deployment/image-mirroring/">Image Mirroring</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/using-qovery/troubleshoot/">Troubleshoot</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/troubleshoot/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/troubleshoot/service-deployment-troubleshoot/">Service Deployment Troubleshoot</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/troubleshoot/service-run-troubleshoot/">Service Run Troubleshoot</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/troubleshoot/cluster-troubleshoot/">Cluster Troubleshoot</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-qovery/audit-logs/">Audit Logs</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="/docs/using-qovery/maintenance/">Maintenance</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/using-qovery/maintenance/">hidden</a></li></ul></li></ul></li><li class="menu__list-item"><div class="title">Security and Compliance</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" href="/docs/security-and-compliance/">hidden</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/security-and-compliance/backup-and-restore/">Backup and Restore</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/security-and-compliance/encryption/">Encryption</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/security-and-compliance/gdpr/">GDPR</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/security-and-compliance/soc2/">SOC2</a></li></ul></li><li class="menu__list-item"><div class="title">Useful Resources</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" to="https://api-doc.qovery.com/" target="_blank" rel="noreferrer noopener" href="https://api-doc.qovery.com/">API documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/useful-resources/faq/">FAQ</a></li><li class="menu__list-item"><a class="menu__link" to="https://roadmap.qovery.com/roadmap/" target="_blank" rel="noreferrer noopener" href="https://roadmap.qovery.com/roadmap/">Roadmap</a></li><li class="menu__list-item"><a class="menu__link" to="https://github.com/qovery/" target="_blank" rel="noreferrer noopener" href="https://github.com/qovery/">Github</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/useful-resources/help-and-support/">Help and Support</a></li></ul></li></ul></div></div></div><main class="main_2vyu"><div><div class="container_2j_u"><div class="leftCol_3JzO"><div class="docItemContainer_"><article><header><div class="badges"></div><h1 class="docTitle_cWlf">AWS EKS with Karpenter</h1></header><div class="markdown"><p>Karpenter automatically launches just the right compute resources to handle your cluster&#x27;s applications. It is designed to let you take full advantage of the cloud with fast and simple compute provisioning for Kubernetes clusters.
You can our <a href="https://www.qovery.com/blog/save-up-to-60-on-aws-costs-with-eks-and-karpenter/">blog post</a> for more information.&quot;</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="creating-a-aws-eks-cluster-with-karpenter"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#creating-a-aws-eks-cluster-with-karpenter" title="Direct link to heading">#</a>Creating a AWS EKS Cluster with Karpenter</h3><div class="steps steps--h3"><ol><li><p>Click on <code>AWS</code> as hosting mode and then <code>Qovery Managed</code> option:</p><p align="center"><img src="/img/configuration/clusters/cluster_hosting_selection_aws.png" alt="Cluster AWS"></p><p>In the <code>Create Cluster</code> window enter:</p><ul><li><code>Cluster name</code>: enter the name of your choice for your cluster.</li><li><code>Description</code>: enter a description to identify better your cluster.</li><li><code>Production cluster</code>: select this option if your cluster will be used for production. Note: Karpenter is currently only available for non-production clusters.</li><li><code>Region</code>: select the geographical area in which you want your cluster to be hosted.</li><li><code>Credentials</code>: select one of the existing cloud provider credentials or add a new one by clicking on <code>New Credentials</code>. In the New credentials window, add the credentials that you have generated on your cloud provider console (<a href="/docs/getting-started/install-qovery/aws/cluster-managed-by-qovery/quickstart/#attach-aws-credentials">Procedure for AWS account</a>). Added credentials can be used later to create and manage additional cluster.</li></ul><p>To confirm, click <code>Next</code>.</p></li><li><p>In the <code>Set Resources</code> window, select:</p><ul><li><code>Karpenter</code>: Toggle the switch to enable Karpenter on your AWS EKS cluster</li><li><code>Instance types scopes</code>: By editing it, you can apply different filters to the node architectures, categories, families, and sizes. On the right, you can view all the instance types that match the applied filters. This means Karpenter will be able to spawn nodes on any of the listed instance types.<ul><li><code>Architectures</code>: by default both <code>AMD64</code> and <code>ARM64</code> architectures are selected.</li><li><code>Default build architecture</code>: by default <code>AMD64</code>. If you build your application with the Qovery CI, your application will be built using this architecture by default.</li><li><code>Families</code>: by default all families are selected.</li><li><code>Sizes</code>: by default all sizes are selected.</li></ul></li><li><code>Spot instances</code>: In order to reduce even more your costs, you can also enable the spot instances on your clusters. Spot instances cost up to 90% less compared to On-Demand prices. But keep in mind that spot instances can be terminated by the cloud provider at any time. Check this <a href="https://aws.amazon.com/ec2/spot/">documentation</a> for more information. Even if this flag is enabled, the statefulsets and Nginx controller won&#x27;t run on spot instances.</li></ul><p align="center"><img src="/img/configuration/clusters/spot_usage.png" alt="Spot usage"></p><div class="alert alert--warning alert--icon" role="alert"><i class="feather icon-alert-triangle"></i>Instance type selection from your Qovery Console has direct consequences on your cloud provider’s bill. While Qovery allows you to switch to a different instance type whenever you want, it is your sole responsibility to keep an eye on your infrastructure costs, especially when you want to upsize.<p>Please be aware that changing the instance type or disk size might cause a downtime for your service.</p><p>For more information on the instance types provided by each cloud provider and their associated pricing, see <a aria-current="page" class="active" href="/docs/using-qovery/configuration/clusters/#what-are-the-different-instance-types-available-when-creating-a-cluster">What are the different instance types available when creating a cluster?</a></p><p>Also, before downsizing, you need to ensure that your applications will still have enough resources to run correctly.</p></div><br><p>To confirm, click <code>Next</code>.</p></li><li><p>In the <code>Features</code> step, select the features you want to enable on your cluster.</p><p>If you want to manage the network layer of your cluster by yourself, you can switch VPC mode to <code>Deploy on my existing VPC</code> to use your own VPC instead of the one provided by Qovery.</p><div class="alert alert--warning alert--icon" role="alert"><i class="feather icon-alert-triangle"></i><p>These options can only be configured during cluster creation and cannot be modified later.</p></div><div class="margin-bottom--md"><div class="tabs--centered"><ul role="tablist" aria-orientation="horizontal" class="tabs rounded"><li role="tab" tabindex="0" aria-selected="true" class="tab-item tab-item--active">VPC managed by Qovery</li><li role="tab" tabindex="0" aria-selected="false" class="tab-item">Use your existing VPC</li></ul></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="static-ip"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#static-ip" title="Direct link to heading">#</a>Static IP</h4><p>By default, when your cluster is created, its worker nodes are allocated public IP addresses, which are used for external communication. For improved security and control, the <strong>Static IP</strong> feature allows you to ensure that outbound traffic from your cluster uses specific IP addresses.</p><p>Here is what will be deployed on your cluster:</p><ul><li>Nat Gateways</li><li>Elastic IPs</li><li>Private subnets</li></ul><p>Once set up, here is the procedure to find your static IP addresses on <code>AWS</code>:</p><ul><li>On your AWS account, select the VPC service.</li><li>On the left menu, you’ll find Elastic IP addresses. Once on it, in the Allocated IPv4 address column, you’ll have your public IPs.</li></ul><div class="alert alert--info alert--icon" role="alert"><i class="feather icon-info"></i><p>If you work in a sensitive business area such as financial technology, enabling the <strong>Static IP</strong> feature can help fulfil the security requirements of some of the external services you use, therefore making it easier for you to get whitelisted by them.</p><p>This feature has been activated by default. Since February 1, 2024, AWS charge public IPv4 Addresses. Disabling it may cost you more, depending on the number of nodes in your cluster. Check this <a href="https://aws.amazon.com/blogs/aws/new-aws-public-ipv4-address-charge-public-ip-insights/">link</a> for more information.</p></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="custom-vpc-subnet"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#custom-vpc-subnet" title="Direct link to heading">#</a>Custom VPC Subnet</h4><p>Virtual Private Cloud (VPC) peering allows you to set up a connection between your Qovery VPC and another VPC on your AWS account. This way, you can access resources stored on your AWS VPC directly from your Qovery applications.</p><p>A VPC can only be used if it has at least one range of IP addresses called a <strong>subnet</strong>. When you create a cluster, Qovery automatically picks a default subnet for it. However, to perform VPC peering, you may want to define which specific VPC subnet you want to use, so that you can avoid any conflicting settings. To do so, you can enable the <strong>Custom VPC Subnet</strong> feature on your cluster. For more information on how to set up VPC peering, <a href="https://hub.qovery.com/guides/tutorial/aws-vpc-peering-with-qovery/">see our dedicated tutorial</a>.</p></li><li><p>In the <code>Ready to install your cluster</code> window, check that the services needed to install your cluster are correct.</p><p>You can now press the <code>Create and Install</code> button.</p><p>Your cluster is now displayed in your organization settings, featuring the <code>Installing...</code> status (orange status). Once your cluster is properly installed, its status turns to green and you will be able to deploy your applications on it.</p><p>You can follow the execution of the action via the cluster status and/or by accessing the <a aria-current="page" class="active" href="/docs/using-qovery/configuration/clusters/#logs">Cluster Logs</a></p></li></ol><div class="steps--feedback">How was it? Did this tutorial work?  <span class="button button--sm button--primary">Yes</span>  <a href="https://github.com/qovery/documentation/issues/new?body=The%20tutorial%20on%3A%0A%0Anull%0A%0AHere%27s%20what%20went%20wrong%3A%0A%0A%3C%21--%20Insert%20command%20output%20and%20details.%20Thank%20you%20for%20reporting%21%20%3A%29%20--%3E&amp;title=Tutorial%20on%20null%20failed" target="_blank" class="button button--sm button--primary">No</a></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="migrating-from-aws-with-auto-scaler-to-aws-with-karpenter"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#migrating-from-aws-with-auto-scaler-to-aws-with-karpenter" title="Direct link to heading">#</a>Migrating from AWS with auto-scaler to AWS with Karpenter</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="requirements"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#requirements" title="Direct link to heading">#</a>Requirements</h4><div class="alert alert--warning alert--icon" role="alert"><i class="feather icon-alert-triangle"></i><p>Please check carefully the following requirements to ensure a successful migration with the minimum downtime.</p></div><div class="steps steps--h3"><ol><li><p>A SQS queue will be created. Update the IAM permissions of the Qovery user: make sure to use the <a href="https://hub.qovery.com/files/qovery-iam-aws.json">latest version here</a> to add the permission on SQS.</p></li><li><p>Your cluster should use the <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html">Instance Metadata Service Version 2</a>: make sure to set the <code>aws.eks.ec2.metadata_imds</code> cluster advanced settings to <code>required</code> if not already set (more details <a href="https://hub.qovery.com/docs/using-qovery/configuration/cluster-advanced-settings/#awseksec2metadata_imds">here</a>).
Redeploy your cluster before enabling Karpenter to apply the advanced setting change.</p><div class="alert alert--warning alert--icon" role="alert"><i class="feather icon-alert-triangle"></i><p>If some of your services are using the Instance Metadata Service Version 1, you must first update them to support the Version 2.</p></div></li><li><p>If you have configured an existing vpc for your cluster, you&#x27;ll need to indicate some additionnal subnets dedicated to fargate:</p><ul><li>those subnets must be <strong>private</strong></li><li>they must all have access to internet through a NAT gateway</li></ul></li><li><p>If you have deployed some daemonsets, you must update their definitions to enable them to run on every node of the future nodepools (stable &amp; default). Everything is explained in <a href="https://hub.qovery.com/guides/advanced/deploy-daemonset-with-karpenter/">our guide</a></p></li></ol><div class="steps--feedback">How was it? Did this tutorial work?  <span class="button button--sm button--primary">Yes</span>  <a href="https://github.com/qovery/documentation/issues/new?body=The%20tutorial%20on%3A%0A%0Anull%0A%0AHere%27s%20what%20went%20wrong%3A%0A%0A%3C%21--%20Insert%20command%20output%20and%20details.%20Thank%20you%20for%20reporting%21%20%3A%29%20--%3E&amp;title=Tutorial%20on%20null%20failed" target="_blank" class="button button--sm button--primary">No</a></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="enable-karpenter"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#enable-karpenter" title="Direct link to heading">#</a>Enable karpenter</h4><p>You can easily activate Karpenter on your non-production existing cluster by following this process:</p><div class="steps steps--h3"><ol><li><p>Open your <a href="https://console.qovery.com">Qovery Console</a>.</p></li><li><p>On the left menu bar, click on the Cluster page.</p></li><li><p>To access your cluster settings, click on the wheel button:</p><p align="center"><img src="/img/configuration/clusters/cluster_settings.png" alt="Display Cluster Settings"></p></li><li><p>Access to <code>Resources</code> section and switch on the toggle <code>Activate Karpenter</code></p></li><li><p>Update your cluster by selecting the action <code>Update</code> from the drop-down menu.</p></li><li><p>Once the update is complete, your cluster will be running on Karpenter. By default, only the instance types selected when you created your AWS cluster with the auto-scaler will be configured. You can add additional instance types by editing the instance types in the resources section.</p></li><li><p>Please redeploy all your environments of your cluster: this will automatically update your services configuration to run them on the appropriate nodepool.</p></li></ol><div class="steps--feedback">How was it? Did this tutorial work?  <span class="button button--sm button--primary">Yes</span>  <a href="https://github.com/qovery/documentation/issues/new?body=The%20tutorial%20on%3A%0A%0Anull%0A%0AHere%27s%20what%20went%20wrong%3A%0A%0A%3C%21--%20Insert%20command%20output%20and%20details.%20Thank%20you%20for%20reporting%21%20%3A%29%20--%3E&amp;title=Tutorial%20on%20null%20failed" target="_blank" class="button button--sm button--primary">No</a></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="managing-your-cluster-settings"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#managing-your-cluster-settings" title="Direct link to heading">#</a>Managing your Cluster Settings</h3><p>To manage the settings of an existing cluster:</p><div class="steps steps--h3"><ol><li><p>Open your <a href="https://console.qovery.com">Qovery Console</a>.</p></li><li><p>On the left menu bar, click on the Cluster page.</p></li><li><p>To access your cluster settings, click on the wheel button:</p><p align="center"><img src="/img/configuration/clusters/cluster_settings.png" alt="Display Cluster Settings"></p></li></ol><div class="steps--feedback">How was it? Did this tutorial work?  <span class="button button--sm button--primary">Yes</span>  <a href="https://github.com/qovery/documentation/issues/new?body=The%20tutorial%20on%3A%0A%0Anull%0A%0AHere%27s%20what%20went%20wrong%3A%0A%0A%3C%21--%20Insert%20command%20output%20and%20details.%20Thank%20you%20for%20reporting%21%20%3A%29%20--%3E&amp;title=Tutorial%20on%20null%20failed" target="_blank" class="button button--sm button--primary">No</a></div></div><p>Below you can find a description of each section</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="general"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#general" title="Direct link to heading">#</a>General</h4><p>The <code>General</code> tab allows you to define high-level information on your cluster:</p><table><thead><tr><th>Item</th><th>Description</th></tr></thead><tbody><tr><td>Cluster Name</td><td>To edit the name of your cluster.</td></tr><tr><td>Description</td><td>To enter or edit the description of your cluster.</td></tr><tr><td>Production Cluster</td><td>To enter or edit the production flag of your cluster.</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="credentials"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#credentials" title="Direct link to heading">#</a>Credentials</h4><p>Here you can manage here the cloud provider credentials associated with your cluster.</p><p>If you need to change the credentials:</p><ul><li>generate a new set of credentials on your cloud provider(<a href="/docs/getting-started/install-qovery/aws/cluster-managed-by-qovery/quickstart/#attach-aws-credentials">Procedure for AWS account</a>)</li><li>create the new credential on the Qovery by opening the drop-down and selecting &quot;New Credentials&quot;</li></ul><p>Once created and associated, you need to <a aria-current="page" class="active" href="/docs/using-qovery/configuration/clusters/#updating-a-cluster">updating your cluster</a> to apply the change.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resources"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#resources" title="Direct link to heading">#</a>Resources</h4><p>Qovery deploys two node pools by default:</p><ul><li><strong>Stable node pool</strong>: Used for single instances and internal Qovery applications. For example, any containerized databases or application having the number of minimum and maximum instances equal to 1 will be deployed on this nodepool. On this nodepool the consolidation is deactivated by default.</li><li><strong>Default node pool</strong>: Designed to handle general workloads and serves as the foundation for deploying most applications.</li></ul><p>Qovery allows you to modify the resources allocated to your cluster:</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="shared-settings-for-both-nodepools"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#shared-settings-for-both-nodepools" title="Direct link to heading">#</a>Shared settings for both nodepools:</h5><ul><li><strong>Instance types</strong>: Define the list of instance types that can be used.</li><li><strong>Spot instances</strong>: Enable or disable spot instances.</li><li><strong>Node disk size (GB)</strong>: Specify the disk capacity allocated per worker node, determining the amount of data each node can store.</li></ul><div class="alert alert--warning alert--icon" role="alert"><i class="feather icon-alert-triangle"></i>Instance type selection from your Qovery Console has direct consequences on your cloud provider’s bill. While Qovery allows you to switch to a different instance type whenever you want, it is your sole responsibility to keep an eye on your infrastructure costs, especially when you want to upsize.<p>For more information on the instance types provided by each cloud provider and their associated pricing, see <a aria-current="page" class="active" href="/docs/using-qovery/configuration/clusters/#what-are-the-different-instance-types-available-when-creating-a-cluster">What are the different instance types available when creating a cluster?</a></p></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="nodepool-specific-settings"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#nodepool-specific-settings" title="Direct link to heading">#</a>Nodepool specific settings:</h5><ul><li><strong>Consolidation schedule</strong> <em>(Stable nodepool only)</em>: Optimizes resource usage by consolidating workloads onto fewer nodes. This feature is not available for the default nodepool, as consolidation can happen at any time. We recommend enabling this option; otherwise, nodes will never be consolidated, leading to unnecessary infrastructure costs.</li><li><strong>Node pool limits</strong>: Configure CPU and memory limits to ensure nodes stay within defined resource constraints, preventing excessive costs.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="image-registry"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#image-registry" title="Direct link to heading">#</a>Image registry</h4><p>In this tab, you will see that a container registry already exist (called <code>registry-{$UIID}</code>).
This is your cloud provider container registry used by Qovery to manage the deployment of your applications by mirroring the docker images.</p><p>The credentials configured on this registry are the one used to create the cluster. But you can still update them if you prefer to manage them separately (dedicated pair of creds just to access the registry).</p><p>Check <a href="/docs/using-qovery/deployment/image-mirroring/">this link</a> for more information.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="features"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#features" title="Direct link to heading">#</a>Features</h4><p>The <code>Features</code> tab in your cluster settings allows you to check if the <a aria-current="page" class="active" href="/docs/using-qovery/configuration/clusters/aws-with-karpenter#static-ip"><strong>Static IP</strong></a>,  <a aria-current="page" class="active" href="/docs/using-qovery/configuration/clusters/aws-with-karpenter#custom-vpc-subnet"><strong>Custom VPC subnet</strong></a>, <a aria-current="page" class="active" href="/docs/using-qovery/configuration/clusters/aws-with-karpenter#use-existing-vpc"><strong>Deploy on existing VPC</strong></a> features are enabled on your cluster. The enabled features cannot be changed after the creation of the cluster.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="network"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#network" title="Direct link to heading">#</a>Network</h4><p>The <code>Network</code> tab in your cluster settings allows you to update your Qovery VPC route table so that you can perform VPC peering. For step-by-step guidelines on how to set up VPC peering, <a href="https://hub.qovery.com/guides/tutorial/aws-vpc-peering-with-qovery/">see our dedicated tutorial</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="defining-cluster-node-constraints-to-run-your-services"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#defining-cluster-node-constraints-to-run-your-services" title="Direct link to heading">#</a>Defining cluster node constraints to run your Services</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="define-if-your-service-can-run-on-a-on-demand-instance"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#define-if-your-service-can-run-on-a-on-demand-instance" title="Direct link to heading">#</a>Define if your service can run on a on-demand instance</h4><p>When using spot instances in your cluster, you may want to ensure that certain critical services, such as databases or essential applications, are always deployed on on-demand instances.</p><p>To specify that a service should be deployed on an <code>on-demand</code> instance, manually set the <code>deployment.affinity.node.required</code> advanced setting to:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-json codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;karpenter.sh/capacity-type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;on-demand&quot;</span><span class="token punctuation" style="color:#393A34">}</span></div></div></pre></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="define-the-instance-type-to-run-your-service"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#define-the-instance-type-to-run-your-service" title="Direct link to heading">#</a>Define the instance type to run your service</h4><p>In some cases, you may need to ensure that a specific service runs on a particular instance type to meet performance, compliance, or cost requirements.</p><p>For example, to assign a service to the t3a.xlarge instance type, manually set the <code>deployment.affinity.node.required</code> advanced setting to:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-json codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;node.kubernetes.io/instance-type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;t3a.xlarge&quot;</span><span class="token punctuation" style="color:#393A34">}</span></div></div></pre></div></div><div class="alert alert--info alert--icon" role="alert"><i class="feather icon-info"></i><p>The specified instance type must be included in the list of instance types defined in the <a aria-current="page" class="active" href="/docs/using-qovery/configuration/clusters/aws-with-karpenter/#resources">NodePool configuration</a>.</p></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="change-the-node-pool-of-your-service-when-using-helm"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#change-the-node-pool-of-your-service-when-using-helm" title="Direct link to heading">#</a>Change the node pool of your service when using Helm</h4><p>When using Helm, you can udpate the <code>affinity</code> field in your <code>values.yaml</code> file to target a specific node pool for your service. For example you can switch from the <code>default</code> to <code>stable</code> nodepool:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-yaml codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">affinity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">nodeAffinity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">requiredDuringSchedulingIgnoredDuringExecution</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">nodeSelectorTerms</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">matchExpressions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> karpenter.sh/nodepool</span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">operator</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> In</span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">values</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> stable</span></div></div></pre></div></div><p>And you also have to add tolerations:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-yaml codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">tolerations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">effect</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NoSchedule</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodepool/stable</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">operator</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Exists</span></div></div></pre></div></div></div></article></div><div class="paginator_3VDt"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/using-qovery/configuration/clusters/aws"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« AWS EKS</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/using-qovery/configuration/clusters/gcp"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">GCP GKE »</h4></a></div></nav></div></div><div class="rightCol_38kP"><div class="table-of-contents tableOfContents_tVyB"><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#creating-a-aws-eks-cluster-with-karpenter" class="contents__link">Creating a AWS EKS Cluster with Karpenter</a></li><li><a href="#migrating-from-aws-with-auto-scaler-to-aws-with-karpenter" class="contents__link">Migrating from AWS with auto-scaler to AWS with Karpenter</a></li><li><a href="#managing-your-cluster-settings" class="contents__link">Managing your Cluster Settings</a></li><li><a href="#defining-cluster-node-constraints-to-run-your-services" class="contents__link">Defining cluster node constraints to run your Services</a></li></ul></div><div class="section"><div class="title">Resources</div><ul class="contents"></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><p>Qovery is a DevOps Automation Platform Helping 200+ Organizations To Ship Faster and Eliminate DevOps Hiring Needs.</p></div><div><a href="https://github.com/qovery" target="_blank"><i class="feather icon-github" alt="Qovery&#x27;s Github Repo"></i></a>    <a href="https://www.linkedin.com/company/qovery/" target="_blank"><i class="feather icon-rss" alt="Qovery&#x27;s Linkedin"></i></a>    <a href="https://twitter.com/qovery_" target="_blank"><i class="feather icon-twitter" alt="Qovery&#x27;s Twitter"></i></a></div></div><div class="col footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/guides">Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/guides/tutorial">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/guides/engineering">Engineering</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/pricing" href="https://www.qovery.com/pricing">Pricing</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/enterprise" href="https://www.qovery.com/enterprise">Enterprise</a></li><li class="footer__item"><a class="footer__link-item" to="https://api-doc.qovery.com" href="https://api-doc.qovery.com">API</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery" href="https://github.com/Qovery">Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://community.qovery.com" href="https://community.qovery.com">Forum</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/community-call" href="https://www.qovery.com/community-call">Community call</a></li><li class="footer__item"><a class="footer__link-item" to="https://shop.qovery.com" href="https://shop.qovery.com">Goodies</a></li><li class="footer__item"><a class="footer__link-item" to="https://roadmap.qovery.com" href="https://roadmap.qovery.com">Roadmap</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery/replibyte" href="https://github.com/Qovery/replibyte">Replibyte</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/blog" href="https://www.qovery.com/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" to="https://jobs.qovery.com" href="https://jobs.qovery.com">Jobs</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/team" href="https://www.qovery.com/team">Team</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/investors" href="https://www.qovery.com/investors">Investors</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/contact" href="https://www.qovery.com/contact">Contact</a></li></ul></div></div><div class="text--center"><small>© 2025 DESIGNED BY QOVERY | PROUD SILVER MEMBER OF CNCF AND LINUX FOUNDATION | QOVERY BY BIRDSIGHT - ALL RIGHTS RESERVED</small><br></div></div></footer>
</div>

<script src="/styles.255c8fd1.js"></script>

<script src="/runtime~main.f8e3d81d.js"></script>

<script src="/main.10c3ce23.js"></script>

<script src="/2.91632de6.js"></script>

<script src="/3.ac200c48.js"></script>

<script src="/4.6ed4e18f.js"></script>

<script src="/1be78505.c981d10c.js"></script>

<script src="/20ac7829.1c0e38af.js"></script>

<script src="/318.35267e1a.js"></script>

<script src="/17896441.fe3a9210.js"></script>

<script src="/1.385570ab.js"></script>

<script src="/acbf1af7.6d845bb4.js"></script>


</body>
</html>