/*! For license information please see 39686ad9.472e6010.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{219:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return u}));var o=n(1),r=n(9),a=(n(0),n(441)),i=(n(448),n(440),n(445),{last_modified_on:"2023-12-28",title:"Deploying with the auto-deploy feature",description:"Learn how to deploy with the auto-deploy feature"}),c={id:"using-qovery/deployment/deploying-with-auto-deploy",title:"Deploying with the auto-deploy feature",description:"Learn how to deploy with the auto-deploy feature",source:"@site/docs/using-qovery/deployment/deploying-with-auto-deploy.md",permalink:"/docs/using-qovery/deployment/deploying-with-auto-deploy",sidebar:"docs",previous:{title:"Deployment",permalink:"/docs/using-qovery/deployment"},next:{title:"Deploying with your CI/CD",permalink:"/docs/using-qovery/deployment/deploying-with-ci-cd"}},l=[{value:"How to activate it",id:"how-to-activate-it",children:[{value:"Filtering commits triggering the auto-deploy",id:"filtering-commits-triggering-the-auto-deploy",children:[]}]},{value:"Auto-deploy and container images",id:"auto-deploy-and-container-images",children:[]}],s={rightToc:l};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(o.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Once you have configured your services and deployed them for the first time, you can decide to automatically update the applications to the latest version of your git branch thanks to the auto-deploy feauture."),Object(a.b)("p",null,"Each time a commit is pushed on your git repository, Qovery receives a webhook call containing the commit information (who did it, what changed, which branch etc..). Thanks to this information, Qovery is able to determine which application should be automatically re-deployed with the new version."),Object(a.b)("h2",{id:"how-to-activate-it"},"How to activate it"),Object(a.b)("p",null,"The auto-deploy feature can be activated from the application settings, by switching on the auto-deploy flag."),Object(a.b)("p",{align:"center"},Object(a.b)("img",{src:"/img/deployment/auto-deploy-settings.png",alt:"Auto-deploy settings"})),Object(a.b)("p",null,"It can also be activated on the first step of the service creation flow"),Object(a.b)("p",{align:"center"},Object(a.b)("img",{src:"/img/deployment/auto-deploy-creation-flow.png",alt:"Auto-deploy creation flow"})),Object(a.b)("p",null,"Once this flag is activated, every new commit pushed on the branch of the application will trigger an automatic deployment of the new version."),Object(a.b)("h3",{id:"filtering-commits-triggering-the-auto-deploy"},"Filtering commits triggering the auto-deploy"),Object(a.b)("p",null,"By default every new commit pushed on the branch will trigger a deployment of the application. You can use the ",Object(a.b)("inlineCode",{parentName:"p"},"Deployment restrictions")," feature to include or exclude certain files or folders from the feature and avoid un-necessary deployments (like a change on the README file)."),Object(a.b)("p",null,"To add a new restriction, go into the ",Object(a.b)("inlineCode",{parentName:"p"},"Deployment restrictions")," section of your application settings."),Object(a.b)("p",{align:"center"},Object(a.b)("img",{src:"/img/deployment/deployment_restrictions.png",alt:"Deployment restrictions"})),Object(a.b)("p",null,"When adding a new restriction, two modes can be selected:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},'EXCLUDE: commits on the file or folder defined in the "Value" field will be ignored'),Object(a.b)("li",{parentName:"ul"},'MATCH: only commits on the file or folder defined in the "Value" field will trigger a deployment')),Object(a.b)("p",null,"Note: "),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},'"Value" should contain the full file path and can\'t start with ',Object(a.b)("inlineCode",{parentName:"li"},"/")),Object(a.b)("li",{parentName:"ul"},'Wildcards are not supported in the "Value" field (you can specify "my-prefix*" to exclude commits on files starting with "my-prefix")')),Object(a.b)("h2",{id:"auto-deploy-and-container-images"},"Auto-deploy and container images"),Object(a.b)("p",null,"The auto-deploy feature can be activated as well if you directly deploy your container images but it requires some additional integration via your CI/CD. Your CI/CD has to inform Qovery that a new version of the image (a new tag) is available for a specific container image. Thanks to this information, Qovery can find any application that uses this container image and automatically trigger a deployment of the new image tag."),Object(a.b)("p",null,"To inform Qovery of the new version, your CI/CD needs to call the following endpoints, depending on the service type:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Container: ",Object(a.b)("a",Object(o.a)({parentName:"li"},{href:"https://api-doc.qovery.com/#tag/Containers/operation/autoDeployContainerEnvironments"}),"https://api-doc.qovery.com/#tag/Containers/operation/autoDeployContainerEnvironments")),Object(a.b)("li",{parentName:"ul"},"Lifecycle job / cronjob: ",Object(a.b)("a",Object(o.a)({parentName:"li"},{href:"https://api-doc.qovery.com/#tag/Jobs/operation/autoDeployJobEnvironments"}),"https://api-doc.qovery.com/#tag/Jobs/operation/autoDeployJobEnvironments"))))}u.isMDXComponent=!0},439:function(e,t,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)&&o.length){var i=r.apply(null,o);i&&e.push(i)}else if("object"===a)for(var c in o)n.call(o,c)&&o[c]&&e.push(c)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},440:function(e,t,n){"use strict";n(442);var o=n(0),r=n.n(o),a=n(439),i=n.n(a);n(132);t.a=function(e){var t=e.children,n=e.classNames,o=e.fill,a=e.icon,c=e.type,l=null;switch(c){case"danger":l="alert-triangle";break;case"success":l="check-circle";break;case"warning":l="alert-triangle";break;default:l="info"}return r.a.createElement("div",{className:i()(n,"alert","alert--"+c,{"alert--fill":o,"alert--icon":!1!==a}),role:"alert"},!1!==a&&r.a.createElement("i",{className:i()("feather","icon-"+(a||l))}),t)}},441:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var o=n(0),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),u=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},p=function(e){var t=u(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=Object(o.forwardRef)((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=u(n),m=o,f=p["".concat(i,".").concat(m)]||p[m]||d[m]||a;return n?r.a.createElement(f,c({ref:t},s,{components:n})):r.a.createElement(f,c({ref:t},s))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:o,i[1]=c;for(var s=2;s<a;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},442:function(e,t,n){var o=n(12);o(o.P,"Array",{fill:n(443)}),n(74)("fill")},443:function(e,t,n){"use strict";var o=n(27),r=n(75),a=n(26);e.exports=function(e){for(var t=o(this),n=a(t.length),i=arguments.length,c=r(i>1?arguments[1]:void 0,n),l=i>2?arguments[2]:void 0,s=void 0===l?n:r(l,n);s>c;)t[c++]=e;return t}},444:function(e,t,n){var o=n(28).f,r=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in r||n(10)&&o(r,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},445:function(e,t,n){"use strict";n(444);var o=n(0),r=n.n(o),a=n(440);t.a=function(e){var t=e.children,n=e.name;return r.a.createElement(a.a,{type:"info",fill:!0,icon:!1,rounded:!0,className:"list--icons list--icons--arrow list--tight list--indent margin-bottom--lg"},r.a.createElement("p",{class:"text--lg margin-bottom--sm",style:{marginTop:"-0.25em"}},"Before you begin, this ",n||"page"," assumes the following:"),t)}},446:function(e,t,n){"use strict";var o=n(1),r=n(0),a=n.n(r),i=n(39),c=n(449),l=n(20),s=n.n(l);t.a=function(e){var t,n=e.to,l=e.href,u=n||l,p=Object(c.a)(u),d=Object(r.useRef)(!1),m=s.a.canUseIntersectionObserver;return Object(r.useEffect)((function(){return!m&&p&&window.docusaurus.prefetch(u),function(){m&&t&&t.disconnect()}}),[u,m,p]),u&&p?a.a.createElement(i.b,Object(o.a)({},e,{onMouseEnter:function(){d.current||(window.docusaurus.preload(u),d.current=!0)},innerRef:function(e){var n,o;m&&e&&p&&(n=e,o=function(){window.docusaurus.prefetch(u)},(t=new window.IntersectionObserver((function(e){e.forEach((function(e){n===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(t.unobserve(n),t.disconnect(),o())}))}))).observe(n))},to:u})):a.a.createElement("a",Object(o.a)({},e,{href:u}))}},448:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=n(446),i=n(439),c=n.n(i);n(133);t.a=function(e){var t=e.children,n=e.className,o=e.badge,i=e.leftIcon,l=e.rightIcon,s=e.size,u=e.target,p=e.to,d=c()("jump-to","jump-to--"+s,n),m=r.a.createElement("div",{className:"jump-to--inner"},r.a.createElement("div",{className:"jump-to--inner-2"},i&&r.a.createElement("div",{className:"jump-to--left"},r.a.createElement("i",{className:"feather icon-"+i})),r.a.createElement("div",{className:"jump-to--main"},o?r.a.createElement("span",{className:"badge badge--primary badge--right"},o):"",t),r.a.createElement("div",{className:"jump-to--right"},r.a.createElement("i",{className:"feather icon-"+(l||"chevron-right")+" arrow"}))));return u?r.a.createElement("a",{href:p,target:u,className:d},m):r.a.createElement(a.a,{to:p,className:d},m)}},449:function(e,t,n){"use strict";function o(e){return!1===/^(https?:|\/\/)/.test(e)}n.d(t,"a",(function(){return o}))}}]);