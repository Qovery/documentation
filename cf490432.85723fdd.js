/*! For license information please see cf490432.85723fdd.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[259],{411:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return s})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return o})),a.d(t,"default",(function(){return u}));var n=a(1),c=a(9),i=(a(0),a(469)),r=a(468),s={last_modified_on:"2024-11-15",title:"SOC2",description:"Systems and Organizations Controls 2"},l={id:"security-and-compliance/soc2",title:"SOC2",description:"Systems and Organizations Controls 2",source:"@site/docs/security-and-compliance/soc2.md",permalink:"/docs/security-and-compliance/soc2",sidebar:"docs",previous:{title:"GDPR",permalink:"/docs/security-and-compliance/gdpr"},next:{title:"FAQ",permalink:"/docs/useful-resources/faq"}},o=[{value:"Cluster advanced settings",id:"cluster-advanced-settings",children:[{value:"AWS CloudWatch ",id:"aws-cloudwatch",children:[]},{value:"Application Logs Retention   ",id:"application-logs-retention",children:[]},{value:"VPC flow logs  ",id:"vpc-flow-logs",children:[]},{value:"Databases access   ",id:"databases-access",children:[]},{value:"Kubernetes API access  ",id:"kubernetes-api-access",children:[]},{value:"Container images retention time   ",id:"container-images-retention-time",children:[]},{value:"AWS EC2 metadata access ",id:"aws-ec2-metadata-access",children:[]}]},{value:"Schema",id:"schema",children:[]}],b={rightToc:o};function u(e){var t=e.components,a=Object(c.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,Object(i.b)("img",Object(n.a)({parentName:"p"},{src:"/img/compliances/compliance_logo.png",alt:null}))),Object(i.b)("p",null,"Qovery infrastructure and processes comply with SOC2 (Systems and Organizations Controls 2) best practices. By default, Qovery integrates numerous security features into your applications, clusters, and databases,\nensuring alignment with SOC2\u2019s stringent security standards. For more information, visit the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://trust.qovery.com/"}),"Qovery trust page"),"."),Object(i.b)("p",null,"All customers using Qovery benefit from a SOC2-compliant infrastructure, significantly reducing the time required for compliance readiness."),Object(i.b)("p",null,"This documentation outlines configuration settings for achieving SOC2 compliance and additional recommended security measures."),Object(i.b)("h2",{id:"cluster-advanced-settings"},"Cluster advanced settings"),Object(i.b)("p",null,"In the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/cluster-advanced-settings/"}),"Cluster Advanced Settings"),", you will find several configurable options to enhance compliance with SOC2. Here are the key settings:"),Object(i.b)("h3",{id:"aws-cloudwatch"},"AWS CloudWatch ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/aws.svg",alt:null}))),Object(i.b)("p",null,"To meet SOC2 retention requirements, set the ",Object(i.b)("inlineCode",{parentName:"p"},"aws.cloudwatch.eks_logs_retention_days")," to at least 365 days."),Object(i.b)("h3",{id:"application-logs-retention"},"Application Logs Retention ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/aws.svg",alt:null}))," ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/scaleway.svg",alt:null}))," ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/gcp.svg",alt:null}))),Object(i.b)("p",null,"To meet SOC2 retention requirements, and store applications/containers logs in the object storage used by Loki, set the ",Object(i.b)("inlineCode",{parentName:"p"},"loki.log_retention_in_week")," to at least 365 days."),Object(i.b)("h3",{id:"vpc-flow-logs"},"VPC flow logs ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/aws.svg",alt:null}))," ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/gcp.svg",alt:null}))),Object(i.b)("p",null,"Enable VPC flow logs to monitor and maintain network traffic visibility:"),Object(i.b)("p",null,"On AWS:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Set ",Object(i.b)("inlineCode",{parentName:"li"},"aws.vpc.enable_s3_flow_logs")," to ",Object(i.b)("inlineCode",{parentName:"li"},"true"),"."),Object(i.b)("li",{parentName:"ul"},"Specify ",Object(i.b)("inlineCode",{parentName:"li"},"aws.vpc.flow_logs_retention_days")," to ",Object(i.b)("inlineCode",{parentName:"li"},"365")," days or more to ensure compliance.")),Object(i.b)("p",null,"On GCP:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Set ",Object(i.b)("inlineCode",{parentName:"li"},"gcp.vpc.enable_flow_logs")," to ",Object(i.b)("inlineCode",{parentName:"li"},"true"),"."),Object(i.b)("li",{parentName:"ul"},"Set ",Object(i.b)("inlineCode",{parentName:"li"},"gcp.vpc.flow_logs_sampling")," to ",Object(i.b)("inlineCode",{parentName:"li"},"1.0")," to capture all network traffic.")),Object(i.b)("h3",{id:"databases-access"},"Databases access ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/aws.svg",alt:null}))," ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/scaleway.svg",alt:null}))," ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/gcp.svg",alt:null}))),Object(i.b)("p",null,"Qovery allows databases to be publicly accessible for convenience; however, to comply with SOC2, it\u2019s recommended to ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/cluster-advanced-settings/#database-access"}),"restrict this access")," to secure your databases by changing the value of those settings:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"database.<database type>.deny_public_access"),": set the CIDR ranges permitted to access the database."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"database.<database type>.allowed_cidrs"),": limit access to only your VPC CIDR or other specified IP ranges.")),Object(i.b)("h3",{id:"kubernetes-api-access"},"Kubernetes API access ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/aws.svg",alt:null}))," ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/gcp.svg",alt:null}))),Object(i.b)("p",null,"By default, cloud providers allow public access to the Kubernetes API, which is secured by TLS certificates. AWS and GCP provide an added layer of security by requiring account-based dual authentication."),Object(i.b)("p",null,"SOC2 compliance, however, mandates restricted access to the Kubernetes API. To achieve this:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"qovery.static_ip_mode"),": limit access to Qovery\u2019s designated IPs. Qovery needs this access to perform infrastructure maintenance and application deployment."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"k8s.api.allowed_public_access_cidrs"),": optional, define any additional CIDRs that require access to the Kubernetes API, thus limiting external access further.")),Object(i.b)(r.a,{type:"info",mdxType:"Alert"},Object(i.b)("p",null,"Please refer to the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/cluster-advanced-settings/#qoverystatic_ip_mode"}),"dedicated documentation section"),", you have to create a Dockerhub account and link it to Qovery to avoid rate limit.")),Object(i.b)("h3",{id:"container-images-retention-time"},"Container images retention time ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/aws.svg",alt:null}))," ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/scaleway.svg",alt:null}))," ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/gcp.svg",alt:null}))),Object(i.b)("p",null,"SOC2 requires that images be retained for a minimum of 365 days. To meet this requirement, set the ",Object(i.b)("inlineCode",{parentName:"p"},"registry.image_retention_time")," to at least 365 days."),Object(i.b)("h3",{id:"aws-ec2-metadata-access"},"AWS EC2 metadata access ",Object(i.b)("img",Object(n.a)({parentName:"h3"},{src:"/img/advanced_settings/aws.svg",alt:null}))),Object(i.b)("p",null,"To comply with SOC2, restrict access to the AWS EC2 metadata service."),Object(i.b)("p",null,"Set ",Object(i.b)("inlineCode",{parentName:"p"},"aws.eks.ec2.metadata_imds")," to ",Object(i.b)("inlineCode",{parentName:"p"},"required")," to prevent unauthorized access to the metadata service."),Object(i.b)("h2",{id:"schema"},"Schema"),Object(i.b)("p",null,"For SOC2 compliance, an auditor may request a diagram of your infrastructure and its connection to Qovery. Below is the diagram you can share:"),Object(i.b)("p",null,Object(i.b)("img",Object(n.a)({parentName:"p"},{src:"/img/compliances/qovery_soc2_schema.svg",alt:null}))))}u.isMDXComponent=!0},467:function(e,t,a){var n;!function(){"use strict";var a={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var r=c.apply(null,n);r&&e.push(r)}else if("object"===i)for(var s in n)a.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0===(n=function(){return c}.apply(t,[]))||(e.exports=n)}()},468:function(e,t,a){"use strict";a(470);var n=a(0),c=a.n(n),i=a(467),r=a.n(i);a(132);t.a=function(e){var t=e.children,a=e.classNames,n=e.fill,i=e.icon,s=e.type,l=null;switch(s){case"danger":l="alert-triangle";break;case"success":l="check-circle";break;case"warning":l="alert-triangle";break;default:l="info"}return c.a.createElement("div",{className:r()(a,"alert","alert--"+s,{"alert--fill":n,"alert--icon":!1!==i}),role:"alert"},!1!==i&&c.a.createElement("i",{className:r()("feather","icon-"+(i||l))}),t)}},469:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(0),c=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var o=c.a.createContext({}),b=function(e){var t=c.a.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s({},t,{},e)),a},u=function(e){var t=b(e.components);return c.a.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return c.a.createElement(c.a.Fragment,{},t)}},p=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,r=e.parentName,o=l(e,["components","mdxType","originalType","parentName"]),u=b(a),p=n,m=u["".concat(r,".").concat(p)]||u[p]||d[p]||i;return a?c.a.createElement(m,s({ref:t},o,{components:a})):c.a.createElement(m,s({ref:t},o))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,r=new Array(i);r[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,r[1]=s;for(var o=2;o<i;o++)r[o]=a[o];return c.a.createElement.apply(null,r)}return c.a.createElement.apply(null,a)}p.displayName="MDXCreateElement"},470:function(e,t,a){var n=a(12);n(n.P,"Array",{fill:a(471)}),a(74)("fill")},471:function(e,t,a){"use strict";var n=a(27),c=a(75),i=a(26);e.exports=function(e){for(var t=n(this),a=i(t.length),r=arguments.length,s=c(r>1?arguments[1]:void 0,a),l=r>2?arguments[2]:void 0,o=void 0===l?a:c(l,a);o>s;)t[s++]=e;return t}}}]);