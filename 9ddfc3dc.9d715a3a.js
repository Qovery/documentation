/*! For license information please see 9ddfc3dc.9d715a3a.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{297:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return s})),a.d(t,"rightToc",(function(){return u})),a.d(t,"default",(function(){return p}));var n=a(1),r=a(9),o=(a(0),a(407)),c=a(406),i=a(416),b=a(413),l={last_modified_on:"2021-12-15",title:"MongoDB",description:"How to set up and use a MongoDB database"},s={id:"using-qovery/configuration/database/mongodb",title:"MongoDB",description:"How to set up and use a MongoDB database",source:"@site/docs/using-qovery/configuration/database/mongodb.md",permalink:"/docs/using-qovery/configuration/database/mongodb",editUrl:"https://github.com/Qovery/documentation/edit/master/website/docs/using-qovery/configuration/database/mongodb.md",sidebar:"docs",previous:{title:"MySQL",permalink:"/docs/using-qovery/configuration/database/mysql"},next:{title:"Redis",permalink:"/docs/using-qovery/configuration/database/redis"}},u=[{value:"Create a MongoDB database",id:"create-a-mongodb-database",children:[]},{value:"Configuration",id:"configuration",children:[{value:"General",id:"general",children:[]},{value:"Resources",id:"resources",children:[]}]},{value:"Credentials",id:"credentials",children:[]},{value:"Delete your MongoDB instance",id:"delete-your-mongodb-instance",children:[]}],d={rightToc:u};function p(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},d,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)(b.a,{name:"documentation",mdxType:"Assumptions"},Object(o.b)("p",null,"You have created an ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/environment/"}),"Environment"),".")),Object(o.b)("p",null,"MongoDB is a cross-platform document-oriented database program. Classified as a NoSQL, MongoDB uses JSON-like documents with schema."),Object(o.b)(c.a,{type:"info",mdxType:"Alert"},Object(o.b)("p",null,"Check out ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/guides/getting-started/create-a-database/"}),"this video guide")," to create and deploy your first database")),Object(o.b)("h2",{id:"create-a-mongodb-database"},"Create a MongoDB database"),Object(o.b)(i.a,{headingDepth:3,mdxType:"Steps"},Object(o.b)("ol",null,Object(o.b)("li",null,Object(o.b)("p",null,"Navigate to ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://console.qovery.com"}),"Console"))),Object(o.b)("li",null,Object(o.b)("p",null,"Select your project and environment")),Object(o.b)("li",null,Object(o.b)("p",null,"Click ",Object(o.b)("inlineCode",{parentName:"p"},"Add Database")," button"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/configuration/database/db-1.png",alt:"Database"}))),Object(o.b)("li",null,Object(o.b)("p",null,"Select database type, name and version"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/configuration/database/mongo-1.png",alt:"Database"}))),Object(o.b)("li",null,Object(o.b)("p",null,"Deploy the database using ",Object(o.b)("inlineCode",{parentName:"p"},"Action")," deploy button"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/configuration/database/db-3.png",alt:"Database"}))))),Object(o.b)("h2",{id:"configuration"},"Configuration"),Object(o.b)("h3",{id:"general"},"General"),Object(o.b)("h4",{id:"modes"},"Modes"),Object(o.b)("p",null,"Databases can operate in two modes:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Managed"),Object(o.b)("li",{parentName:"ul"},"Container")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Managed")," databases are perfect for production - they are provided and managed by major cloud providers like AWS to make sure your production data is well managed."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Container")," databases are managed by Qovery as Docker containers with attached persistent storage. They are perfect for development and testing, as they are significantly cheaper than services provided by cloud providers."),Object(o.b)(c.a,{type:"warning",mdxType:"Alert"},Object(o.b)("p",null,"Managed databases are supported only in ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.qovery.com/pricing"}),"paid plans"),", it's not available in the ",Object(o.b)("inlineCode",{parentName:"p"},"Community")," version.")),Object(o.b)("h4",{id:"versions"},"Versions"),Object(o.b)("p",null,"Qovery supports the following MongoDB versions."),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Cloud provider"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Version"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Container supported"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Managed supported"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"AWS"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4.4"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"AWS"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4.2"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"AWS"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4.0"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Digital Ocean"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4.4"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Soon")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Digital Ocean"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4.2"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Soon")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Digital Ocean"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4.0"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Soon")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Scaleway"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4.4"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"No")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Scaleway"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4.2"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"No")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Scaleway"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4.0"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Yes"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"No")))),Object(o.b)("p",null,"You can adjust the version of your database in ",Object(o.b)("inlineCode",{parentName:"p"},"General")," section of database settings:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/configuration/database/mongo-2.png",alt:"Database Version"})),Object(o.b)("h4",{id:"accessibility"},"Accessibility"),Object(o.b)("p",null,"To make your database secure, you may decide not to expose it publicly."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"Public")," access will make your database accessible via the public network"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"Private")," access will make your database accessible only by applications in your environment")),Object(o.b)("p",null,"You can configure the accessibility settings in ",Object(o.b)("inlineCode",{parentName:"p"},"General")," section of database settings:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/configuration/database/mongo-2.png",alt:"Database Accessibility"})),Object(o.b)("h3",{id:"resources"},"Resources"),Object(o.b)("h4",{id:"cpu"},"CPU"),Object(o.b)("p",null,"To tweak CPU configuration of your database, navigate to ",Object(o.b)("inlineCode",{parentName:"p"},"Resource")," section in database settings:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/configuration/database/db-4.png",alt:"Database CPU"})),Object(o.b)("h4",{id:"memory"},"Memory"),Object(o.b)("p",null,"To tweak RAM configuration of your database, navigate to ",Object(o.b)("inlineCode",{parentName:"p"},"Resource")," section in database settings:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/configuration/database/db-5.png",alt:"Database Memory"})),Object(o.b)("h4",{id:"storage"},"Storage"),Object(o.b)("p",null,"To tweak the disk space assigned to your database, navigate to ",Object(o.b)("inlineCode",{parentName:"p"},"Resource")," section in the database settings:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/configuration/database/db-7.png",alt:"Database Storage"})),Object(o.b)("h2",{id:"credentials"},"Credentials"),Object(o.b)("p",null,"To access your database in your application, ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/application/#database"}),"link it to your database"),".\nQovery will inject all environment variables and secrets you need to connect your app to your database.\nTo see all the secrets injected for your application, see ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/application/#database-secrets"}),"database secrets section"),"."),Object(o.b)(c.a,{type:"danger",mdxType:"Alert"},Object(o.b)("p",null,"Your Docker image must contain the TLS certificate of the MongoDB cluster - it can be ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://s3.amazonaws.com/rds-downloads/rds-combined-ca-bundle.pem"}),"downloaded here"),"."),Object(o.b)("p",null,"The application must be configured to use it. If you use the environment variable ",Object(o.b)("inlineCode",{parentName:"p"},"QOVERY_DATABASE_MY_MONGODB_CONNECTION_URI"),", you usually should have just append ",Object(o.b)("inlineCode",{parentName:"p"},"&ssl_ca_certs=/path/to/the/rds-combined-ca-bundle.pem")," to its value.")),Object(o.b)("h2",{id:"delete-your-mongodb-instance"},"Delete your MongoDB instance"),Object(o.b)(c.a,{type:"danger",mdxType:"Alert"},Object(o.b)("p",null,"Delete action drops the service and its data!")),Object(o.b)(i.a,{headingDepth:3,mdxType:"Steps"},Object(o.b)("ol",null,Object(o.b)("li",null,Object(o.b)("p",null,"Navigate to ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://console.qovery.com"}),"Console"))),Object(o.b)("li",null,Object(o.b)("p",null,"Select your environment and database")),Object(o.b)("li",null,Object(o.b)("p",null,"In database overview, click on ",Object(o.b)("inlineCode",{parentName:"p"},"Action")," remove button"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/configuration/database/mongo-3.png",alt:"Database Remove"}))))))}p.isMDXComponent=!0},405:function(e,t,a){var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var c=r.apply(null,n);c&&e.push(c)}else if("object"===o)for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},406:function(e,t,a){"use strict";a(409);var n=a(0),r=a.n(n),o=a(405),c=a.n(o);a(131);t.a=function(e){var t=e.children,a=e.classNames,n=e.fill,o=e.icon,i=e.type,b=null;switch(i){case"danger":b="alert-triangle";break;case"success":b="check-circle";break;case"warning":b="alert-triangle";break;default:b="info"}return r.a.createElement("div",{className:c()(a,"alert","alert--"+i,{"alert--fill":n,"alert--icon":!1!==o}),role:"alert"},!1!==o&&r.a.createElement("i",{className:c()("feather","icon-"+(o||b))}),t)}},407:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=r.a.createContext({}),s=function(e){var t=r.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i({},t,{},e)),a},u=function(e){var t=s(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,c=e.parentName,l=b(e,["components","mdxType","originalType","parentName"]),u=s(a),p=n,m=u["".concat(c,".").concat(p)]||u[p]||d[p]||o;return a?r.a.createElement(m,i({ref:t},l,{components:a})):r.a.createElement(m,i({ref:t},l))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,c=new Array(o);c[0]=p;var i={};for(var b in t)hasOwnProperty.call(t,b)&&(i[b]=t[b]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var l=2;l<o;l++)c[l]=a[l];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}p.displayName="MDXCreateElement"},409:function(e,t,a){var n=a(12);n(n.P,"Array",{fill:a(414)}),a(74)("fill")},410:function(e,t,a){var n=a(25).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||a(10)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},413:function(e,t,a){"use strict";a(410);var n=a(0),r=a.n(n),o=a(406);t.a=function(e){var t=e.children,a=e.name;return r.a.createElement(o.a,{type:"info",fill:!0,icon:!1,rounded:!0,className:"list--icons list--icons--arrow list--tight list--indent margin-bottom--lg"},r.a.createElement("p",{class:"text--lg margin-bottom--sm",style:{marginTop:"-0.25em"}},"Before you begin, this ",a||"page"," assumes the following:"),t)}},414:function(e,t,a){"use strict";var n=a(27),r=a(75),o=a(26);e.exports=function(e){for(var t=n(this),a=o(t.length),c=arguments.length,i=r(c>1?arguments[1]:void 0,a),b=c>2?arguments[2]:void 0,l=void 0===b?a:r(b,a);l>i;)t[i++]=e;return t}},415:function(e,t,a){"use strict";var n=a(418),r=a(51);function o(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var a=function(e){var t;switch(e.arrayFormat){case"index":return function(e,a,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=a):n[e]=a};case"bracket":return function(e,a,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],a):n[e]=[a]:n[e]=a};default:return function(e,t,a){void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t=r({arrayFormat:"none"},t)),n=Object.create(null);return"string"!=typeof e?n:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),a(decodeURIComponent(r),o,n)})),Object.keys(n).sort().reduce((function(e,t){var a=n[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(a):e[t]=a,e}),Object.create(null))):n},t.stringify=function(e,t){var a=function(e){switch(e.arrayFormat){case"index":return function(t,a,n){return null===a?[o(t,e),"[",n,"]"].join(""):[o(t,e),"[",o(n,e),"]=",o(a,e)].join("")};case"bracket":return function(t,a){return null===a?o(t,e):[o(t,e),"[]=",o(a,e)].join("")};default:return function(t,a){return null===a?o(t,e):[o(t,e),"=",o(a,e)].join("")}}}(t=r({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(n){var r=e[n];if(void 0===r)return"";if(null===r)return o(n,t);if(Array.isArray(r)){var c=[];return r.slice().forEach((function(e){void 0!==e&&c.push(a(n,e,c.length))})),c.join("&")}return o(n,t)+"="+o(r,t)})).filter((function(e){return e.length>0})).join("&"):""}},416:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=(a(405),a(415)),c=a.n(o);a(133);t.a=function(e){var t=e.children,a=e.headingDepth,o=e.hideFeedbackQuestion,i="undefined"!=typeof window?window.location:null,b={title:"Tutorial on "+i+" failed",body:"The tutorial on:\n\n"+i+"\n\nHere's what went wrong:\n\n\x3c!-- Insert command output and details. Thank you for reporting! :) --\x3e"},l="https://github.com/qovery/documentation/issues/new?"+c.a.stringify(b),s=Object(n.useState)(null),u=s[0],d=s[1];return r.a.createElement("div",{className:"steps steps--h"+a},t,!o&&!u&&r.a.createElement("div",{className:"steps--feedback"},"How was it? Did this tutorial work?\xa0\xa0",r.a.createElement("span",{className:"button button--sm button--primary",onClick:function(){return d("yes")}},"Yes"),"\xa0\xa0",r.a.createElement("a",{href:l,target:"_blank",className:"button button--sm button--primary"},"No")),"yes"==u&&r.a.createElement("div",{className:"steps--feedback steps--feedback--success"},"Thanks! If you're enjoying Qovery please consider ",r.a.createElement("a",{href:"https://github.com/qovery/documentation/",target:"_blank"},"starring our Github repo"),"."))}},418:function(e,t,a){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}}}]);