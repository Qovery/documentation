/*! For license information please see 91bdc394.786286b9.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[177],{329:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return b})),n.d(t,"default",(function(){return s}));var a=n(1),r=n(9),o=(n(0),n(477)),i=n(476),l=(n(485),n(481),{last_modified_on:"2024-06-13",title:"Labels & Annotations",description:"Learn how to manage the kubernetes annotations and labels via Qovery"}),c={id:"using-qovery/configuration/organization/labels-annotations",title:"Labels & Annotations",description:"Learn how to manage the kubernetes annotations and labels via Qovery",source:"@site/docs/using-qovery/configuration/organization/labels-annotations.md",permalink:"/docs/using-qovery/configuration/organization/labels-annotations",sidebar:"docs",previous:{title:"API Token",permalink:"/docs/using-qovery/configuration/organization/api-token"},next:{title:"Clusters",permalink:"/docs/using-qovery/configuration/clusters"}},b=[{value:"Create a label group",id:"create-a-label-group",children:[]},{value:"Edit a label group",id:"edit-a-label-group",children:[]},{value:"Delete a label group",id:"delete-a-label-group",children:[]},{value:"Create an annotation group",id:"create-an-annotation-group",children:[]},{value:"Edit an annotation group",id:"edit-an-annotation-group",children:[]},{value:"Delete an annotation group",id:"delete-an-annotation-group",children:[]}],u={rightToc:b};function s(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"You can manage the extra annotations/labels of the different Kubernetes objects deployed by Qovery directly from the Qovery console."),Object(o.b)("p",null,"In order to have a centralized section to manage the annotations/labels, you can create annotation/label groups in the ",Object(o.b)("inlineCode",{parentName:"p"},"Labels & annotations")," section within the organization settings and then link them to the services."),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/configuration/organization/annotations_labels_settings.png",alt:"How to access your annotations/labels section"})),Object(o.b)("h2",{id:"create-a-label-group"},"Create a label group"),Object(o.b)("p",null,"You can create a new label group by pressing the ",Object(o.b)("inlineCode",{parentName:"p"},"Add new")," button then ",Object(o.b)("inlineCode",{parentName:"p"},"Add label group"),". You need to provide:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"A group name"),Object(o.b)("li",{parentName:"ul"},"The different label keys/values constituting the group. The key/value have to respect a certain syntax, check the ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#syntax-and-character-set"}),"official Kubernetes documentation")," to learn more.")),Object(o.b)(i.a,{type:"warning",mdxType:"Alert"},Object(o.b)("p",null,"To ensure that Qovery will be able to continue managing your services. Some labels prefixes are forbidden (this list is not exhaustive):"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"kubernetes.io/")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"k8s.io/")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"envId")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"appId")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"app")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"OwnerId")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"aws")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"cluster_id")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"cluster_long_id")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"organization_id")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"organization_long_id")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"qovery_product")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"creation_date")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"Service")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"eks:cluster-name")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"ClusterId")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"ClusterLongId")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"OrganizationId")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"OrganizationLongId")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"eks:nodegroup-name")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"QoveryProduct")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"Region")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"creationDate")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"ttl")),Object(o.b)("li",{parentName:"ul"},"all prefixes containing ",Object(o.b)("inlineCode",{parentName:"li"},"qovery.com")))),Object(o.b)("p",null,"A ",Object(o.b)("inlineCode",{parentName:"p"},"Propagate as tag")," is option is available. It allows you to forward the kubernetes label on the resource created by Qovery in your cloud provider."),Object(o.b)(i.a,{type:"warning",mdxType:"Alert"},Object(o.b)("p",null,"If your Kubernetes label format does not respect the cloud provider tag format. The label will not be propagated to your cloud provider.\nYou can check these documentation to check the tag format depending on your cloud provider:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://docs.aws.amazon.com/tag-editor/latest/userguide/tagging.html#tag-conventions"}),"AWS")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://cloud.google.com/compute/docs/labeling-resources#requirements"}),"GCP")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://www.scaleway.com/en/docs/containers/kubernetes/api-cli/managing-tags/"}),"Scaleway")))),Object(o.b)(i.a,{type:"info",mdxType:"Alert"},Object(o.b)("p",null,"For the moment only managed databases on AWS clusters are concerned.\nIn a feature release we will support labels at environment and cluster levels. It will allow you to tag your cloud provider resources (created by Qovery) as a tag  such as clusters, S3, VPC, ECR, EC2, ...")),Object(o.b)("p",null,"Example:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/configuration/organization/label_group.png",alt:"Label group form"})),Object(o.b)("p",null,"Once validated, the label group will be displayed on the interface."),Object(o.b)("p",null,"You can now apply it your applications, cronjobs, lifecycle jobs and databases."),Object(o.b)(i.a,{type:"info",mdxType:"Alert"},Object(o.b)("p",null,"Helm is not supported as you can directly add extra labels within your helm chart.")),Object(o.b)("h2",{id:"edit-a-label-group"},"Edit a label group"),Object(o.b)("p",null,"You can edit your label group to add/remove/edit labels or update the scope.\nIf this label group was already used in your services. You will have to redeploy them for these changes to be taken into account."),Object(o.b)("h2",{id:"delete-a-label-group"},"Delete a label group"),Object(o.b)("p",null,"You can delete a label group.\nIf this label group was already used in your services. You will have to redeploy them for removing the labels linked to your services."),Object(o.b)("h2",{id:"create-an-annotation-group"},"Create an annotation group"),Object(o.b)("p",null,"As a Qovery service is mapped to multiple Kubernetes objects (pods, deployments, ingress etc..) you will be able to define the kubernetes scope for each annotation group."),Object(o.b)("p",null,"You can create a new annotation group by pressing the ",Object(o.b)("inlineCode",{parentName:"p"},"Add annotation")," button. You need to provide:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"A group name"),Object(o.b)("li",{parentName:"ul"},"The different annotations keys/values constituting the group. The key/value have to respect a certain syntax, check the ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/#syntax-and-character-set"}),"official Kubernetes documentation")," to learn more.")),Object(o.b)(i.a,{type:"warning",mdxType:"Alert"},Object(o.b)("p",null,"To ensure that Qovery will be able to continue managing your services. Some annotations prefixes are forbidden (this list is not exhaustive):"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"kubernetes.io/")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"k8s.io/")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"appCommitId")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"checksum/config")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"checksum/config-mount-files")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"meta.helm.sh/release-name")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"meta.helm.sh/release-namespace")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"kubernetes.io/")),Object(o.b)("li",{parentName:"ul"},"all prefixes containing ",Object(o.b)("inlineCode",{parentName:"li"},"qovery.com")))),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"A scope: this allows you to define the kubernetes objects where the extra annotations should be applied. Example: If you make your application accessible publicly and add an annotation group with the scope set to ",Object(o.b)("inlineCode",{parentName:"li"},"ingress"),", all annotations within that group will only be added to the ingress of your service.")),Object(o.b)("p",null,"Example:"),Object(o.b)("p",{align:"center"},Object(o.b)("img",{src:"/img/configuration/organization/annotation_group.png",alt:"Annotation group form"})),Object(o.b)("p",null,"Once validated the annotation group will be displayed on the interface."),Object(o.b)("p",null,"You can now apply it your applications, cronjobs, lifecycle jobs and database containers."),Object(o.b)(i.a,{type:"info",mdxType:"Alert"},Object(o.b)("p",null,"Helm is not supported as you can directly add extra annotations within your helm chart.")),Object(o.b)("h2",{id:"edit-an-annotation-group"},"Edit an annotation group"),Object(o.b)("p",null,"You can edit your annotation group to add/remove/edit annotations or update the scope.\nIf this annotation group was already used in your services. You will have to redeploy them for these changes to be taken into account."),Object(o.b)("h2",{id:"delete-an-annotation-group"},"Delete an annotation group"),Object(o.b)("p",null,"You can delete an annotation group.\nIf this annotation group was already used in your services. You will have to redeploy them for removing the annotations linked to your services."))}s.isMDXComponent=!0},475:function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)&&a.length){var i=r.apply(null,a);i&&e.push(i)}else if("object"===o)for(var l in a)n.call(a,l)&&a[l]&&e.push(l)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},476:function(e,t,n){"use strict";n(478);var a=n(0),r=n.n(a),o=n(475),i=n.n(o);n(132);t.a=function(e){var t=e.children,n=e.classNames,a=e.fill,o=e.icon,l=e.type,c=null;switch(l){case"danger":c="alert-triangle";break;case"success":c="check-circle";break;case"warning":c="alert-triangle";break;default:c="info"}return r.a.createElement("div",{className:i()(n,"alert","alert--"+l,{"alert--fill":a,"alert--icon":!1!==o}),role:"alert"},!1!==o&&r.a.createElement("i",{className:i()("feather","icon-"+(o||c))}),t)}},477:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var b=r.a.createContext({}),u=function(e){var t=r.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):l({},t,{},e)),n},s=function(e){var t=u(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,b=c(e,["components","mdxType","originalType","parentName"]),s=u(n),d=a,m=s["".concat(i,".").concat(d)]||s[d]||p[d]||o;return n?r.a.createElement(m,l({ref:t},b,{components:n})):r.a.createElement(m,l({ref:t},b))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var b=2;b<o;b++)i[b]=n[b];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},478:function(e,t,n){var a=n(12);a(a.P,"Array",{fill:n(479)}),n(74)("fill")},479:function(e,t,n){"use strict";var a=n(27),r=n(75),o=n(26);e.exports=function(e){for(var t=a(this),n=o(t.length),i=arguments.length,l=r(i>1?arguments[1]:void 0,n),c=i>2?arguments[2]:void 0,b=void 0===c?n:r(c,n);b>l;)t[l++]=e;return t}},480:function(e,t,n){var a=n(28).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(10)&&a(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},481:function(e,t,n){"use strict";n(480);var a=n(0),r=n.n(a),o=n(476);t.a=function(e){var t=e.children,n=e.name;return r.a.createElement(o.a,{type:"info",fill:!0,icon:!1,rounded:!0,className:"list--icons list--icons--arrow list--tight list--indent margin-bottom--lg"},r.a.createElement("p",{class:"text--lg margin-bottom--sm",style:{marginTop:"-0.25em"}},"Before you begin, this ",n||"page"," assumes the following:"),t)}},482:function(e,t,n){"use strict";var a=n(1),r=n(0),o=n.n(r),i=n(39),l=n(486),c=n(20),b=n.n(c);t.a=function(e){var t,n=e.to,c=e.href,u=n||c,s=Object(l.a)(u),p=Object(r.useRef)(!1),d=b.a.canUseIntersectionObserver;return Object(r.useEffect)((function(){return!d&&s&&window.docusaurus.prefetch(u),function(){d&&t&&t.disconnect()}}),[u,d,s]),u&&s?o.a.createElement(i.b,Object(a.a)({},e,{onMouseEnter:function(){p.current||(window.docusaurus.preload(u),p.current=!0)},innerRef:function(e){var n,a;d&&e&&s&&(n=e,a=function(){window.docusaurus.prefetch(u)},(t=new window.IntersectionObserver((function(e){e.forEach((function(e){n===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(t.unobserve(n),t.disconnect(),a())}))}))).observe(n))},to:u})):o.a.createElement("a",Object(a.a)({},e,{href:u}))}},485:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(482),i=n(475),l=n.n(i);n(134);t.a=function(e){var t=e.children,n=e.className,a=e.badge,i=e.leftIcon,c=e.rightIcon,b=e.size,u=e.target,s=e.to,p=l()("jump-to","jump-to--"+b,n),d=r.a.createElement("div",{className:"jump-to--inner"},r.a.createElement("div",{className:"jump-to--inner-2"},i&&r.a.createElement("div",{className:"jump-to--left"},r.a.createElement("i",{className:"feather icon-"+i})),r.a.createElement("div",{className:"jump-to--main"},a?r.a.createElement("span",{className:"badge badge--primary badge--right"},a):"",t),r.a.createElement("div",{className:"jump-to--right"},r.a.createElement("i",{className:"feather icon-"+(c||"chevron-right")+" arrow"}))));return u?r.a.createElement("a",{href:s,target:u,className:p},d):r.a.createElement(o.a,{to:s,className:p},d)}},486:function(e,t,n){"use strict";function a(e){return!1===/^(https?:|\/\/)/.test(e)}n.d(t,"a",(function(){return a}))}}]);