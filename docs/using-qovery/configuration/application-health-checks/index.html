<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<link rel="preconnect" href="https://app.posthog.com">
<script>!function(t,e){var o,p,i,n;e.__SV||(window.posthog=e,e._i=[],e.init=function(r,s,c){function a(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.src=s.api_host+"/static/array.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n);var g=e;for(void 0!==c?g=e[c]=[]:c="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==c&&(e+="."+c),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<o.length;p++)a(g,o[p]);e._i.push([r,s,c])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_IgdG1K2GveDUte1gJ6hlwNbFHCv9nViWETUyLMU7ciq",{api_host:"https://app.posthog.com"})</script>
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Qovery Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Qovery Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<script src="/js/intercom.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=UA-129773960-5" async></script>
<script src="/js/ga.js"></script>

<title data-react-helmet="true">Application Health Checks | Docs | Qovery</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Qovery"><meta data-react-helmet="true" property="og:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Qovery"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="Learn how to configure your Kubernetes health checks"><meta data-react-helmet="true" property="og:description" content="Learn how to configure your Kubernetes health checks"><meta data-react-helmet="true" property="og:url" content="https://hub.qovery.com/docs/using-qovery/configuration/application-health-checks">

<link data-react-helmet="true" rel="shortcut icon" href="/img/logo-square.svg"><link data-react-helmet="true" rel="canonical" href="https://docs.qovery.com/docs/using-qovery/configuration/application-health-checks/">


<link rel="stylesheet" href="/styles.18405842.css">


<link rel="preload" href="/styles.e8dc1538.js" as="script">

<link rel="preload" href="/runtime~main.4691a230.js" as="script">

<link rel="preload" href="/main.570dd1dd.js" as="script">

<link rel="preload" href="/2.2beee851.js" as="script">

<link rel="preload" href="/3.bde9e6df.js" as="script">

<link rel="preload" href="/4.3d1c6b1b.js" as="script">

<link rel="preload" href="/1be78505.bd3756bb.js" as="script">

<link rel="preload" href="/20ac7829.3acac011.js" as="script">

<link rel="preload" href="/291.99b7a222.js" as="script">

<link rel="preload" href="/17896441.25a435fa.js" as="script">

<link rel="preload" href="/91473650.6e7c6b7e.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"></a><a class="navbar__item navbar__link" href="/guides/">Guides</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/guides/tutorial">Tutorials</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"><i class="feather icon-github"></i> </a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_34Mc moon_313u"></span></div><div class="react-toggle-track-x"><span class="toggle_34Mc sun_1Og-"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="navbar__item navbar__link" href="/guides/">Guides</a></li><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" href="/guides/tutorial">Tutorials</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container_3Vzv container container--l"><main class="main_2vyu"><div><div class="container_2j_u"><div class="leftCol_3JzO"><div class="docItemContainer_"><article><header><div class="badges"></div><h1 class="docTitle_cWlf">Application Health Checks</h1></header><div class="markdown"><p>Health checks are automatic procedures checking the status of your application, deciding if it is ready to receive traffic or if it needs to be restarted. Since Qovery relies on Kubernetes to deploy and run your application, we use the Kubernetes probes to regularly verify the status of your application during the deployment and/or running phases.</p><p>Kubernetes allows you to configure two probes:</p><ul><li><strong>Liveness probe</strong>: to check if the application container is alive (passing) or dead (failing). If the check fails, the dead container is restarted to attempt to heal the application. For example, liveness probes could catch a deadlock, where an application is running, but unable to make progress. Restarting a container in such a state can help to make the application more available despite bugs.</li><li><strong>Readiness probe</strong>: to check if the application container is ready to receive requests (as even alive containers can enter phases where they cannot handle incoming traffic). Kubernetes only routes traffic to the application if the check succeeds. One use of this signal is to control which Pods are used as backends for Services. When a Pod is not ready, it is removed from Service load balancers.</li></ul><p align="center"><img src="/img/configuration/advanced-settings/workflow.png" alt="Kubernetes Probes Workflow"></p><p>During the deployment phase, the liveness and readiness probes play an important role on determining if the deployment succeeds or not. If you have both the liveness and readiness probes configured, both of them need to succeed before considering the deployment to be completed successfully. </p><p>Example:
You have a liveness probe configured on port 80 of your application. If during the deployment of your application the probes can&#x27;t connect to port 80 and we reach a timeout, the deployment fails.</p><p>Qovery allows you to manage these probes directly from within the Qovery console during the setup of your application, letting you decide their activation, configuration and check frequency.</p><p>Probes can be configured for:</p><ul><li>Applications</li><li>Cronjobs</li><li>Lifecycle Jobs</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="probes-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#probes-configuration" title="Direct link to heading">#</a>Probes Configuration</h2><p>The following configuration parameters are valid for both the Liveness and the Readiness probes.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="type"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#type" title="Direct link to heading">#</a>Type</h3><p>Allows you to specify the type of probe you want to run against your application:</p><ul><li><strong>NONE</strong> if <code>NONE</code> is selected, the probe is disabled and thus Kubernetes won&#x27;t be able to verify the state of your application and take the right corrective actions. </li></ul><div class="alert alert--info alert--icon" role="alert"><i class="feather icon-info"></i><p>We strongly advise to not disable the liveness probe.</p></div><ul><li><p><strong>HTTP probes</strong> are the most common probe type. You can use them if your application is a HTTP server, or if you create a lightweight HTTP server inside your application specifically to respond to such probes. When using a HTTP probe, you need to configure: </p><ul><li>a port</li><li>a path
Once configured, Kubernetes pings a path (for example: <code>/healthz </code>) at a given port. If it gets a response in the 200 or 300 range, the check is passed. Otherwise, it is considered as failed and Kubernetes takes the necessary corrective actions.</li></ul></li><li><p><strong>TCP probes</strong> are most often used when HTTP or command probes aren&#x27;t an option. When using a TCP Liveness probe, Kubernetes tries to establish a connection on the specified port. If the connection is successful, the application is considered healthy. Otherwise, it is considered dead and the container is restarted.</p></li><li><p><strong>gRPC probes</strong>
When using a gRCP Liveness probe, Kubernetes tries to establish a connection on the specified port and service. If the connection is successful, the application is considered healthy. Otherwise, it is considered dead and the container is restarted.</p></li><li><p><strong>EXEC probes</strong>
Exec probes allow to define a command to be executed within your container. If the command execution fails, the probe is considered as failed.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="initial-delay-in-seconds"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#initial-delay-in-seconds" title="Direct link to heading">#</a>Initial Delay (in seconds)</h3><p>Allows you to specify an interval, in seconds, between the application container start and the first liveness check.	</p><p>Allowing additional time for the application to start can be useful when boot time usually takes too long (due to long boot operations), or when the application opens the port before being ready to receive traffic on it (due to a still ongoing boot operation).	</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="period-in-seconds"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#period-in-seconds" title="Direct link to heading">#</a>Period (in seconds)</h3><p>Allows you to specify an interval, in seconds, between each probe.	</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="timeout-in-seconds"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#timeout-in-seconds" title="Direct link to heading">#</a>Timeout (in seconds)</h3><p>Allows you to specify the interval, in seconds, after which the probe times out.	</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="success-threshold"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#success-threshold" title="Direct link to heading">#</a>Success Threshold</h3><p>Allows you to specify how many consecutive successes are needed, as a minimum, for the probe to be considered successful after having failed previously.</p><div class="alert alert--info alert--icon" role="alert"><i class="feather icon-info"></i><p>For liveness probes, the value can only be <code>1</code></p></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="failure-threshold"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#failure-threshold" title="Direct link to heading">#</a>Failure Threshold</h3><p>Allows you to specify how many consecutive failures are needed, as a minimum, for the probe to be considered failed after having succeeded previously.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="configuiration-for-long-starting-application"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuiration-for-long-starting-application" title="Direct link to heading">#</a>Configuiration for Long-starting application</h2><p>If your application has a long boot operation to run, your deployment might be marked as failed since the probe can&#x27;t verify the state of your application within the specified time frame. In this case, you will find in your deployment logs a warning message <code>Liveness probe failed: dial tcp xx.xx.xx.xx:xx: connect: connection refused</code> , telling you that the probe is failing.</p><p>If your application needs more time to boot, increase the <code>Initial Delay in seconds</code> of the probes to match the application boot time.</p><div class="alert alert--info alert--icon" role="alert"><i class="feather icon-info"></i><p>Startup probes are not yet available. </p></div></div></article></div></div><div class="rightCol_38kP"><div class="table-of-contents tableOfContents_tVyB"><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#probes-configuration" class="contents__link">Probes Configuration</a><ul><li><a href="#type" class="contents__link">Type</a></li><li><a href="#initial-delay-in-seconds" class="contents__link">Initial Delay (in seconds)</a></li><li><a href="#period-in-seconds" class="contents__link">Period (in seconds)</a></li><li><a href="#timeout-in-seconds" class="contents__link">Timeout (in seconds)</a></li><li><a href="#success-threshold" class="contents__link">Success Threshold</a></li><li><a href="#failure-threshold" class="contents__link">Failure Threshold</a></li></ul></li><li><a href="#configuiration-for-long-starting-application" class="contents__link">Configuiration for Long-starting application</a></li></ul></div><div class="section"><div class="title">Resources</div><ul class="contents"></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><p>Qovery is an Internal Developer Platform Helping 50.000+ Developers and Platform Engineers To Ship Faster.</p></div><div><a href="https://github.com/qovery" target="_blank"><i class="feather icon-github" alt="Qovery&#x27;s Github Repo"></i></a>    <a href="https://www.linkedin.com/company/qovery/" target="_blank"><i class="feather icon-rss" alt="Qovery&#x27;s Linkedin"></i></a>    <a href="https://twitter.com/qovery_" target="_blank"><i class="feather icon-twitter" alt="Qovery&#x27;s Twitter"></i></a></div></div><div class="col footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/guides">Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/guides/tutorial">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/guides/engineering">Engineering</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/pricing" href="https://www.qovery.com/pricing">Pricing</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/enterprise" href="https://www.qovery.com/enterprise">Enterprise</a></li><li class="footer__item"><a class="footer__link-item" to="https://api-doc.qovery.com" href="https://api-doc.qovery.com">API</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery" href="https://github.com/Qovery">Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://community.qovery.com" href="https://community.qovery.com">Forum</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/community-call" href="https://www.qovery.com/community-call">Community call</a></li><li class="footer__item"><a class="footer__link-item" to="https://shop.qovery.com" href="https://shop.qovery.com">Goodies</a></li><li class="footer__item"><a class="footer__link-item" to="https://roadmap.qovery.com" href="https://roadmap.qovery.com">Roadmap</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery/replibyte" href="https://github.com/Qovery/replibyte">Replibyte</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/blog" href="https://www.qovery.com/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" to="https://jobs.qovery.com" href="https://jobs.qovery.com">Jobs</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/team" href="https://www.qovery.com/team">Team</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/investors" href="https://www.qovery.com/investors">Investors</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/contact" href="https://www.qovery.com/contact">Contact</a></li></ul></div></div><div class="text--center"><small>© 2024 DESIGNED BY QOVERY | PROUD SILVER MEMBER OF CNCF AND LINUX FOUNDATION | QOVERY BY BIRDSIGHT - ALL RIGHTS RESERVED</small><br></div></div></footer>
</div>

<script src="/styles.e8dc1538.js"></script>

<script src="/runtime~main.4691a230.js"></script>

<script src="/main.570dd1dd.js"></script>

<script src="/2.2beee851.js"></script>

<script src="/3.bde9e6df.js"></script>

<script src="/4.3d1c6b1b.js"></script>

<script src="/1be78505.bd3756bb.js"></script>

<script src="/20ac7829.3acac011.js"></script>

<script src="/291.99b7a222.js"></script>

<script src="/17896441.25a435fa.js"></script>

<script src="/91473650.6e7c6b7e.js"></script>


</body>
</html>