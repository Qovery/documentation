<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<link rel="preconnect" href="https://phprox.qovery.com">
<script>!function(t,e){var o,p,i,n;e.__SV||(window.posthog=e,e._i=[],e.init=function(r,s,c){function a(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.src=s.api_host+"/static/array.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n);var g=e;for(void 0!==c?g=e[c]=[]:c="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==c&&(e+="."+c),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<o.length;p++)a(g,o[p]);e._i.push([r,s,c])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_IgdG1K2GveDUte1gJ6hlwNbFHCv9nViWETUyLMU7ciq",{api_host:"https://phprox.qovery.com"})</script>
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Qovery Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Qovery Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<script src="/js/intercom.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=UA-129773960-5" async></script>
<script src="/js/ga.js"></script>

<title data-react-helmet="true">GitOps with Qovery | Qovery</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="GitOps with Qovery | Qovery"><meta data-react-helmet="true" name="msapplication-TileColor" content="#da532c"><meta data-react-helmet="true" name="theme-color" content="#ffffff"><meta data-react-helmet="true" name="description" content="GitOps with Qovery, in minutes, for free"><meta data-react-helmet="true" property="og:description" content="GitOps with Qovery, in minutes, for free"><meta data-react-helmet="true" property="og:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for GitOps with Qovery | Qovery"><meta data-react-helmet="true" property="og:url" content="https://docs.qovery.com/guides/tutorial/gitops-with-qovery/"><meta data-react-helmet="true" name="twitter:card" content="summary">

<link data-react-helmet="true" rel="icon" href="/favicons/favicon.svg"><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png"><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"><link data-react-helmet="true" rel="manifest" href="/favicons/site.webmanifest"><link data-react-helmet="true" rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5"><link data-react-helmet="true" rel="canonical" href="https://docs.qovery.com/guides/tutorial/gitops-with-qovery/">


<link rel="stylesheet" href="/styles.90c21fa3.css">


<link rel="preload" href="/styles.2d3014d4.js" as="script">

<link rel="preload" href="/runtime~main.7055cd3d.js" as="script">

<link rel="preload" href="/main.26342d17.js" as="script">

<link rel="preload" href="/1.3618bf60.js" as="script">

<link rel="preload" href="/2.67235690.js" as="script">

<link rel="preload" href="/3.d7804ff1.js" as="script">

<link rel="preload" href="/1c13b173.b98a63f3.js" as="script">

<link rel="preload" href="/dfb1c803.b3373016.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/">Guides</a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/tutorial">Tutorials</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"><i class="feather icon-github"></i> </a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_34Mc moon_313u"></span></div><div class="react-toggle-track-x"><span class="toggle_34Mc sun_1Og-"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/">Guides</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" href="/docs/">Docs</a></li><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/tutorial">Tutorials</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"></a></li></ul></div></div></div></nav><div class="main-wrapper"><header class="hero domain-bg domain-bg--default"><div class="container"><div class="hero--category"><a aria-current="page" class="active" href="/guides/tutorial/">tutorial</a></div><h1 class="header_1mJE">GitOps with Qovery</h1><div class="hero--subtitle">How to do GitOps with Qovery, GitHub and Terraform</div><div class="tags_3AF9"><a class="badge badge--rounded badge--pink" href="/guides/tags/type-tutorial/">type: tutorial</a><a class="badge badge--rounded badge--primary" href="/guides/tags/technology-qovery/">technology: qovery</a></div></div></header><main class="container container--l container_1ncB"><aside class="sidebar_1pU0"><section class="avatar_1sJg"><div class="avatar avatar--lg avatar--vertical"><img class="avatar__photo avatar__photo--lg" src="https://github.com/evoxmusic.png"><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/evoxmusic" target="_blank" rel="author">Romaric P.</a></div><small class="avatar__subtitle">Romaric is a Software Engineer, and CEO at <a href="https://www.qovery.com">Qovery</a>. He has 10+ years of experience in R&D. From the Ad-Tech to the financial industry, he has deep expertise in highly-reliable and performant systems.
</small></div></div></section><section class="table-of-contents tableOfContents_1eMQ"><div class="section"><div class="title">Stats</div><div class="text--secondary text--bold"><i class="feather icon-book"></i> 16 min read</div><div class="text--secondary text--bold"><i class="feather icon-clock"></i> Updated <time pubdate="pubdate" datetime="2024-07-14">Jul 14th, 2024</time></div></div><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#overview" class="contents__link">Overview</a></li><li><a href="#resources" class="contents__link">Resources</a></li><li><a href="#terraform-vs-yaml" class="contents__link">Terraform vs. YAML</a></li><li><a href="#step-by-step-tutorial" class="contents__link">Step-by-step tutorial</a><ul><li><a href="#step-1-define-the-terraform-configuration" class="contents__link">Step 1: Define the Terraform configuration</a></li><li><a href="#step-2-test-the-terraform-configuration" class="contents__link">Step 2: Test the Terraform configuration</a></li><li><a href="#step-3-push-the-terraform-configuration-to-a-github-repository" class="contents__link">Step 3: Push the Terraform configuration to a GitHub repository</a></li><li><a href="#step-4-use-github-actions-to-review-and-apply-the-terraform-configuration" class="contents__link">Step 4: Use GitHub Actions to review and apply the Terraform configuration</a></li><li><a href="#step-5-check-the-qovery-console-to-see-the-resources-created" class="contents__link">Step 5: Check the Qovery console to see the resources created</a></li></ul></li><li><a href="#frequently-asked-questions-faq" class="contents__link">Frequently Asked Questions (FAQ)</a><ul><li><a href="#how-to-enforce-gitops" class="contents__link">How to enforce GitOps?</a></li><li><a href="#how-to-gitopsify-an-existing-qovery-configuration" class="contents__link">How to &quot;GitOpsify&quot; an existing Qovery configuration?</a></li><li><a href="#how-to-see-configuration-drifts" class="contents__link">How to see configuration drifts?</a></li><li><a href="#how-to-debug" class="contents__link">How to debug?</a></li><li><a href="#how-to-manage-the-terraform-state" class="contents__link">How to manage the Terraform state?</a></li><li><a href="#how-to-connect-to-get-terraform-cloud-state" class="contents__link">How to connect to get Terraform Cloud state?</a></li><li><a href="#how-to-integrate-tests" class="contents__link">How to integrate tests?</a></li></ul></li><li><a href="#conclusion" class="contents__link">Conclusion</a></li></ul></div></section></aside><div class="article_mCV7"><article><div class="markdown"><a aria-hidden="true" tabindex="-1" class="anchor" id="overview"></a><p>GitOps is a way to do Continuous Deployment (CD) with Git. It is a practice that allows you to manage your infrastructure and applications using Git repositories as the source of truth. In this tutorial, you will learn how to do GitOps with Qovery and the Qovery Terraform provider.</p><p>Watch this short video to see the final result:</p><div class="video-container"><p align="center"><iframe src="https://www.loom.com/embed/f2b82cd32de8474fae7e8cba2d78dd29" width="100%" height="100%" frameborder="0"></iframe></p></div><div class="alert alert--info alert--fill" role="alert"><p class="text--lg margin-bottom--sm" style="margin-top:-0.25em">Before you begin, this page assumes the following:</p><ul><li>A <a href="https://console.qovery.com/signup">Qovery account</a></li><li>General knowledge of Terraform</li></ul></div><p>For our example we will do the following with Terraform:</p><ol><li>Define all the Qovery resources in a Terraform configuration</li><li>Test it locally</li><li>Push the Terraform configuration to a GitHub repository</li><li>Use GitHub Actions (CI/CD) to review and apply the Terraform configuration</li><li>Check the Qovery console to see the resources created</li></ol><p>So let&#x27;s get started!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="resources"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#resources" title="Direct link to heading">#</a>Resources</h2><p>Here are some resources you might need:</p><ul><li><a href="https://console.qovery.com">Qovery web console</a></li><li><a href="https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli">Terraform CLI</a></li><li><a href="https://registry.terraform.io/providers/Qovery/qovery/latest/docs">Qovery Terraform Provider</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="terraform-vs-yaml"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#terraform-vs-yaml" title="Direct link to heading">#</a>Terraform vs. YAML</h2><p>Just before we start, let&#x27;s talk about why we use Terraform instead of YAML to manage the infrastructure in a GitOps way. Qovery provides an <a href="https://registry.terraform.io/providers/Qovery/qovery/latest/docs">official Terraform provider</a> to manage your infrastructure. We did the choice to use Terraform instead of YAML for the following reasons:</p><ul><li>Terraform is a well-known tool in the DevOps community</li><li>Terraform gets the state of the infrastructure, which is useful to know what is already created</li><li>Terraform helps to detect drifts between the desired state and the actual state</li></ul><p>If you are not familiar with Terraform, you can learn more about it on the <a href="https://www.terraform.io/">official website</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-by-step-tutorial"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-by-step-tutorial" title="Direct link to heading">#</a>Step-by-step tutorial</h2><p>For this tutorial, we will create a simple Qovery application with a PostgreSQL database. This is just for demo purposes. You can adapt the Terraform configuration to your needs.
Then We will use Terraform to define the resources and GitHub Actions to apply the Terraform configuration.</p><div class="alert alert--info alert--icon" role="alert"><i class="feather icon-info"></i><p>To enforce GitOps with Qovery, you can limit the <a href="/docs/using-qovery/configuration/organization/members-rbac/">permissions</a> of your users to read-only in the Qovery console. This way, all the changes will be done via the Terraform configuration.</p></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-1-define-the-terraform-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-1-define-the-terraform-configuration" title="Direct link to heading">#</a>Step 1: Define the Terraform configuration</h3><p>Create a new directory and add a <code>variables.tf</code> and a <code>main.tf</code> file with the following content:</p><div class="alert alert--info alert--icon" role="alert"><i class="feather icon-info"></i><p><a href="/docs/using-qovery/configuration/environment/#terraform-exporter">Export your Terraform configuration</a> if you have already created your resources with the Qovery web console. </p></div><p><a href="https://github.com/evoxmusic/qovery-gitops/blob/main/variables.tf">Read this example on GitHub</a></p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">variables.tf</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-hcl codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">variable &quot;qovery_token&quot; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  description = &quot;Qovery API token&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  type        = string</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">variable &quot;qovery_organization_id&quot; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  description = &quot;Qovery Organization ID&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  type        = string</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">variable &quot;qovery_cluster_id&quot; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  description = &quot;My Qovery Test Cluster ID&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  type        = string</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></pre></div></div><p><a href="https://github.com/evoxmusic/qovery-gitops/blob/main/main.tf">Read this example on GitHub</a></p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">main.tf</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-hcl codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">terraform {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   required_providers {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      qovery = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         source = &quot;qovery/qovery&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">provider &quot;qovery&quot; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   token = var.qovery_access_token</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource &quot;qovery_project&quot; &quot;my_project&quot; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   organization_id = var.qovery_organization_id</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   name            = &quot;My TF Project&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource &quot;qovery_environment&quot; &quot;production&quot; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   project_id = qovery_project.my_project.id</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   name       = &quot;production&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   mode       = &quot;PRODUCTION&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   cluster_id = var.qovery_cluster_id</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource &quot;qovery_database&quot; &quot;my_database&quot; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   environment_id = qovery_environment.production.id</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   name           = &quot;My DB&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   type           = &quot;POSTGRESQL&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   version        = &quot;16&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   mode           = &quot;CONTAINER&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   storage        = 10</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   accessibility  = &quot;PRIVATE&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource &quot;qovery_application&quot; &quot;my_backend&quot; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   environment_id = qovery_environment.production.id</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   name           = &quot;My Backend&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   cpu            = 250</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   memory         = 128</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   git_repository = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      url       = &quot;https://github.com/evoxmusic/ShortMe-URL-Shortener.git&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      branch    = &quot;main&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      root_path = &quot;/&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   build_mode      = &quot;DOCKER&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   dockerfile_path = &quot;Dockerfile&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   ports           = [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         internal_port       = 5555</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         external_port       = 443</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         protocol            = &quot;HTTP&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         publicly_accessible = true</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         is_default          = true</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   healthchecks = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      readiness_probe = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         type = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            http = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               port = 5555</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               scheme = &quot;HTTP&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               path = &quot;/&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         initial_delay_seconds = 30</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         period_seconds        = 10</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         timeout_seconds       = 10</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         success_threshold     = 1</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         failure_threshold     = 3</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      liveness_probe = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         type = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            http = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               port = 5555</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               scheme = &quot;HTTP&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               path = &quot;/&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         initial_delay_seconds = 30</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         period_seconds        = 10</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         timeout_seconds       = 10</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         success_threshold     = 1</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         failure_threshold     = 3</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   environment_variables = [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         key   = &quot;DATABASE_HOST&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         value = qovery_database.my_database.internal_host</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         key   = &quot;DATABASE_PORT&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         value = qovery_database.my_database.port</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         key   = &quot;DATABASE_USERNAME&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         value = qovery_database.my_database.login</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         key   = &quot;DATABASE_NAME&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         value = &quot;postgres&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   secrets = [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         key   = &quot;DATABASE_PASSWORD&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         value = qovery_database.my_database.password</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource &quot;qovery_deployment&quot; &quot;my_deployment&quot; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   environment_id = qovery_environment.production.id</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   desired_state  = &quot;RUNNING&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   version        = &quot;a0282bb4-f5bb-44ed-882d-e067f92d105e&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   depends_on = [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      qovery_application.my_backend,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      qovery_database.my_database,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      qovery_environment.production,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></pre></div></div><p>My arborescence looks like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-shell codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> -lh</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Permissions Size User      Date Modified Name</span></div><div class="token-line" style="color:#393A34"><span class="token plain">.rw-r--r--  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">.8k xxx </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"> Jul </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:28  main.tf</span></div><div class="token-line" style="color:#393A34"><span class="token plain">.rw-r--r--   </span><span class="token number" style="color:#36acaa">297</span><span class="token plain"> xxx </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> Jul </span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:24  variables.tf</span></div></div></pre></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-2-test-the-terraform-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-2-test-the-terraform-configuration" title="Direct link to heading">#</a>Step 2: Test the Terraform configuration</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="generate-a-qovery-token"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#generate-a-qovery-token" title="Direct link to heading">#</a>Generate a Qovery token</h4><p>To test your Terraform configuration, you first need to generate a Qovery token. You can do this by following the <a href="/docs/using-qovery/configuration/organization/api-token/">official documentation</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="test-terraform-configuration-locally"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#test-terraform-configuration-locally" title="Direct link to heading">#</a>Test Terraform configuration locally</h4><ol><li>Download and install <a href="https://developer.hashicorp.com/terraform/install">Terraform CLI</a></li><li>Set environment variables <ol><li>Qovery API Token: <code>export TF_VAR_qovery_token=XXX</code></li><li>Qovery Organization ID: <code>export TF_VAR_qovery_organization_id=XXX</code></li><li>Qovery Cluster ID: <code>export TF_VAR_qovery_cluster_id=XXX</code></li></ol></li><li>Init Terraform modules: <code>terraform init</code></li><li>Plan the Terraform configuration: <code>terraform plan</code></li><li>Apply the Terraform configuration: <code>terraform apply -auto-approve</code></li></ol><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">Test Terraform locally</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-shell codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">TF_VAR_qovery_token</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">XXX </span><span class="token assign-left variable" style="color:#36acaa">TF_VAR_qovery_token</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">XXX </span><span class="token assign-left variable" style="color:#36acaa">TF_VAR_qovery_cluster_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">XXX</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">$ terraform init </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> terraform apply -auto-approve</span></div></div></pre></div></div><p>The output should show the resources created.</p><details><summary>Example output</summary><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">Terraform output</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-shell codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">Terraform used the selected providers to generate the following execution plan. Resource actions are</span></div><div class="token-line" style="color:#393A34"><span class="token plain">indicated with the following symbols:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  + create</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Terraform will perform the following actions:</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># qovery_application.my_backend will be created</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  + resource </span><span class="token string" style="color:#e3116c">&quot;qovery_application&quot;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my_backend&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + advanced_settings_json         </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + arguments                      </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + auto_deploy                    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + auto_preview                   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + build_mode                     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DOCKER&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + built_in_environment_variables </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + cpu                            </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">250</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + deployment_stage_id            </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + dockerfile_path                </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Dockerfile&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + environment_id                 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + environment_variables          </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          + </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + </span><span class="token function" style="color:#d73a49">id</span><span class="token plain">    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + key   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DATABASE_HOST&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">          + </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + </span><span class="token function" style="color:#d73a49">id</span><span class="token plain">    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + key   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DATABASE_NAME&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;postgres&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">          + </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + </span><span class="token function" style="color:#d73a49">id</span><span class="token plain">    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + key   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DATABASE_PORT&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">          + </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + </span><span class="token function" style="color:#d73a49">id</span><span class="token plain">    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + key   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DATABASE_USERNAME&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + external_host                  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + git_repository                 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          + branch    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;main&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          + root_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          + url       </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://github.com/evoxmusic/ShortMe-URL-Shortener.git&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + healthchecks                   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          + liveness_probe  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + failure_threshold     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + initial_delay_seconds </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + period_seconds        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + success_threshold     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + timeout_seconds       </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + </span><span class="token builtin class-name">type</span><span class="token plain">                  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                  + http </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                      + path   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                      + port   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5555</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                      + scheme </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HTTP&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          + readiness_probe </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + failure_threshold     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + initial_delay_seconds </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + period_seconds        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + success_threshold     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + timeout_seconds       </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + </span><span class="token builtin class-name">type</span><span class="token plain">                  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                  + http </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                      + path   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                      + port   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5555</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                      + scheme </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HTTP&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + </span><span class="token function" style="color:#d73a49">id</span><span class="token plain">                             </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + internal_host                  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + max_running_instances          </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + memory                         </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">128</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + min_running_instances          </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + name                           </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;My Backend&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + ports                          </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          + </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + external_port       </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">443</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + </span><span class="token function" style="color:#d73a49">id</span><span class="token plain">                  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + internal_port       </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5555</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + is_default          </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + name                </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + protocol            </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HTTP&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              + publicly_accessible </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + secrets                        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sensitive value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># qovery_database.my_database will be created</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  + resource </span><span class="token string" style="color:#e3116c">&quot;qovery_database&quot;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my_database&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + accessibility       </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;PRIVATE&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + cpu                 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">250</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + deployment_stage_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + environment_id      </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + external_host       </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + </span><span class="token function" style="color:#d73a49">id</span><span class="token plain">                  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + instance_type       </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + internal_host       </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + login               </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + memory              </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">256</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + mode                </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;CONTAINER&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + name                </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;My DB&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + password            </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + port                </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + storage             </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + </span><span class="token builtin class-name">type</span><span class="token plain">                </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;POSTGRESQL&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + version             </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;16&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># qovery_deployment.my_deployment will be created</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  + resource </span><span class="token string" style="color:#e3116c">&quot;qovery_deployment&quot;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my_deployment&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + desired_state  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;RUNNING&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + environment_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + </span><span class="token function" style="color:#d73a49">id</span><span class="token plain">             </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + version        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;a0282bb4-f5bb-44ed-882d-e067f92d106e&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># qovery_environment.production will be created</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  + resource </span><span class="token string" style="color:#e3116c">&quot;qovery_environment&quot;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;production&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + built_in_environment_variables </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + cluster_id                     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;809f9644-b3e4-400b-97fc-e2173d46a00e&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + </span><span class="token function" style="color:#d73a49">id</span><span class="token plain">                             </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + mode                           </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;PRODUCTION&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + name                           </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;production&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + project_id                     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># qovery_project.my_project will be created</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  + resource </span><span class="token string" style="color:#e3116c">&quot;qovery_project&quot;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my_project&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + built_in_environment_variables </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + description                    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + </span><span class="token function" style="color:#d73a49">id</span><span class="token plain">                             </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">known after apply</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + name                           </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;My TF Project&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      + organization_id                </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;141c07c8-0dd9-4623-983b-3fdd61867255&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Plan: </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> to add, </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> to change, </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> to destroy.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_project.my_project: Creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_project.my_project: Creation complete after 1s </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">66ad165a-f7f8-4840-8519-8db11ae7d127</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_environment.production: Creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_environment.production: Creation complete after 1s </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">a51a7e66-af37-425a-92a7-c07b9f1752fc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_database.my_database: Creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_database.my_database: Creation complete after 2s </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">454b5baa-1465-4383-a822-32f1511222a0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_application.my_backend: Creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_application.my_backend: Creation complete after 3s </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">a4ff2488-ad6a-4218-9e52-68aa3ebdd059</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">10s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">20s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">30s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">40s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">50s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">1m0s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">1m10s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">1m20s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">1m30s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">1m40s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">1m50s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">2m0s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">2m10s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">2m20s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">2m30s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">2m40s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">2m50s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">3m0s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">3m10s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Still creating</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">3m20s elapsed</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">qovery_deployment.my_deployment: Creation complete after 3m24s </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">84435485</span><span class="token plain">-eb50-4051-b91f-61f99985edf2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Apply complete</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Resources: </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> added, </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> changed, </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> destroyed.</span></div></div></pre></div></div></details><p>If you edit resources in the Terraform configuration, you can re-apply the changes with <code>terraform apply -auto-approve</code>. Note that for service resources, when you change the configuration, you need to redeploy them by updating the <code>qovery_deployment.version</code> UUID.</p><div class="alert alert--warning alert--icon" role="alert"><i class="feather icon-alert-triangle"></i><p>Once you have tested your Terraform configuration locally, you must clean up the resources with <code>terraform destroy -auto-approve</code> since we will use our CI/CD tool to apply the Terraform configuration and a remote Terraform backend to store the state.</p></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-3-push-the-terraform-configuration-to-a-github-repository"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-3-push-the-terraform-configuration-to-a-github-repository" title="Direct link to heading">#</a>Step 3: Push the Terraform configuration to a GitHub repository</h3><p>Since we have tested the Terraform configuration locally, we can now push it to your Git repository. In my case, I will use GitHub.</p><ol><li>Create a Git repository</li><li>Commit and push the Terraform configuration to the repository</li></ol><div class="alert alert--warning alert--icon" role="alert"><i class="feather icon-alert-triangle"></i><p>Make sure to add the <code>.terraform</code> directory and other generated terraform metafiles to your <code>.gitignore</code> file.</p></div><p>Here is a .gitignore you can use:</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">.gitignore</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-gitignore codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># Local .terraform directories</span></div><div class="token-line" style="color:#393A34"><span class="token plain">**/.terraform/*</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># .tfstate files</span></div><div class="token-line" style="color:#393A34"><span class="token plain">*.tfstate</span></div><div class="token-line" style="color:#393A34"><span class="token plain">*.tfstate.*</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># Crash log files</span></div><div class="token-line" style="color:#393A34"><span class="token plain">crash.log</span></div><div class="token-line" style="color:#393A34"><span class="token plain">crash.*.log</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># Exclude all .tfvars files, which are likely to contain sensitive data, such as</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># password, private keys, and other secrets. These should not be part of version </span></div><div class="token-line" style="color:#393A34"><span class="token plain"># control as they are data points which are potentially sensitive and subject </span></div><div class="token-line" style="color:#393A34"><span class="token plain"># to change depending on the environment.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">*.tfvars</span></div><div class="token-line" style="color:#393A34"><span class="token plain">*.tfvars.json</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># Ignore override files as they are usually used to override resources locally and so</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># are not checked in</span></div><div class="token-line" style="color:#393A34"><span class="token plain">override.tf</span></div><div class="token-line" style="color:#393A34"><span class="token plain">override.tf.json</span></div><div class="token-line" style="color:#393A34"><span class="token plain">*_override.tf</span></div><div class="token-line" style="color:#393A34"><span class="token plain">*_override.tf.json</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># Include override files you do wish to add to version control using negated pattern</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># !example_override.tf</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># Include tfplan files to ignore the plan output of command: terraform plan -out=tfplan</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># example: *tfplan*</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># Ignore CLI configuration files</span></div><div class="token-line" style="color:#393A34"><span class="token plain">.terraformrc</span></div><div class="token-line" style="color:#393A34"><span class="token plain">terraform.rc</span></div></div></pre></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-4-use-github-actions-to-review-and-apply-the-terraform-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-4-use-github-actions-to-review-and-apply-the-terraform-configuration" title="Direct link to heading">#</a>Step 4: Use GitHub Actions to review and apply the Terraform configuration</h3><p>In my case, I will use:</p><ul><li><a href="https://github.com/features/actions">GitHub Actions</a> as a CI tool to review and apply the Terraform.</li><li><a href="https://www.hashicorp.com/cloud">Hashicorp Cloud Platform</a> as a Terraform backend state. </li></ul><p>Note that you can use any CI/CD tool and Terraform backend you want.</p><p><em>This section is inspired by the official <a href="https://developer.hashicorp.com/terraform/tutorials/automation/github-actions">Terraform GitHub Actions documentation</a>.</em></p><p>Here is an example of a GitHub Actions workflow (<a href="https://github.com/evoxmusic/qovery-gitops/blob/main/.github/workflows/terraform-plan.yml">GitHub Link</a>) when a Pull Request is created:</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">.github/workflows/terraform-plan.yml</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-yaml codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Terraform Plan&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">pull_request</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">TF_CLOUD_ORGANIZATION</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;YOUR-ORGANIZATION-HERE&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">TF_API_TOKEN</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${{ secrets.TF_API_TOKEN }}&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">TF_WORKSPACE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;YOUR-WORKSPACE-HERE&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">CONFIG_DIRECTORY</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">terraform</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Terraform Plan&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">runs-on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">permissions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token key atrule" style="color:#00a4db">contents</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> read</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token key atrule" style="color:#00a4db">pull-requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> write</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Checkout</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/checkout@v3</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Upload Configuration</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hashicorp/tfc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">workflows</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">github/actions/upload</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">configuration@v1.0.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> plan</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">upload</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">workspace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.TF_WORKSPACE </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">directory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.CONFIG_DIRECTORY </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">speculative</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Create Plan Run</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hashicorp/tfc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">workflows</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">github/actions/create</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">run@v1.0.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> plan</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">run</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">workspace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.TF_WORKSPACE </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">configuration_version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> steps.plan</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">upload.outputs.configuration_version_id </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">plan_only</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Get Plan Output</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hashicorp/tfc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">workflows</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">github/actions/plan</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">output@v1.0.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> plan</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">output</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">plan</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> fromJSON(steps.plan</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">run.outputs.payload).data.relationships.plan.data.id </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Update PR</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/github</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">script@v6</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> plan</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">comment</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">github-token</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.GITHUB_TOKEN </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">script</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                 // 1. Retrieve existing bot comments for the PR</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                 const { data: comments } = await github.rest.issues.listComments({</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                   owner: context.repo.owner,</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                   repo: context.repo.repo,</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                   issue_number: context.issue.number,</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                 });</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                 const botComment = comments.find(comment =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                   return comment.user.type === &#x27;Bot&#x27; &amp;&amp; comment.body.includes(&#x27;Terraform Cloud Plan Output&#x27;)</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                 });</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                 const output = `#### Terraform Cloud Plan Output</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                    \`\`\`</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                    Plan: ${{ steps.plan-output.outputs.add }} to add, ${{ steps.plan-output.outputs.change }} to change, ${{ steps.plan-output.outputs.destroy }} to destroy.</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                    \`\`\`</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                    [Terraform Cloud Plan](${{ steps.plan-run.outputs.run_link }})</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                    `;</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                 // 3. Delete previous comment so PR timeline makes sense</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                 if (botComment) {</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                   github.rest.issues.deleteComment({</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                     owner: context.repo.owner,</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                     repo: context.repo.repo,</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                     comment_id: botComment.id,</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                   });</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                 }</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                 github.rest.issues.createComment({</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                   issue_number: context.issue.number,</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                   owner: context.repo.owner,</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                   repo: context.repo.repo,</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                   body: output</span></div><div class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                 });</span></div></div></pre></div></div><p>When a Pull Request is created, the GitHub Actions workflow will run the Terraform plan and post the output in the PR comments. So you can <strong>review the changes</strong> before merging the PR.</p><p>Here is an example of a GitHub Actions workflow (<a href="https://github.com/evoxmusic/qovery-gitops/blob/main/.github/workflows/terraform-plan.yml">GitHub Link</a>) when the PR is merged:</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">.github/workflows/terraform-apply.yml</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-yaml codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Terraform Apply&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">push</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> main</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">TF_CLOUD_ORGANIZATION</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;YOUR-ORGANIZATION-HERE&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">TF_API_TOKEN</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${{ secrets.TF_API_TOKEN }}&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">TF_WORKSPACE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;YOUR-WORKSPACE-HERE&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">CONFIG_DIRECTORY</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">terraform</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Terraform Apply&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">runs-on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">permissions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">contents</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> read</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Checkout</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/checkout@v3</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Upload Configuration</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hashicorp/tfc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">workflows</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">github/actions/upload</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">configuration@v1.0.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apply</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">upload</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">workspace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.TF_WORKSPACE </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">directory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.CONFIG_DIRECTORY </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Create Apply Run</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hashicorp/tfc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">workflows</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">github/actions/create</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">run@v1.0.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apply</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">run</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">workspace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.TF_WORKSPACE </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">configuration_version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> steps.apply</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">upload.outputs.configuration_version_id </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Apply</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hashicorp/tfc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">workflows</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">github/actions/apply</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">run@v1.0.0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">if</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fromJSON(steps.apply</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">run.outputs.payload).data.attributes.actions.IsConfirmable</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apply</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> steps.apply</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">run.outputs.run_id </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">comment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Apply Run from GitHub Actions CI ${{ github.sha }}&quot;</span></div></div></pre></div></div><p>When the PR is merged on the main branch, the GitHub Actions workflow will apply the Terraform configuration.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-5-check-the-qovery-console-to-see-the-resources-created"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-5-check-the-qovery-console-to-see-the-resources-created" title="Direct link to heading">#</a>Step 5: Check the Qovery console to see the resources created</h3><p>After the GitHub Actions workflow is completed, you can check the Qovery console to see the resources created.</p><p align="center"><img src="/img/resources-created-with-terraform.jpg" alt="Qovery resources created via Terraform in a GitOps way"></p><p>As you can see, you can manage your infrastructure and applications using Git repositories as the source of truth with Qovery and Terraform.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="frequently-asked-questions-faq"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#frequently-asked-questions-faq" title="Direct link to heading">#</a>Frequently Asked Questions (FAQ)</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="how-to-enforce-gitops"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-to-enforce-gitops" title="Direct link to heading">#</a>How to enforce GitOps?</h3><p>Here are the two things we recommend to enforce GitOps with Qovery:</p><ol><li><a href="/docs/using-qovery/configuration/organization/members-rbac/">Restrict permissions</a> of your users to read-only in Qovery. So only the API Qovery Token used by Terraform will be able to create, update, or delete resources. </li><li>Turn off the <a href="/docs/using-qovery/deployment/deploying-with-auto-deploy/">application auto-deployment</a> in Qovery. If you have linked apps via Git with Qovery, you can turn off the auto-deployment.</li></ol><p>This way, all the changes will be done via the Terraform configuration.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="how-to-gitopsify-an-existing-qovery-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-to-gitopsify-an-existing-qovery-configuration" title="Direct link to heading">#</a>How to &quot;GitOpsify&quot; an existing Qovery configuration?</h3><p>To make your existing configuration GitOps compatible, you can follow these steps:</p><ol><li>Export your existing Qovery configuration with the <a href="/docs/using-qovery/configuration/environment/#terraform-exporter">Terraform exporter</a>.</li><li>Edit your exported Terraform configuration.</li><li>Test the Terraform configuration locally.</li><li>Push the Terraform configuration to a Git repository.</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="how-to-see-configuration-drifts"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-to-see-configuration-drifts" title="Direct link to heading">#</a>How to see configuration drifts?</h3><p>Terraform helps to detect drifts between the desired state and the actual state. When you will create a Pull Request, the GitHub Actions workflow will run the Terraform plan and post the output in the PR comments. So you can review the changes before merging the PR. </p><p>You can also use the <code>terraform plan</code> locally command to see the changes that will be applied.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="how-to-debug"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-to-debug" title="Direct link to heading">#</a>How to debug?</h3><p><strong>Terraform logs</strong>:
Let&#x27;s say you have a problem with the Terraform configuration. You can debug it by checking the Terraform logs in the GitHub Actions workflow. You can also use the Terraform CLI to debug the configuration locally.</p><p><strong>Application logs</strong>:
If the problem is not in the Terraform configuration, you can check the Qovery web console to see the resources created and the associated <a href="/docs/using-qovery/deployment/logs/">logs</a>.</p><p><strong>CI/CD logs</strong>:
You can check the GitHub Actions logs to see the Terraform plan and apply outputs.</p><p><strong>Qovery logs</strong>:
You can check the Qovery <a href="/docs/using-qovery/audit-logs/">Audit Logs</a> to see the changes made by the Terraform configuration.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="how-to-manage-the-terraform-state"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-to-manage-the-terraform-state" title="Direct link to heading">#</a>How to manage the Terraform state?</h3><p>Like in the example above, we recommend using a remote Terraform backend to store the state. This way, you can share the state between your team members and have a history of the changes. You can use the <a href="https://www.hashicorp.com/cloud">Hashicorp Cloud Platform</a> or any other Terraform backend you want.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="how-to-connect-to-get-terraform-cloud-state"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-to-connect-to-get-terraform-cloud-state" title="Direct link to heading">#</a>How to connect to get Terraform Cloud state?</h3><p>Create a <code>backend.tf</code> file in your Terraform configuration with the following content:</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">backend.tf</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-hcl codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">terraform {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   backend &quot;remote&quot; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      hostname     = &quot;app.terraform.io&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      organization = &quot;Qovery&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      workspaces {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         name = &quot;qovery-gitops&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></pre></div></div><p>Refer to <a href="https://support.hashicorp.com/hc/en-us/articles/360001151948-Migrate-Workspace-State-Using-Terraform-State-Push-Pull">this documentation</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="how-to-integrate-tests"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-to-integrate-tests" title="Direct link to heading">#</a>How to integrate tests?</h3><p>You can use the Qovery API to get the resources URLs and integrate them in your CI/CD. For example, you can get the URL of the application and use it in your tests. Look at this guide on <a href="/guides/tutorial/build-e2e-testing-ephemeral-environments/">how to run E2E tests with Qovery and GitHub Actions</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="conclusion"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#conclusion" title="Direct link to heading">#</a>Conclusion</h2><p>In this tutorial, you learned how to do GitOps with Qovery and the Qovery Terraform provider. You defined all the Qovery resources in a Terraform configuration, tested it locally, pushed it to a GitHub repository, used GitHub Actions to review and apply the Terraform configuration, and checked the Qovery console to see the resources created.</p><p>If you have any questions or need help, feel free to ask in the <a href="https://discuss.qovery.com/">Qovery Community Forum</a>.</p></div></article></div></main></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><p>Qovery is a DevOps Automation Platform Helping 200+ Organizations To Ship Faster and Eliminate DevOps Hiring Needs.</p></div><div><a href="https://github.com/qovery" target="_blank"><i class="feather icon-github" alt="Qovery&#x27;s Github Repo"></i></a><a href="https://www.linkedin.com/company/qovery/" target="_blank"><i class="feather icon-rss" alt="Qovery&#x27;s Linkedin"></i></a><a href="https://twitter.com/qovery_" target="_blank"><i class="feather icon-twitter" alt="Qovery&#x27;s Twitter"></i></a></div></div><div class="col footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Documentation</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/guides">Guides</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/guides/tutorial">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/guides/engineering">Engineering</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/pricing" href="https://www.qovery.com/pricing">Pricing</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/enterprise" href="https://www.qovery.com/enterprise">Enterprise</a></li><li class="footer__item"><a class="footer__link-item" to="https://api-doc.qovery.com" href="https://api-doc.qovery.com">API</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery" href="https://github.com/Qovery">Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://community.qovery.com" href="https://community.qovery.com">Forum</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/community-call" href="https://www.qovery.com/community-call">Community call</a></li><li class="footer__item"><a class="footer__link-item" to="https://shop.qovery.com" href="https://shop.qovery.com">Goodies</a></li><li class="footer__item"><a class="footer__link-item" to="https://roadmap.qovery.com" href="https://roadmap.qovery.com">Roadmap</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery/replibyte" href="https://github.com/Qovery/replibyte">Replibyte</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/blog" href="https://www.qovery.com/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" to="https://jobs.qovery.com" href="https://jobs.qovery.com">Jobs</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/team" href="https://www.qovery.com/team">Team</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/investors" href="https://www.qovery.com/investors">Investors</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/contact" href="https://www.qovery.com/contact">Contact</a></li></ul></div></div><div class="text--center"><small> 2024 DESIGNED BY QOVERY | PROUD SILVER MEMBER OF CNCF AND LINUX FOUNDATION | QOVERY BY BIRDSIGHT - ALL RIGHTS RESERVED</small><br></div></div></footer>
</div>

<script src="/styles.2d3014d4.js"></script>

<script src="/runtime~main.7055cd3d.js"></script>

<script src="/main.26342d17.js"></script>

<script src="/1.3618bf60.js"></script>

<script src="/2.67235690.js"></script>

<script src="/3.d7804ff1.js"></script>

<script src="/1c13b173.b98a63f3.js"></script>

<script src="/dfb1c803.b3373016.js"></script>


</body>
</html>