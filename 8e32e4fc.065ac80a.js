/*! For license information please see 8e32e4fc.065ac80a.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{317:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return c})),r.d(t,"metadata",(function(){return l})),r.d(t,"rightToc",(function(){return u})),r.d(t,"default",(function(){return f}));var n=r(1),o=r(9),a=(r(0),r(465)),i=r(472),c={last_modified_on:"2024-08-12",title:"Terraform",description:"Learn how to deploy your Terraform manifest with Qovery"},l={id:"using-qovery/integration/iac/terraform",title:"Terraform",description:"Learn how to deploy your Terraform manifest with Qovery",source:"@site/docs/using-qovery/integration/iac/terraform.md",permalink:"/docs/using-qovery/integration/iac/terraform",sidebar:"docs",previous:{title:"IAC",permalink:"/docs/using-qovery/integration/iac"},next:{title:"Cloudformation",permalink:"/docs/using-qovery/integration/iac/cloudformation"}},u=[{value:"Resources",id:"resources",children:[]}],s={rightToc:u};function f(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(n.a)({},s,r,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"You can deploy any Terraform manifests/templates with Qovery and manage the lifecycle of your own cloud resources. For example, you can deploy your own databases, lambdas, brokers etc..."),Object(a.b)("p",null,"Running and deploying your Terraform manifest/template is achieved via the Qovery Lifecycle Jobs, have a look at ",Object(a.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/using-qovery/integration/iac/"}),"this section")," to know how it works."),Object(a.b)("p",null,"To simplify the configuration, Qovery provides a Terraform configuration template for your Lifecycle job, allowing you to package your manifest and run it with the Terraform CLI directly on your cluster."),Object(a.b)("p",null,"Follow these steps to create and deploy your Terraform manifest/template:"),Object(a.b)(i.a,{headingDepth:3,mdxType:"Steps"},Object(a.b)("ol",null,Object(a.b)("li",null,"Add a new service",Object(a.b)("p",null,'Enter the environment where you want to deploy your Terraform manifest and select the "Add Service" button ')),Object(a.b)("li",null,"Use the Terraform template",Object(a.b)("p",null,'Select the "Terraform" option in the service creation list and follow the steps.')),Object(a.b)("li",null,"Manifest location",Object(a.b)("p",null,"Provide the location of your manifest within your git repository")),Object(a.b)("li",null,"Customize your configuration",Object(a.b)("p",null,"Qovery provides you with a pre-configuration for your lifecycle job capable to run and deploy your Terraform:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Dockerfile"),': you will find a Dockerfile capable to package your manifest/template and run the right Terraform command depending on the event triggered (Example: the "start" command executes "Terraform apply .."). Customize this file to match your needs (backend config, additional configuration etc..)'),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Triggers"),": you will find the default triggers and commands based on the default Dockerfile."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Resources"),": you will find a default CPU/Memory values capable to run the Terraform CLI on a Kubernetes job"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Environment variables"),": you will be able to provide the input of your Terraform manifest/template as file, which will be stored as an ",Object(a.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/using-qovery/configuration/environment-variable/#environment-variable-as-file"}),"environment variable as file"),". You can also add additional environment variables necessary to run the Terraform commands (like AWS_SECRET_ACCESS_KEY etc..)"))),Object(a.b)("li",null,"Create & Deploy",Object(a.b)("p",null,"Once it is all set, you can Create and Deploy your Terraform job. This will trigger the execution and deployment of the Terraform manifest/template.")),Object(a.b)("li",null,"Access the Terraform output",Object(a.b)("p",null,"If your Terraform manifest/template generates an output (see ",Object(a.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/using-qovery/configuration/lifecycle-job/#job-output"}),"Lifecycle job output")," for more information), the output will be fetched and injected as environment variable to any service of the same environment. It will allow those services to access the newly created resource."),Object(a.b)("p",{align:"center"},Object(a.b)("img",{src:"/img/configuration/job/job_output.png",alt:"Job output"}))))),Object(a.b)("h3",{id:"resources"},"Resources"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/using-qovery/configuration/lifecycle-job/"}),"Qovery Lifecycle Job Documentation")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/Qovery/lifecycle-job-examples"}),"Qovery Lifecycle Job Examples")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(n.a)({parentName:"li"},{href:"/guides/tutorial/how-to-use-lifecycle-job-to-deploy-any-kind-of-resources/"}),"How to deploy any resource with Lifecycle Jobs"))))}f.isMDXComponent=!0},463:function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var i=o.apply(null,n);i&&e.push(i)}else if("object"===a)for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},465:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return m}));var n=r(0),o=r.n(n);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var u=o.a.createContext({}),s=function(e){var t=o.a.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):c({},t,{},e)),r},f=function(e){var t=s(e.components);return o.a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},b=Object(n.forwardRef)((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,i=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),f=s(r),b=n,m=f["".concat(i,".").concat(b)]||f[b]||p[b]||a;return r?o.a.createElement(m,c({ref:t},u,{components:r})):o.a.createElement(m,c({ref:t},u))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,i=new Array(a);i[0]=b;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var u=2;u<a;u++)i[u]=r[u];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"},471:function(e,t,r){"use strict";var n=r(475),o=r(51);function a(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=o({arrayFormat:"none"},t)),n=Object.create(null);return"string"!=typeof e?n:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:decodeURIComponent(a),r(decodeURIComponent(o),a,n)})),Object.keys(n).sort().reduce((function(e,t){var r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(r):e[t]=r,e}),Object.create(null))):n},t.stringify=function(e,t){var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[a(t,e),"[",n,"]"].join(""):[a(t,e),"[",a(n,e),"]=",a(r,e)].join("")};case"bracket":return function(t,r){return null===r?a(t,e):[a(t,e),"[]=",a(r,e)].join("")};default:return function(t,r){return null===r?a(t,e):[a(t,e),"=",a(r,e)].join("")}}}(t=o({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(n){var o=e[n];if(void 0===o)return"";if(null===o)return a(n,t);if(Array.isArray(o)){var i=[];return o.slice().forEach((function(e){void 0!==e&&i.push(r(n,e,i.length))})),i.join("&")}return a(n,t)+"="+a(o,t)})).filter((function(e){return e.length>0})).join("&"):""}},472:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=(r(463),r(471)),i=r.n(a);r(133);t.a=function(e){var t=e.children,r=e.headingDepth,a=e.hideFeedbackQuestion,c="undefined"!=typeof window?window.location:null,l={title:"Tutorial on "+c+" failed",body:"The tutorial on:\n\n"+c+"\n\nHere's what went wrong:\n\n\x3c!-- Insert command output and details. Thank you for reporting! :) --\x3e"},u="https://github.com/qovery/documentation/issues/new?"+i.a.stringify(l),s=Object(n.useState)(null),f=s[0],p=s[1];return o.a.createElement("div",{className:"steps steps--h"+r},t,!a&&!f&&o.a.createElement("div",{className:"steps--feedback"},"How was it? Did this tutorial work?\xa0\xa0",o.a.createElement("span",{className:"button button--sm button--primary",onClick:function(){return p("yes")}},"Yes"),"\xa0\xa0",o.a.createElement("a",{href:u,target:"_blank",className:"button button--sm button--primary"},"No")),"yes"==f&&o.a.createElement("div",{className:"steps--feedback steps--feedback--success"},"Thanks! If you're enjoying Qovery please consider ",o.a.createElement("a",{href:"https://github.com/qovery/documentation/",target:"_blank"},"starring our Github repo"),"."))}},475:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}}}]);