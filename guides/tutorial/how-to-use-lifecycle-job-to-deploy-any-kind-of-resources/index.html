<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<link rel="preconnect" href="https://phprox.qovery.com">
<script>!function(t,e){var o,p,i,n;e.__SV||(window.posthog=e,e._i=[],e.init=function(r,s,c){function a(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.src=s.api_host+"/static/array.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n);var g=e;for(void 0!==c?g=e[c]=[]:c="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==c&&(e+="."+c),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<o.length;p++)a(g,o[p]);e._i.push([r,s,c])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_IgdG1K2GveDUte1gJ6hlwNbFHCv9nViWETUyLMU7ciq",{api_host:"https://phprox.qovery.com"})</script>
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Qovery Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Qovery Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<script src="/js/intercom.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=UA-129773960-5" async></script>
<script src="/js/ga.js"></script>

<title data-react-helmet="true">How To Use Lifecycle Job To Deploy Any Kind Of Resources | Qovery</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="How To Use Lifecycle Job To Deploy Any Kind Of Resources | Qovery"><meta data-react-helmet="true" name="msapplication-TileColor" content="#da532c"><meta data-react-helmet="true" name="theme-color" content="#ffffff"><meta data-react-helmet="true" name="description" content="How To Use Lifecycle Job To Deploy Any Kind Of Resources, in minutes, for free"><meta data-react-helmet="true" property="og:description" content="How To Use Lifecycle Job To Deploy Any Kind Of Resources, in minutes, for free"><meta data-react-helmet="true" property="og:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for How To Use Lifecycle Job To Deploy Any Kind Of Resources | Qovery"><meta data-react-helmet="true" property="og:url" content="https://docs.qovery.com/guides/tutorial/how-to-use-lifecycle-job-to-deploy-any-kind-of-resources/"><meta data-react-helmet="true" name="twitter:card" content="summary">

<link data-react-helmet="true" rel="icon" href="/favicons/favicon.svg"><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png"><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"><link data-react-helmet="true" rel="manifest" href="/favicons/site.webmanifest"><link data-react-helmet="true" rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5"><link data-react-helmet="true" rel="canonical" href="https://docs.qovery.com/guides/tutorial/how-to-use-lifecycle-job-to-deploy-any-kind-of-resources/">


<link rel="stylesheet" href="/styles.90c21fa3.css">


<link rel="preload" href="/styles.255c8fd1.js" as="script">

<link rel="preload" href="/runtime~main.27c29f08.js" as="script">

<link rel="preload" href="/main.7be101da.js" as="script">

<link rel="preload" href="/1.385570ab.js" as="script">

<link rel="preload" href="/2.91632de6.js" as="script">

<link rel="preload" href="/3.ac200c48.js" as="script">

<link rel="preload" href="/1c13b173.a1d42003.js" as="script">

<link rel="preload" href="/6b7a52aa.85ed9baf.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/">Guides</a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/tutorial">Tutorials</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"><i class="feather icon-github"></i> </a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_34Mc moon_313u"></span></div><div class="react-toggle-track-x"><span class="toggle_34Mc sun_1Og-"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/">Guides</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" href="/docs/">Docs</a></li><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/tutorial">Tutorials</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"></a></li></ul></div></div></div></nav><div class="main-wrapper"><header class="hero domain-bg domain-bg--default"><div class="container"><div class="hero--category"><a aria-current="page" class="active" href="/guides/tutorial/">tutorial</a></div><h1 class="header_1mJE">How To Use Lifecycle Job To Deploy Any Kind Of Resources</h1><div class="hero--subtitle">Learn how to use Lifecycle Job to deploy any kind of resources with Qovery.</div><div class="tags_3AF9"><a class="badge badge--rounded badge--pink" href="/guides/tags/type-tutorial/">type: tutorial</a><a class="badge badge--rounded badge--primary" href="/guides/tags/technology-qovery/">technology: qovery</a></div></div></header><main class="container container--l container_1ncB"><aside class="sidebar_1pU0"><section class="avatar_1sJg"><div class="avatar avatar--lg avatar--vertical"><img class="avatar__photo avatar__photo--lg" src="https://github.com/evoxmusic.png"><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/evoxmusic" target="_blank" rel="author">Romaric P.</a></div><small class="avatar__subtitle">Romaric is a Software Engineer, and CEO at <a href="https://www.qovery.com">Qovery</a>. He has 10+ years of experience in R&D. From the Ad-Tech to the financial industry, he has deep expertise in highly-reliable and performant systems.
</small></div></div></section><section class="table-of-contents tableOfContents_1eMQ"><div class="section"><div class="title">Stats</div><div class="text--secondary text--bold"><i class="feather icon-book"></i> 10 min read</div><div class="text--secondary text--bold"><i class="feather icon-clock"></i> Updated <time pubdate="pubdate" datetime="2023-08-14">Aug 14th, 2023</time></div></div><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#overview" class="contents__link">Overview</a></li><li><a href="#how-to-use-lifecycle-job-example-with-terraform" class="contents__link">How to use Lifecycle Job (example with Terraform)</a><ul><li><a href="#execution-flow" class="contents__link">Execution Flow</a></li><li><a href="#create-a-lifecycle-job" class="contents__link">Create a Lifecycle Job</a></li><li><a href="#make-your-terraform-deployment-multi-environments-ready" class="contents__link">Make your Terraform deployment multi-environments ready</a></li><li><a href="#deploy-aws-rds-mysql-instance" class="contents__link">Deploy AWS RDS MySQL instance</a></li><li><a href="#get-the-mysql-rds-credentials-from-the-lifecycle-job" class="contents__link">Get the MySQL RDS credentials from the Lifecycle Job</a></li></ul></li><li><a href="#faq" class="contents__link">FAQ</a><ul><li><a href="#what-happen-if-i-delete-my-environment-with-your-example" class="contents__link">What happen if I delete my environment with your example?</a></li><li><a href="#can-i-use-the-lifecycle-job-to-deploy-my-application" class="contents__link">Can I use the Lifecycle Job to deploy my application?</a></li><li><a href="#what-happen-if-i-clone-my-environment-with-the-lifecycle-job" class="contents__link">What happen if I clone my Environment with the Lifecycle Job?</a></li><li><a href="#what-happen-if-i-modify-my-lifecycle-job-after-my-environment-is-deployed" class="contents__link">What happen if I modify my Lifecycle Job after my Environment is deployed?</a></li></ul></li><li><a href="#wrapping-up" class="contents__link">Wrapping up</a></li></ul></div></section></aside><div class="article_mCV7"><article><div class="markdown"><a aria-hidden="true" tabindex="-1" class="anchor" id="overview"></a><p>The <a href="/docs/using-qovery/configuration/lifecycle-job/">Lifecycle Job</a> is a powerful feature that allows you to run any kind of commands before or after your environment is deployed. It can be used to run database migrations, create a new database, or even to run a script that will create a new user.</p><p>Some use cases:</p><ul><li>Run Terraform, Pulumi, or any other infrastructure as code tool to create resources.</li><li>You want to deploy SQS, SNS, Lambdas, or any other AWS resources.</li><li>You want to deploy MongoDB Atlas, Google BigQuery, or any other cloud services.</li><li>Seed your database when your environment is created.</li></ul><div class="alert alert--success alert--icon" role="alert"><i class="feather icon-check-circle"></i><p>You can find some Lifecycle Jobs examples on our <a href="https://github.com/Qovery/lifecycle-job-examples">GitHub</a>.</p></div><p>In a more general way, you can see the Lifecycle Job as a way to create and destroy resources when your environment is deployed or deleted. Possibilities are endless.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="how-to-use-lifecycle-job-example-with-terraform"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-to-use-lifecycle-job-example-with-terraform" title="Direct link to heading">#</a>How to use Lifecycle Job (example with Terraform)</h2><p>In this example, we will use Terraform to create a new AWS RDS MySQL instance. I will use <a href="https://github.com/Qovery/lifecycle-job-examples/tree/main/examples/aws-rds-with-terraform">this example</a> to schematize the process of using the Lifecycle Job. ⚠️ Note that you can use any other tool to create your resources. Lifecycle Job is not limited to Terraform. However, Terraform is a great way to show the power of the Lifecycle Job since it requires a lot of configuration and can be used to create a lot of different resources.</p><div class="alert alert--info alert--icon" role="alert"><i class="feather icon-info"></i><p>In our example, we use S3 as a Terraform backend. You can use any other backend you want. However, if you want to use S3, you need to create a new bucket and a new IAM user with the right permissions. You can find more information about this in the <a href="https://www.terraform.io/docs/language/settings/backends/s3.html">Terraform documentation</a>.</p></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="execution-flow"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#execution-flow" title="Direct link to heading">#</a>Execution Flow</h3><p>Here is the execution flow when my Environment is deployed:</p><ol><li>Qovery builds my Lifecycle Job (and my others services).</li><li>Qovery runs my Lifecycle Job <strong>Start Event</strong> (and my others services).</li><li>My Lifecycle Job creates a new AWS RDS MySQL instance.</li><li>My Lifecycle Job injects the database credentials into a <code>/qovery-output/qovery-output.json</code> file.</li><li>Qovery reads the <code>/qovery-output/qovery-output.json</code> file and injects the database credentials into my Environment Variables.</li><li>My others services can access my database.</li></ol><p>When my Environment is deleted:</p><ol><li>Qovery runs my Lifecycle Job <strong>Deleted Event</strong></li><li>My Lifecycle Job destroys the AWS RDS MySQL instance.</li><li>Qovery destroys my Environment and release all the resources.</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="create-a-lifecycle-job"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-a-lifecycle-job" title="Direct link to heading">#</a>Create a Lifecycle Job</h3><div class="alert alert--info alert--fill" role="alert"><p class="text--lg margin-bottom--sm" style="margin-top:-0.25em">Before you begin, this page assumes the following:</p><ul><li>You have a <a href="https://start.qovery.com">Qovery account</a></li><li>You have an existing project and an existing environment.</li></ul></div><div class="steps steps--h3"><ol><li><p>Fork <a href="https://github.com/Qovery/lifecycle-job-examples">this repository</a>.</p></li><li><p>Go inside your Environment, and add a <strong>Lifecycle Job</strong>.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/1.png" alt=""></p></li><li><p>Give a name, description, pick your GitHub account, and select the repository of the Lifecycle Job. In our example, the root application path is <code>/examples/aws-rds-with-terraform</code>.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/2.png" alt=""></p></li><li><p>Since we are using Terraform, we want to make sure that our MySQL RDS instance is created when our Environment is deployed. So we select the <strong>Start Event</strong>.
We also want to make sure that our MySQL RDS instance is destroyed when our Environment is deleted. So we select the <strong>Deleted Event</strong>.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/3.png" alt=""></p><p>If you look at our <a href="https://github.com/Qovery/lifecycle-job-examples/blob/main/examples/aws-rds-with-terraform/Dockerfile">Dockerfile</a> in the repository, you will see that we are using the official Terraform image. I have also inserted by default the <code>ENTRYPOINT [&quot;/bin/sh&quot;]</code> to simplify the Qovery Lifecycle Job configuration.</p><p>For the <strong>Start Event</strong>, we want to run the <code>terraform apply -no-color -auto-approve</code> command. We don&#x27;t need to run the <code>terraform init</code> command since it is already done in the <a href="https://github.com/Qovery/lifecycle-job-examples/blob/main/examples/aws-rds-with-terraform/Dockerfile#L14">Dockerfile</a>.</p><p>You will also notice that we are also using <code>&amp;&amp; terraform output -json &gt; /qovery-output/qovery-output.json</code> to create a <code>/qovery-output/qovery-output.json</code> file. This file will be used by Qovery to inject the database credentials into our Environment Variables. We will cover this part later.</p><p>For the <strong>Deleted Event</strong>, we want to run the <code>terraform destroy -no-color -auto-approve</code> command.</p><p>So for the <strong>Start Event</strong>, we have: <code>[&quot;-c&quot;,&quot;terraform apply -no-color -auto-approve &amp;&amp; terraform output -json &gt; /qovery-output/qovery-output.json&quot;]</code> and for the <strong>Deleted Event</strong>, we have: <code>[&quot;-c&quot;,&quot;terraform destroy -no-color -auto-approve&quot;]</code>. Feel free to copy/paste these commands.</p><div class="alert alert--warning alert--icon" role="alert"><i class="feather icon-alert-triangle"></i><p>Yes the commands contains a comma. It is not a typo. It is a JSON array. You need to use a comma to separate the elements of the array.</p></div></li><li><p>I recommend setting the <strong>Timeout</strong> to 1800 seconds (30 minutes). It is the maximum time your Lifecycle Job can run. If your Lifecycle Job takes more than 30 minutes to run it will be stopped by Qovery. In our case, it should take less than 10 minutes to create the AWS RDS MySQL instance. But let&#x27;s be safe.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/4.png" alt=""></p><p>Click <strong>Continue</strong>.</p></li><li><p>Now we need to set the vCPU and RAM required to run our Job. We can allocate 0.5 CPU and 256 MB of RAM. It&#x27;s more than enough.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/5.png" alt=""></p></li><li><p>We need to set the Environment Variables required by our Lifecycle Job. In our case, we need to set the AWS credentials and some other environment variables. If you look at our <a href="https://github.com/Qovery/lifecycle-job-examples/blob/main/examples/aws-rds-with-terraform/Dockerfile#L3-L7">Dockerfile</a>, you will find the declaration of all those environment variables. You can copy/paste them.</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">Dockerfile</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-Dockerfile codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">...</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ARG TF_VAR_terraform_backend_bucket</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ARG TF_VAR_aws_region</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ARG TF_VAR_aws_access_key_id</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ARG TF_VAR_aws_secret_access_key</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ARG TF_VAR_qovery_environment_id</span></div><div class="token-line" style="color:#393A34"><span class="token plain">...</span></div></div></pre></div></div><p>Those are the ones that we need to set.</p><div class="alert alert--warning alert--icon" role="alert"><i class="feather icon-alert-triangle"></i><ol><li>We do not set here the <code>TF_VAR_qovery_environment_id</code> since we will create it in the next step.</li><li><code>TF_VAR_terraform_backend_bucket</code> is the name of the S3 bucket where Terraform will store the state of your infrastructure. You need to create this bucket on S3 before running the Lifecycle Job. You can use the same bucket for all your Lifecycle Jobs. It is not a problem. You will just need to make sure that the S3 object key is unique.</li></ol></div><p align="center"><img src="/img/how-to-use-lifecycle-job/6.png" alt=""></p><p>Click on <strong>Continue</strong>.</p></li><li><p>Then click on <strong>Create</strong> (and not <strong>Create and Deploy</strong>).</p><p align="center"><img src="/img/how-to-use-lifecycle-job/7.png" alt=""></p></li><p>Congrats, your Lifecycle Job is created. Now we just need to add the <code>TF_VAR_qovery_environment_id</code> environment variable before launching it.</p></ol><div class="steps--feedback">How was it? Did this tutorial work?  <span class="button button--sm button--primary">Yes</span>  <a href="https://github.com/qovery/documentation/issues/new?body=The%20tutorial%20on%3A%0A%0Anull%0A%0AHere%27s%20what%20went%20wrong%3A%0A%0A%3C%21--%20Insert%20command%20output%20and%20details.%20Thank%20you%20for%20reporting%21%20%3A%29%20--%3E&amp;title=Tutorial%20on%20null%20failed" target="_blank" class="button button--sm button--primary">No</a></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="make-your-terraform-deployment-multi-environments-ready"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#make-your-terraform-deployment-multi-environments-ready" title="Direct link to heading">#</a>Make your Terraform deployment multi-environments ready</h3><p>To support multiple environments, we need to make sure that the name of the S3 object key where Terraform will store the state of your infrastructure is unique. To do that, we will use the <code>TF_VAR_qovery_environment_id</code> environment variable. This environment variable is automatically created by Qovery and contains the ID of your Environment. We just need to create an environment variable alias.</p><div class="steps steps--h3"><ol><li><p>Go inside your <strong>MySQL RDS</strong> service, click on the <strong>Variables</strong> tab.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/8.png" alt=""></p></li><li><p>Search for <code>QOVERY_ENVIRONMENT_ID</code> built-in environment variable. Then click on <strong>Creat alias</strong></p><p align="center"><img src="/img/how-to-use-lifecycle-job/9.png" alt=""></p></li><li><p>Set the name of the environment variable to <code>TF_VAR_qovery_environment_id</code> with a <strong>service</strong> scope and click on <strong>Confirm</strong>.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/10.png" alt=""></p></li></ol><div class="steps--feedback">How was it? Did this tutorial work?  <span class="button button--sm button--primary">Yes</span>  <a href="https://github.com/qovery/documentation/issues/new?body=The%20tutorial%20on%3A%0A%0Anull%0A%0AHere%27s%20what%20went%20wrong%3A%0A%0A%3C%21--%20Insert%20command%20output%20and%20details.%20Thank%20you%20for%20reporting%21%20%3A%29%20--%3E&amp;title=Tutorial%20on%20null%20failed" target="_blank" class="button button--sm button--primary">No</a></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="deploy-aws-rds-mysql-instance"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#deploy-aws-rds-mysql-instance" title="Direct link to heading">#</a>Deploy AWS RDS MySQL instance</h3><div class="steps steps--h3"><ol><li><p>Now you are ready to deploy your Lifecycle Job and see what happened.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/11.png" alt=""></p><p>The job execution will take approximately 3 to 10 minutes.</p></li><li><p>Follow the logs of the job execution by clicking on the <strong>Logs</strong> button.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/12.png" alt=""></p><p>From the <strong>Deployment logs</strong> tab you can see that your Lifecycle Job is built and that the <code>terraform init</code> command is executed.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/13.png" alt=""></p><p>From the <strong>MySQL RDS</strong> tab you can see that the <code>terraform apply -no-color -auto-approve</code> command is executed. The creation of the AWS RDS MySQL instance is in progress.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/14.png" alt=""></p></li><li><p>Once the deployment is done, you should see that the AWS RDS MySQL instance is green and completed.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/15.png" alt=""></p></li></ol><div class="steps--feedback">How was it? Did this tutorial work?  <span class="button button--sm button--primary">Yes</span>  <a href="https://github.com/qovery/documentation/issues/new?body=The%20tutorial%20on%3A%0A%0Anull%0A%0AHere%27s%20what%20went%20wrong%3A%0A%0A%3C%21--%20Insert%20command%20output%20and%20details.%20Thank%20you%20for%20reporting%21%20%3A%29%20--%3E&amp;title=Tutorial%20on%20null%20failed" target="_blank" class="button button--sm button--primary">No</a></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="get-the-mysql-rds-credentials-from-the-lifecycle-job"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#get-the-mysql-rds-credentials-from-the-lifecycle-job" title="Direct link to heading">#</a>Get the MySQL RDS credentials from the Lifecycle Job</h3><p>Now that the AWS RDS MySQL instance is created, we need to get the credentials to connect to it. We have use the <code>terraform output -json &gt; /qovery-output/qovery-output.json</code> command to get the credentials. If you go back to the <code>Variables</code> tab of your MySQL RDS service, you will see that the <code>QOVERY_OUTPUT_**</code> environment variables are created.</p><p align="center"><img src="/img/how-to-use-lifecycle-job/16.png" alt=""></p><p>By using <code>terraform output -json &gt; /qovery-output/qovery-output.json</code> Qovery automatically create those environment variables for you. You can use them in your application to connect to the AWS RDS MySQL instance. <a href="/docs/using-qovery/configuration/lifecycle-job/#job-output">Learn more on how Lifecycle Job output...</a></p><div class="alert alert--success alert--icon" role="alert"><i class="feather icon-check-circle"></i><p>Job output is a powerful feature that allows you to get the output of your Lifecycle Job and use it in your application. You can use it to get the credentials of your database, the URL of your S3 bucket, the URL of your CDN, etc...</p></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="faq"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#faq" title="Direct link to heading">#</a>FAQ</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-happen-if-i-delete-my-environment-with-your-example"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-happen-if-i-delete-my-environment-with-your-example" title="Direct link to heading">#</a>What happen if I delete my environment with your example?</h3><p>If you delete your environment, the AWS RDS MySQL instance will be deleted too. You can see that in the <strong>MySQL RDS</strong> service logs. You will see that the <code>terraform destroy -no-color -auto-approve</code> command is executed.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="can-i-use-the-lifecycle-job-to-deploy-my-application"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#can-i-use-the-lifecycle-job-to-deploy-my-application" title="Direct link to heading">#</a>Can I use the Lifecycle Job to deploy my application?</h3><p>Some users ask us if they can use the Lifecycle Job to deploy their application. The answer is yes!. The Lifecycle Job is designed to deploy all type of resources. However, we recommend using the official Qovery way to deploy applications. <a href="/docs/using-qovery/configuration/application/">Learn more on how to deploy your application...</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-happen-if-i-clone-my-environment-with-the-lifecycle-job"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-happen-if-i-clone-my-environment-with-the-lifecycle-job" title="Direct link to heading">#</a>What happen if I clone my Environment with the Lifecycle Job?</h3><p>If you clone an Environment with the Lifecycle Job, the Lifecycle Job will be cloned too. In our example we have set the <code>TF_VAR_qovery_environment_id</code> environment variable to the <code>QOVERY_ENVIRONMENT_ID</code> built-in environment variable. So when you clone your Environment, the <code>QOVERY_ENVIRONMENT_ID</code> built-in environment variable will be different. That&#x27;s why you need to create a new alias environment variable for the <code>QOVERY_ENVIRONMENT_ID</code> built-in environment variable. <a href="/docs/using-qovery/configuration/environment/#clone-environment">Learn more on how to clone an Environment...</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-happen-if-i-modify-my-lifecycle-job-after-my-environment-is-deployed"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-happen-if-i-modify-my-lifecycle-job-after-my-environment-is-deployed" title="Direct link to heading">#</a>What happen if I modify my Lifecycle Job after my Environment is deployed?</h3><p>If you modify your Lifecycle Job after your Environment is deployed, the Lifecycle Job will be redeployed. In our example, since the state of our AWS RDS MySQL instance is stored in the S3 bucket, the AWS RDS MySQL instance will not be recreated. However, if you modify the <code>main.tf</code> file, the AWS RDS MySQL instance will be updated.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="wrapping-up"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#wrapping-up" title="Direct link to heading">#</a>Wrapping up</h2><p>In this guide, we have seen how to use the Lifecycle Job to create an AWS RDS MySQL instance with Terraform. We have also seen how to get the credentials of the AWS RDS MySQL instance to connect to it from our application. To learn more about the Lifecycle Job, you can read the <a href="/docs/using-qovery/configuration/lifecycle-job/">Lifecycle Job documentation</a>. To get more examples, check out the <a href="https://github.com/Qovery/lifecycle-job-examples">Qovery Lifecycle Examples repository</a>.</p></div></article></div></main></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><p>Qovery is a DevOps Automation Platform Helping 200+ Organizations To Ship Faster and Eliminate DevOps Hiring Needs.</p></div><div><a href="https://github.com/qovery" target="_blank"><i class="feather icon-github" alt="Qovery&#x27;s Github Repo"></i></a>    <a href="https://www.linkedin.com/company/qovery/" target="_blank"><i class="feather icon-rss" alt="Qovery&#x27;s Linkedin"></i></a>    <a href="https://twitter.com/qovery_" target="_blank"><i class="feather icon-twitter" alt="Qovery&#x27;s Twitter"></i></a></div></div><div class="col footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Documentation</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/guides">Guides</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/guides/tutorial">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/guides/engineering">Engineering</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/pricing" href="https://www.qovery.com/pricing">Pricing</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/enterprise" href="https://www.qovery.com/enterprise">Enterprise</a></li><li class="footer__item"><a class="footer__link-item" to="https://api-doc.qovery.com" href="https://api-doc.qovery.com">API</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery" href="https://github.com/Qovery">Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://community.qovery.com" href="https://community.qovery.com">Forum</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/community-call" href="https://www.qovery.com/community-call">Community call</a></li><li class="footer__item"><a class="footer__link-item" to="https://shop.qovery.com" href="https://shop.qovery.com">Goodies</a></li><li class="footer__item"><a class="footer__link-item" to="https://roadmap.qovery.com" href="https://roadmap.qovery.com">Roadmap</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery/replibyte" href="https://github.com/Qovery/replibyte">Replibyte</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/blog" href="https://www.qovery.com/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" to="https://jobs.qovery.com" href="https://jobs.qovery.com">Jobs</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/team" href="https://www.qovery.com/team">Team</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/investors" href="https://www.qovery.com/investors">Investors</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/contact" href="https://www.qovery.com/contact">Contact</a></li></ul></div></div><div class="text--center"><small>© 2025 DESIGNED BY QOVERY | PROUD SILVER MEMBER OF CNCF AND LINUX FOUNDATION | QOVERY BY BIRDSIGHT - ALL RIGHTS RESERVED</small><br></div></div></footer>
</div>

<script src="/styles.255c8fd1.js"></script>

<script src="/runtime~main.27c29f08.js"></script>

<script src="/main.7be101da.js"></script>

<script src="/1.385570ab.js"></script>

<script src="/2.91632de6.js"></script>

<script src="/3.ac200c48.js"></script>

<script src="/1c13b173.a1d42003.js"></script>

<script src="/6b7a52aa.85ed9baf.js"></script>


</body>
</html>